<!DOCTYPE html><html lang="zh" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://0richalcos.github.io/Note/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle.html"><link rel="prev" href="OceanBase.html"><link rel="next" href="Redis.html"><link rel="icon" href="../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Oracle - éšä¾¿è®°è®°</title><link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css"><link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../_stylesheets/extra.css"><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#1oracle-ç®€ä»‹" class="md-skip"> è·³è½¬è‡³ </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰"> <a href="../index.html" title="éšä¾¿è®°è®°" class="md-header__button md-logo" aria-label="éšä¾¿è®°è®°" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> éšä¾¿è®°è®° </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Oracle </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal" aria-label="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class="md-option" data-md-color-media data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal" aria-label="åˆ‡æ¢åˆ°äº®è‰²æ¨¡å¼" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="åˆ‡æ¢åˆ°äº®è‰²æ¨¡å¼" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="æŸ¥æ‰¾"> <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“ </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/0richalcos/Note" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary" aria-label="å¯¼èˆªæ " data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../index.html" title="éšä¾¿è®°è®°" class="md-nav__button md-logo" aria-label="éšä¾¿è®°è®°" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> éšä¾¿è®°è®° </label> <div class="md-nav__source"> <a href="https://github.com/0richalcos/Note" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../index.html" class="md-nav__link"> <span class="md-ellipsis"> ğŸ  é¦–é¡µ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2"> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0"> <span class="md-ellipsis"> â™¨ï¸ Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> â™¨ï¸ Java </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../Java/Java.html" class="md-nav__link"> <span class="md-ellipsis"> Java </span> </a> </li> <li class="md-nav__item"> <a href="../Java/Java8.html" class="md-nav__link"> <span class="md-ellipsis"> Java 8 </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaBasics.html" class="md-nav__link"> <span class="md-ellipsis"> Java åŸºç¡€ </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaCollection.html" class="md-nav__link"> <span class="md-ellipsis"> Java é›†åˆ </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaObject.html" class="md-nav__link"> <span class="md-ellipsis"> Java ç±»å’Œå¯¹è±¡ </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaWeb.html" class="md-nav__link"> <span class="md-ellipsis"> JavaWeb </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0"> <span class="md-ellipsis"> ğŸ§® æ•°æ®ç»“æ„åŠç®—æ³• </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> ğŸ§® æ•°æ®ç»“æ„åŠç®—æ³• </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/Algorithm.html" class="md-nav__link"> <span class="md-ellipsis"> Algorithm </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/DesignPattern.html" class="md-nav__link"> <span class="md-ellipsis"> DesignPattern </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-ellipsis"> ğŸƒ Spring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> ğŸƒ Spring </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../Spring/Spring.html" class="md-nav__link"> <span class="md-ellipsis"> Spring </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringBoot.html" class="md-nav__link"> <span class="md-ellipsis"> SpringBoot </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringCloud.html" class="md-nav__link"> <span class="md-ellipsis"> SpringCloud </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringMVC.html" class="md-nav__link"> <span class="md-ellipsis"> SpringMVC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0"> <span class="md-ellipsis"> ğŸ’¾ æŒä¹…å±‚æ¡†æ¶ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> ğŸ’¾ æŒä¹…å±‚æ¡†æ¶ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/MyBatis-Plus.html" class="md-nav__link"> <span class="md-ellipsis"> MyBatis-Plus </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/Mybatis.html" class="md-nav__link"> <span class="md-ellipsis"> Mybatis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0"> <span class="md-ellipsis"> ğŸ” è®¤è¯ä¸æˆæƒ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> ğŸ” è®¤è¯ä¸æˆæƒ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/SSO.html" class="md-nav__link"> <span class="md-ellipsis"> SSO </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/Sa-Token.html" class="md-nav__link"> <span class="md-ellipsis"> Sa-Token </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/Shiro.html" class="md-nav__link"> <span class="md-ellipsis"> Shiro </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7"> <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0"> <span class="md-ellipsis"> ğŸŒ å‰ç«¯ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> ğŸŒ å‰ç«¯ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/CSS.html" class="md-nav__link"> <span class="md-ellipsis"> CSS </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/JavaScript.html" class="md-nav__link"> <span class="md-ellipsis"> JavaScript </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/Vue.html" class="md-nav__link"> <span class="md-ellipsis"> Vue </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/jQuery.html" class="md-nav__link"> <span class="md-ellipsis"> jQuery </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5"> <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0"> <span class="md-ellipsis"> æ¨¡æ¿å¼•æ“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_5"> <span class="md-nav__icon md-icon"></span> æ¨¡æ¿å¼•æ“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/Thymeleaf.html" class="md-nav__link"> <span class="md-ellipsis"> Thymeleaf </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6"> <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0"> <span class="md-ellipsis"> ç»„ä»¶åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_6"> <span class="md-nav__icon md-icon"></span> ç»„ä»¶åº“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/AntV-X6.html" class="md-nav__link"> <span class="md-ellipsis"> AntV-X6 </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/ApacheECharts.html" class="md-nav__link"> <span class="md-ellipsis"> ApacheECharts </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/Axios.html" class="md-nav__link"> <span class="md-ellipsis"> Axios </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/BootstrapTable.html" class="md-nav__link"> <span class="md-ellipsis"> BootstrapTable </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/DHTMLXGantt.html" class="md-nav__link"> <span class="md-ellipsis"> DHTMLXGantt </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/Element.html" class="md-nav__link"> <span class="md-ellipsis"> Element </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/FullCalendar.html" class="md-nav__link"> <span class="md-ellipsis"> FullCalendar </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/X-editable.html" class="md-nav__link"> <span class="md-ellipsis"> X-editable </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked> <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0"> <span class="md-ellipsis"> ğŸ“Š æ•°æ®åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_8"> <span class="md-nav__icon md-icon"></span> ğŸ“Š æ•°æ®åº“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="Dameng.html" class="md-nav__link"> <span class="md-ellipsis"> Dameng </span> </a> </li> <li class="md-nav__item"> <a href="MySQL.html" class="md-nav__link"> <span class="md-ellipsis"> MySQL </span> </a> </li> <li class="md-nav__item"> <a href="MySQLQuery.html" class="md-nav__link"> <span class="md-ellipsis"> MySQLQuery </span> </a> </li> <li class="md-nav__item"> <a href="OceanBase.html" class="md-nav__link"> <span class="md-ellipsis"> OceanBase </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Oracle </span> <span class="md-nav__icon md-icon"></span> </label> <a href="Oracle.html" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> Oracle </span> </a> <nav class="md-nav md-nav--secondary" aria-label="ç›®å½•"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#1oracle-ç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 1ã€Oracle ç®€ä»‹ </span> </a> <nav class="md-nav" aria-label="1ã€Oracle ç®€ä»‹"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#11oracle-ç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 1.1ã€Oracle ç®€ä»‹ </span> </a> </li> <li class="md-nav__item"> <a href="#12oracle-19c-å®‰è£…" class="md-nav__link"> <span class="md-ellipsis"> 1.2ã€Oracle 19c å®‰è£… </span> </a> <nav class="md-nav" aria-label="1.2ã€Oracle 19c å®‰è£…"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#121å®‰è£…é—®é¢˜" class="md-nav__link"> <span class="md-ellipsis"> 1.2.1ã€å®‰è£…é—®é¢˜ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#13oracle-19c-å¸è½½" class="md-nav__link"> <span class="md-ellipsis"> 1.3ã€Oracle 19c å¸è½½ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2è¿æ¥å’Œé…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 2ã€è¿æ¥å’Œé…ç½® </span> </a> <nav class="md-nav" aria-label="2ã€è¿æ¥å’Œé…ç½®"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#21è¿æ¥-oracle" class="md-nav__link"> <span class="md-ellipsis"> 2.1ã€è¿æ¥ Oracle </span> </a> <nav class="md-nav" aria-label="2.1ã€è¿æ¥ Oracle"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#211sqlplus" class="md-nav__link"> <span class="md-ellipsis"> 2.1.1ã€SQL*Plus </span> </a> </li> <li class="md-nav__item"> <a href="#212navicat" class="md-nav__link"> <span class="md-ellipsis"> 2.1.2ã€Navicat </span> </a> <nav class="md-nav" aria-label="2.1.2ã€Navicat"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#ora-12514" class="md-nav__link"> <span class="md-ellipsis"> ORA-12514 </span> </a> </li> <li class="md-nav__item"> <a href="#ora-12516" class="md-nav__link"> <span class="md-ellipsis"> ORA-12516 </span> </a> </li> <li class="md-nav__item"> <a href="#ora-12638" class="md-nav__link"> <span class="md-ellipsis"> ORA-12638 </span> </a> </li> <li class="md-nav__item"> <a href="#ora-28547" class="md-nav__link"> <span class="md-ellipsis"> ORA-28547 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#213sql-developer" class="md-nav__link"> <span class="md-ellipsis"> 2.1.3ã€SQL Developer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#22oracle-é…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 2.2ã€Oracle é…ç½® </span> </a> <nav class="md-nav" aria-label="2.2ã€Oracle é…ç½®"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#221å¼€æ”¾è¿œç¨‹è¿æ¥" class="md-nav__link"> <span class="md-ellipsis"> 2.2.1ã€å¼€æ”¾è¿œç¨‹è¿æ¥ </span> </a> </li> <li class="md-nav__item"> <a href="#222ä¿®æ”¹ç«¯å£å·" class="md-nav__link"> <span class="md-ellipsis"> 2.2.2ã€ä¿®æ”¹ç«¯å£å· </span> </a> </li> <li class="md-nav__item"> <a href="#223sqlnetora" class="md-nav__link"> <span class="md-ellipsis"> 2.2.3ã€sqlnet.ora </span> </a> </li> <li class="md-nav__item"> <a href="#224ä¿®æ”¹å­—ç¬¦é›†" class="md-nav__link"> <span class="md-ellipsis"> 2.2.4ã€ä¿®æ”¹å­—ç¬¦é›† </span> </a> </li> <li class="md-nav__item"> <a href="#225ä¿®æ”¹å ç”¨å†…å­˜" class="md-nav__link"> <span class="md-ellipsis"> 2.2.5ã€ä¿®æ”¹å ç”¨å†…å­˜ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#3ç”¨æˆ·åŠè¡¨ç©ºé—´" class="md-nav__link"> <span class="md-ellipsis"> 3ã€ç”¨æˆ·åŠè¡¨ç©ºé—´ </span> </a> <nav class="md-nav" aria-label="3ã€ç”¨æˆ·åŠè¡¨ç©ºé—´"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#31ç”¨æˆ·ç®¡ç†" class="md-nav__link"> <span class="md-ellipsis"> 3.1ã€ç”¨æˆ·ç®¡ç† </span> </a> </li> <li class="md-nav__item"> <a href="#32è¡¨ç©ºé—´" class="md-nav__link"> <span class="md-ellipsis"> 3.2ã€è¡¨ç©ºé—´ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#4æ•°æ®ç»“æ„" class="md-nav__link"> <span class="md-ellipsis"> 4ã€æ•°æ®ç»“æ„ </span> </a> <nav class="md-nav" aria-label="4ã€æ•°æ®ç»“æ„"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#41varchar-å’Œ-varchar2" class="md-nav__link"> <span class="md-ellipsis"> 4.1ã€VARCHAR å’Œ VARCHAR2 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#5æŸ¥è¯¢" class="md-nav__link"> <span class="md-ellipsis"> 5ã€æŸ¥è¯¢ </span> </a> <nav class="md-nav" aria-label="5ã€æŸ¥è¯¢"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#51å¯¹-clob-è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢" class="md-nav__link"> <span class="md-ellipsis"> 5.1ã€å¯¹ CLOB è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ </span> </a> </li> <li class="md-nav__item"> <a href="#52æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢" class="md-nav__link"> <span class="md-ellipsis"> 5.2ã€æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢ </span> </a> </li> <li class="md-nav__item"> <a href="#53å…³äº-oracle-ä¸­çš„-as" class="md-nav__link"> <span class="md-ellipsis"> 5.3ã€å…³äº Oracle ä¸­çš„ AS </span> </a> </li> <li class="md-nav__item"> <a href="#54é™åˆ¶æŸ¥è¯¢æ¡æ•°" class="md-nav__link"> <span class="md-ellipsis"> 5.4ã€é™åˆ¶æŸ¥è¯¢æ¡æ•° </span> </a> </li> <li class="md-nav__item"> <a href="#55ä¸ç­‰äºç©ºå­—ç¬¦ä¸²" class="md-nav__link"> <span class="md-ellipsis"> 5.5ã€ä¸ç­‰äºç©ºå­—ç¬¦ä¸² </span> </a> </li> <li class="md-nav__item"> <a href="#56å­—æ®µåä¸-sql-å…³é”®å­—é‡å" class="md-nav__link"> <span class="md-ellipsis"> 5.6ã€å­—æ®µåä¸ SQL å…³é”®å­—é‡å </span> </a> </li> <li class="md-nav__item"> <a href="#57å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼" class="md-nav__link"> <span class="md-ellipsis"> 5.7ã€å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#6å‡½æ•°" class="md-nav__link"> <span class="md-ellipsis"> 6ã€å‡½æ•° </span> </a> <nav class="md-nav" aria-label="6ã€å‡½æ•°"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#61æ—¶é—´æ—¥æœŸ" class="md-nav__link"> <span class="md-ellipsis"> 6.1ã€æ—¶é—´æ—¥æœŸ </span> </a> <nav class="md-nav" aria-label="6.1ã€æ—¶é—´æ—¥æœŸ"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#611sysdate" class="md-nav__link"> <span class="md-ellipsis"> 6.1.1ã€SYSDATE </span> </a> </li> <li class="md-nav__item"> <a href="#612add_months" class="md-nav__link"> <span class="md-ellipsis"> 6.1.2ã€ADD_MONTHS </span> </a> </li> <li class="md-nav__item"> <a href="#613months_between" class="md-nav__link"> <span class="md-ellipsis"> 6.1.3ã€MONTHS_BETWEEN </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#62æ­£åˆ™è¡¨è¾¾å¼" class="md-nav__link"> <span class="md-ellipsis"> 6.2ã€æ­£åˆ™è¡¨è¾¾å¼ </span> </a> <nav class="md-nav" aria-label="6.2ã€æ­£åˆ™è¡¨è¾¾å¼"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#621regexp_like" class="md-nav__link"> <span class="md-ellipsis"> 6.2.1ã€REGEXP_LIKE </span> </a> </li> <li class="md-nav__item"> <a href="#622regexp_instr" class="md-nav__link"> <span class="md-ellipsis"> 6.2.2ã€REGEXP_INSTR </span> </a> </li> <li class="md-nav__item"> <a href="#633regexp_count" class="md-nav__link"> <span class="md-ellipsis"> 6.3.3ã€REGEXP_COUNT </span> </a> </li> <li class="md-nav__item"> <a href="#624regexp_substr" class="md-nav__link"> <span class="md-ellipsis"> 6.2.4ã€REGEXP_SUBSTR </span> </a> </li> <li class="md-nav__item"> <a href="#625regexp_replace" class="md-nav__link"> <span class="md-ellipsis"> 6.2.5ã€REGEXP_REPLACE </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#63èšåˆå‡½æ•°" class="md-nav__link"> <span class="md-ellipsis"> 6.3ã€èšåˆå‡½æ•° </span> </a> <nav class="md-nav" aria-label="6.3ã€èšåˆå‡½æ•°"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#631wm_concat" class="md-nav__link"> <span class="md-ellipsis"> 6.3.1ã€WM_CONCAT </span> </a> </li> <li class="md-nav__item"> <a href="#632listagg" class="md-nav__link"> <span class="md-ellipsis"> 6.3.2ã€LISTAGG </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#64åˆ¤ç©º" class="md-nav__link"> <span class="md-ellipsis"> 6.4ã€åˆ¤ç©º </span> </a> <nav class="md-nav" aria-label="6.4ã€åˆ¤ç©º"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#641nvl" class="md-nav__link"> <span class="md-ellipsis"> 6.4.1ã€NVL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#65ç±»å‹è½¬æ¢" class="md-nav__link"> <span class="md-ellipsis"> 6.5ã€ç±»å‹è½¬æ¢ </span> </a> <nav class="md-nav" aria-label="6.5ã€ç±»å‹è½¬æ¢"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#651to_char" class="md-nav__link"> <span class="md-ellipsis"> 6.5.1ã€TO_CHAR </span> </a> </li> <li class="md-nav__item"> <a href="#652to_date" class="md-nav__link"> <span class="md-ellipsis"> 6.5.2ã€TO_DATE </span> </a> </li> <li class="md-nav__item"> <a href="#653cast" class="md-nav__link"> <span class="md-ellipsis"> 6.5.3ã€CAST </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#7spring-boot-é›†æˆ" class="md-nav__link"> <span class="md-ellipsis"> 7ã€Spring Boot é›†æˆ </span> </a> <nav class="md-nav" aria-label="7ã€Spring Boot é›†æˆ"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#71é›†æˆæ­¥éª¤" class="md-nav__link"> <span class="md-ellipsis"> 7.1ã€é›†æˆæ­¥éª¤ </span> </a> </li> <li class="md-nav__item"> <a href="#72é‡åˆ°çš„é—®é¢˜" class="md-nav__link"> <span class="md-ellipsis"> 7.2ã€é‡åˆ°çš„é—®é¢˜ </span> </a> <nav class="md-nav" aria-label="7.2ã€é‡åˆ°çš„é—®é¢˜"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#721ora-28040-æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®®" class="md-nav__link"> <span class="md-ellipsis"> 7.2.1ã€ORA-28040: æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®® </span> </a> </li> <li class="md-nav__item"> <a href="#722nl-exception-was-generated" class="md-nav__link"> <span class="md-ellipsis"> 7.2.2ã€NL Exception was generated </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#8å¯¼å…¥å¯¼å‡º" class="md-nav__link"> <span class="md-ellipsis"> 8ã€å¯¼å…¥å¯¼å‡º </span> </a> <nav class="md-nav" aria-label="8ã€å¯¼å…¥å¯¼å‡º"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#81æ•°æ®æ³µ" class="md-nav__link"> <span class="md-ellipsis"> 8.1ã€æ•°æ®æ³µ </span> </a> <nav class="md-nav" aria-label="8.1ã€æ•°æ®æ³µ"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#811expdp" class="md-nav__link"> <span class="md-ellipsis"> 8.1.1ã€expdp </span> </a> </li> <li class="md-nav__item"> <a href="#812impdp" class="md-nav__link"> <span class="md-ellipsis"> 8.1.2ã€impdp </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="Redis.html" class="md-nav__link"> <span class="md-ellipsis"> Redis </span> </a> </li> <li class="md-nav__item"> <a href="Vastbase.html" class="md-nav__link"> <span class="md-ellipsis"> Vastbase </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9"> <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0"> <span class="md-ellipsis"> ğŸ” æœç´¢å¼•æ“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_9"> <span class="md-nav__icon md-icon"></span> ğŸ” æœç´¢å¼•æ“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/Elasticsearch.html" class="md-nav__link"> <span class="md-ellipsis"> Elasticsearch </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10"> <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0"> <span class="md-ellipsis"> ğŸ“‡ åˆ†å¸ƒå¼å­˜å‚¨ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_10"> <span class="md-nav__icon md-icon"></span> ğŸ“‡ åˆ†å¸ƒå¼å­˜å‚¨ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/FastDFS.html" class="md-nav__link"> <span class="md-ellipsis"> FastDFS </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/MinIO.html" class="md-nav__link"> <span class="md-ellipsis"> MinIO </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11"> <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0"> <span class="md-ellipsis"> ğŸ›°ï¸ ç½‘ç»œé€šä¿¡ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_11"> <span class="md-nav__icon md-icon"></span> ğŸ›°ï¸ ç½‘ç»œé€šä¿¡ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/Encryption.html" class="md-nav__link"> <span class="md-ellipsis"> Encryption </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/HTTP.html" class="md-nav__link"> <span class="md-ellipsis"> HTTP </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/OpenVPN.html" class="md-nav__link"> <span class="md-ellipsis"> OpenVPN </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/VNC.html" class="md-nav__link"> <span class="md-ellipsis"> VNC </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/WebSocket.html" class="md-nav__link"> <span class="md-ellipsis"> WebSocket </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/frp.html" class="md-nav__link"> <span class="md-ellipsis"> frp </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12"> <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0"> <span class="md-ellipsis"> ğŸ—ƒï¸ æ–‡ä»¶å¤„ç† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12"> <span class="md-nav__icon md-icon"></span> ğŸ—ƒï¸ æ–‡ä»¶å¤„ç† </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1"> <label class="md-nav__link" for="__nav_12_1" id="__nav_12_1_label" tabindex="0"> <span class="md-ellipsis"> Office </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_1_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_1"> <span class="md-nav__icon md-icon"></span> Office </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/ApachePOI.html" class="md-nav__link"> <span class="md-ellipsis"> ApachePOI </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/EasyExcel.html" class="md-nav__link"> <span class="md-ellipsis"> EasyExcel </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/OnlyOffice.html" class="md-nav__link"> <span class="md-ellipsis"> OnlyOffice </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/Poi-tl.html" class="md-nav__link"> <span class="md-ellipsis"> Poi-tl </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/Spire.OfficeForJava.html" class="md-nav__link"> <span class="md-ellipsis"> Spire.OfficeForJava </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_2"> <label class="md-nav__link" for="__nav_12_2" id="__nav_12_2_label" tabindex="0"> <span class="md-ellipsis"> PDF </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_2"> <span class="md-nav__icon md-icon"></span> PDF </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/PDF/ApachePDFBox.html" class="md-nav__link"> <span class="md-ellipsis"> ApachePDFBox </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_3"> <label class="md-nav__link" for="__nav_12_3" id="__nav_12_3_label" tabindex="0"> <span class="md-ellipsis"> XML </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_3"> <span class="md-nav__icon md-icon"></span> XML </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/XML/XMLParse.html" class="md-nav__link"> <span class="md-ellipsis"> XMLParse </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_4"> <label class="md-nav__link" for="__nav_12_4" id="__nav_12_4_label" tabindex="0"> <span class="md-ellipsis"> ZIP </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_4"> <span class="md-nav__icon md-icon"></span> ZIP </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/ZIP/Zip4j.html" class="md-nav__link"> <span class="md-ellipsis"> Zip4j </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13"> <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0"> <span class="md-ellipsis"> âŒ› å®šæ—¶ä»»åŠ¡ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_13"> <span class="md-nav__icon md-icon"></span> âŒ› å®šæ—¶ä»»åŠ¡ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/XXL-JOB.html" class="md-nav__link"> <span class="md-ellipsis"> XXL-JOB </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14"> <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0"> <span class="md-ellipsis"> ğŸ§‘â€ğŸ”§ è¿ç»´ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_14"> <span class="md-nav__icon md-icon"></span> ğŸ§‘â€ğŸ”§ è¿ç»´ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Docker.html" class="md-nav__link"> <span class="md-ellipsis"> Docker </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Linux.html" class="md-nav__link"> <span class="md-ellipsis"> Linux </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/NSSM.html" class="md-nav__link"> <span class="md-ellipsis"> NSSM </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Nginx.html" class="md-nav__link"> <span class="md-ellipsis"> Nginx </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Tomcat.html" class="md-nav__link"> <span class="md-ellipsis"> Tomcat </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/TongWeb.html" class="md-nav__link"> <span class="md-ellipsis"> TongWeb </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/WSL.html" class="md-nav__link"> <span class="md-ellipsis"> WSL </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/WebLogic.html" class="md-nav__link"> <span class="md-ellipsis"> WebLogic </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15"> <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0"> <span class="md-ellipsis"> ğŸ› ï¸ å¼€å‘å·¥å…· </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_15"> <span class="md-nav__icon md-icon"></span> ğŸ› ï¸ å¼€å‘å·¥å…· </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git.html" class="md-nav__link"> <span class="md-ellipsis"> Git </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven.html" class="md-nav__link"> <span class="md-ellipsis"> Maven </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Node.js.html" class="md-nav__link"> <span class="md-ellipsis"> Node.js </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Swagger.html" class="md-nav__link"> <span class="md-ellipsis"> Swagger </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16"> <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0"> <span class="md-ellipsis"> ğŸ‘» å…¶ä»– </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_16"> <span class="md-nav__icon md-icon"></span> ğŸ‘» å…¶ä»– </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%85%B6%E4%BB%96/Settings.html" class="md-nav__link"> <span class="md-ellipsis"> Settings </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%85%B6%E4%BB%96/Solutions.html" class="md-nav__link"> <span class="md-ellipsis"> Solutions </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%85%B6%E4%BB%96/Weasel.html" class="md-nav__link"> <span class="md-ellipsis"> Weasel </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="ç›®å½•"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#1oracle-ç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 1ã€Oracle ç®€ä»‹ </span> </a> <nav class="md-nav" aria-label="1ã€Oracle ç®€ä»‹"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#11oracle-ç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 1.1ã€Oracle ç®€ä»‹ </span> </a> </li> <li class="md-nav__item"> <a href="#12oracle-19c-å®‰è£…" class="md-nav__link"> <span class="md-ellipsis"> 1.2ã€Oracle 19c å®‰è£… </span> </a> <nav class="md-nav" aria-label="1.2ã€Oracle 19c å®‰è£…"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#121å®‰è£…é—®é¢˜" class="md-nav__link"> <span class="md-ellipsis"> 1.2.1ã€å®‰è£…é—®é¢˜ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#13oracle-19c-å¸è½½" class="md-nav__link"> <span class="md-ellipsis"> 1.3ã€Oracle 19c å¸è½½ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2è¿æ¥å’Œé…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 2ã€è¿æ¥å’Œé…ç½® </span> </a> <nav class="md-nav" aria-label="2ã€è¿æ¥å’Œé…ç½®"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#21è¿æ¥-oracle" class="md-nav__link"> <span class="md-ellipsis"> 2.1ã€è¿æ¥ Oracle </span> </a> <nav class="md-nav" aria-label="2.1ã€è¿æ¥ Oracle"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#211sqlplus" class="md-nav__link"> <span class="md-ellipsis"> 2.1.1ã€SQL*Plus </span> </a> </li> <li class="md-nav__item"> <a href="#212navicat" class="md-nav__link"> <span class="md-ellipsis"> 2.1.2ã€Navicat </span> </a> <nav class="md-nav" aria-label="2.1.2ã€Navicat"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#ora-12514" class="md-nav__link"> <span class="md-ellipsis"> ORA-12514 </span> </a> </li> <li class="md-nav__item"> <a href="#ora-12516" class="md-nav__link"> <span class="md-ellipsis"> ORA-12516 </span> </a> </li> <li class="md-nav__item"> <a href="#ora-12638" class="md-nav__link"> <span class="md-ellipsis"> ORA-12638 </span> </a> </li> <li class="md-nav__item"> <a href="#ora-28547" class="md-nav__link"> <span class="md-ellipsis"> ORA-28547 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#213sql-developer" class="md-nav__link"> <span class="md-ellipsis"> 2.1.3ã€SQL Developer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#22oracle-é…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 2.2ã€Oracle é…ç½® </span> </a> <nav class="md-nav" aria-label="2.2ã€Oracle é…ç½®"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#221å¼€æ”¾è¿œç¨‹è¿æ¥" class="md-nav__link"> <span class="md-ellipsis"> 2.2.1ã€å¼€æ”¾è¿œç¨‹è¿æ¥ </span> </a> </li> <li class="md-nav__item"> <a href="#222ä¿®æ”¹ç«¯å£å·" class="md-nav__link"> <span class="md-ellipsis"> 2.2.2ã€ä¿®æ”¹ç«¯å£å· </span> </a> </li> <li class="md-nav__item"> <a href="#223sqlnetora" class="md-nav__link"> <span class="md-ellipsis"> 2.2.3ã€sqlnet.ora </span> </a> </li> <li class="md-nav__item"> <a href="#224ä¿®æ”¹å­—ç¬¦é›†" class="md-nav__link"> <span class="md-ellipsis"> 2.2.4ã€ä¿®æ”¹å­—ç¬¦é›† </span> </a> </li> <li class="md-nav__item"> <a href="#225ä¿®æ”¹å ç”¨å†…å­˜" class="md-nav__link"> <span class="md-ellipsis"> 2.2.5ã€ä¿®æ”¹å ç”¨å†…å­˜ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#3ç”¨æˆ·åŠè¡¨ç©ºé—´" class="md-nav__link"> <span class="md-ellipsis"> 3ã€ç”¨æˆ·åŠè¡¨ç©ºé—´ </span> </a> <nav class="md-nav" aria-label="3ã€ç”¨æˆ·åŠè¡¨ç©ºé—´"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#31ç”¨æˆ·ç®¡ç†" class="md-nav__link"> <span class="md-ellipsis"> 3.1ã€ç”¨æˆ·ç®¡ç† </span> </a> </li> <li class="md-nav__item"> <a href="#32è¡¨ç©ºé—´" class="md-nav__link"> <span class="md-ellipsis"> 3.2ã€è¡¨ç©ºé—´ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#4æ•°æ®ç»“æ„" class="md-nav__link"> <span class="md-ellipsis"> 4ã€æ•°æ®ç»“æ„ </span> </a> <nav class="md-nav" aria-label="4ã€æ•°æ®ç»“æ„"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#41varchar-å’Œ-varchar2" class="md-nav__link"> <span class="md-ellipsis"> 4.1ã€VARCHAR å’Œ VARCHAR2 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#5æŸ¥è¯¢" class="md-nav__link"> <span class="md-ellipsis"> 5ã€æŸ¥è¯¢ </span> </a> <nav class="md-nav" aria-label="5ã€æŸ¥è¯¢"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#51å¯¹-clob-è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢" class="md-nav__link"> <span class="md-ellipsis"> 5.1ã€å¯¹ CLOB è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ </span> </a> </li> <li class="md-nav__item"> <a href="#52æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢" class="md-nav__link"> <span class="md-ellipsis"> 5.2ã€æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢ </span> </a> </li> <li class="md-nav__item"> <a href="#53å…³äº-oracle-ä¸­çš„-as" class="md-nav__link"> <span class="md-ellipsis"> 5.3ã€å…³äº Oracle ä¸­çš„ AS </span> </a> </li> <li class="md-nav__item"> <a href="#54é™åˆ¶æŸ¥è¯¢æ¡æ•°" class="md-nav__link"> <span class="md-ellipsis"> 5.4ã€é™åˆ¶æŸ¥è¯¢æ¡æ•° </span> </a> </li> <li class="md-nav__item"> <a href="#55ä¸ç­‰äºç©ºå­—ç¬¦ä¸²" class="md-nav__link"> <span class="md-ellipsis"> 5.5ã€ä¸ç­‰äºç©ºå­—ç¬¦ä¸² </span> </a> </li> <li class="md-nav__item"> <a href="#56å­—æ®µåä¸-sql-å…³é”®å­—é‡å" class="md-nav__link"> <span class="md-ellipsis"> 5.6ã€å­—æ®µåä¸ SQL å…³é”®å­—é‡å </span> </a> </li> <li class="md-nav__item"> <a href="#57å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼" class="md-nav__link"> <span class="md-ellipsis"> 5.7ã€å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#6å‡½æ•°" class="md-nav__link"> <span class="md-ellipsis"> 6ã€å‡½æ•° </span> </a> <nav class="md-nav" aria-label="6ã€å‡½æ•°"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#61æ—¶é—´æ—¥æœŸ" class="md-nav__link"> <span class="md-ellipsis"> 6.1ã€æ—¶é—´æ—¥æœŸ </span> </a> <nav class="md-nav" aria-label="6.1ã€æ—¶é—´æ—¥æœŸ"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#611sysdate" class="md-nav__link"> <span class="md-ellipsis"> 6.1.1ã€SYSDATE </span> </a> </li> <li class="md-nav__item"> <a href="#612add_months" class="md-nav__link"> <span class="md-ellipsis"> 6.1.2ã€ADD_MONTHS </span> </a> </li> <li class="md-nav__item"> <a href="#613months_between" class="md-nav__link"> <span class="md-ellipsis"> 6.1.3ã€MONTHS_BETWEEN </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#62æ­£åˆ™è¡¨è¾¾å¼" class="md-nav__link"> <span class="md-ellipsis"> 6.2ã€æ­£åˆ™è¡¨è¾¾å¼ </span> </a> <nav class="md-nav" aria-label="6.2ã€æ­£åˆ™è¡¨è¾¾å¼"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#621regexp_like" class="md-nav__link"> <span class="md-ellipsis"> 6.2.1ã€REGEXP_LIKE </span> </a> </li> <li class="md-nav__item"> <a href="#622regexp_instr" class="md-nav__link"> <span class="md-ellipsis"> 6.2.2ã€REGEXP_INSTR </span> </a> </li> <li class="md-nav__item"> <a href="#633regexp_count" class="md-nav__link"> <span class="md-ellipsis"> 6.3.3ã€REGEXP_COUNT </span> </a> </li> <li class="md-nav__item"> <a href="#624regexp_substr" class="md-nav__link"> <span class="md-ellipsis"> 6.2.4ã€REGEXP_SUBSTR </span> </a> </li> <li class="md-nav__item"> <a href="#625regexp_replace" class="md-nav__link"> <span class="md-ellipsis"> 6.2.5ã€REGEXP_REPLACE </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#63èšåˆå‡½æ•°" class="md-nav__link"> <span class="md-ellipsis"> 6.3ã€èšåˆå‡½æ•° </span> </a> <nav class="md-nav" aria-label="6.3ã€èšåˆå‡½æ•°"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#631wm_concat" class="md-nav__link"> <span class="md-ellipsis"> 6.3.1ã€WM_CONCAT </span> </a> </li> <li class="md-nav__item"> <a href="#632listagg" class="md-nav__link"> <span class="md-ellipsis"> 6.3.2ã€LISTAGG </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#64åˆ¤ç©º" class="md-nav__link"> <span class="md-ellipsis"> 6.4ã€åˆ¤ç©º </span> </a> <nav class="md-nav" aria-label="6.4ã€åˆ¤ç©º"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#641nvl" class="md-nav__link"> <span class="md-ellipsis"> 6.4.1ã€NVL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#65ç±»å‹è½¬æ¢" class="md-nav__link"> <span class="md-ellipsis"> 6.5ã€ç±»å‹è½¬æ¢ </span> </a> <nav class="md-nav" aria-label="6.5ã€ç±»å‹è½¬æ¢"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#651to_char" class="md-nav__link"> <span class="md-ellipsis"> 6.5.1ã€TO_CHAR </span> </a> </li> <li class="md-nav__item"> <a href="#652to_date" class="md-nav__link"> <span class="md-ellipsis"> 6.5.2ã€TO_DATE </span> </a> </li> <li class="md-nav__item"> <a href="#653cast" class="md-nav__link"> <span class="md-ellipsis"> 6.5.3ã€CAST </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#7spring-boot-é›†æˆ" class="md-nav__link"> <span class="md-ellipsis"> 7ã€Spring Boot é›†æˆ </span> </a> <nav class="md-nav" aria-label="7ã€Spring Boot é›†æˆ"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#71é›†æˆæ­¥éª¤" class="md-nav__link"> <span class="md-ellipsis"> 7.1ã€é›†æˆæ­¥éª¤ </span> </a> </li> <li class="md-nav__item"> <a href="#72é‡åˆ°çš„é—®é¢˜" class="md-nav__link"> <span class="md-ellipsis"> 7.2ã€é‡åˆ°çš„é—®é¢˜ </span> </a> <nav class="md-nav" aria-label="7.2ã€é‡åˆ°çš„é—®é¢˜"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#721ora-28040-æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®®" class="md-nav__link"> <span class="md-ellipsis"> 7.2.1ã€ORA-28040: æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®® </span> </a> </li> <li class="md-nav__item"> <a href="#722nl-exception-was-generated" class="md-nav__link"> <span class="md-ellipsis"> 7.2.2ã€NL Exception was generated </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#8å¯¼å…¥å¯¼å‡º" class="md-nav__link"> <span class="md-ellipsis"> 8ã€å¯¼å…¥å¯¼å‡º </span> </a> <nav class="md-nav" aria-label="8ã€å¯¼å…¥å¯¼å‡º"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#81æ•°æ®æ³µ" class="md-nav__link"> <span class="md-ellipsis"> 8.1ã€æ•°æ®æ³µ </span> </a> <nav class="md-nav" aria-label="8.1ã€æ•°æ®æ³µ"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#811expdp" class="md-nav__link"> <span class="md-ellipsis"> 8.1.1ã€expdp </span> </a> </li> <li class="md-nav__item"> <a href="#812impdp" class="md-nav__link"> <span class="md-ellipsis"> 8.1.2ã€impdp </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <nav class="md-path" aria-label="å¯¼èˆªæ "> <ol class="md-path__list"> <li class="md-path__item"> <a href="../index.html" class="md-path__link"> <span class="md-ellipsis"> ğŸ  é¦–é¡µ </span> </a> </li> <li class="md-path__item"> <a href="Dameng.html" class="md-path__link"> <span class="md-ellipsis"> ğŸ“Š æ•°æ®åº“ </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id="oracle">Oracle<a class="headerlink" href="#oracle" title="é”šç‚¹é“¾æ¥">Â¶</a></h1> <h2 id="1oracle-ç®€ä»‹">1ã€Oracle ç®€ä»‹<a class="headerlink" href="#1oracle-ç®€ä»‹" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="11oracle-ç®€ä»‹">1.1ã€Oracle ç®€ä»‹<a class="headerlink" href="#11oracle-ç®€ä»‹" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>Oracle Databaseï¼Œåˆå Oracle RDBMSï¼Œç®€ç§° Oracleã€‚Oracle æ•°æ®åº“ç³»ç»Ÿæ˜¯ç¾å›½ Oracle å…¬å¸ï¼ˆç”²éª¨æ–‡ï¼‰æä¾›çš„ä»¥åˆ†å¸ƒå¼æ•°æ®åº“ä¸ºæ ¸å¿ƒçš„ä¸€ç»„è½¯ä»¶äº§å“ï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„å®¢æˆ·/æœåŠ¡å™¨ï¼ˆclient/serverï¼‰æˆ–B/Sä½“ç³»ç»“æ„çš„æ•°æ®åº“ä¹‹ä¸€ï¼Œæ¯”å¦‚ SilverStream å°±æ˜¯åŸºäºæ•°æ®åº“çš„ä¸€ç§ä¸­é—´ä»¶ã€‚Oracle æ•°æ®åº“æ˜¯ç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä½œä¸ºä¸€ä¸ªé€šç”¨çš„æ•°æ®åº“ç³»ç»Ÿï¼Œå®ƒå…·æœ‰å®Œæ•´çš„æ•°æ®ç®¡ç†åŠŸèƒ½ï¼›ä½œä¸ºä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œå¤‡å…³ç³»çš„äº§å“ï¼›ä½œä¸ºåˆ†å¸ƒå¼æ•°æ®åº“å®ƒå®ç°äº†åˆ†å¸ƒå¼å¤„ç†åŠŸèƒ½ã€‚</p> <p><strong>Oracle ä½“ç³»ç»“æ„</strong></p> <p>Oracle æ•°æ®åº“å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•°æ®çš„ç‰©ç†å‚¨å­˜ç³»ç»Ÿï¼Œè¿™å…¶ä¸­åŒ…æ‹¬æ•°æ®æ–‡ä»¶ï¼ˆora/dbfï¼‰ã€å‚æ•°æ–‡ä»¶ã€æ§åˆ¶æ–‡ä»¶ã€è”æœºæ—¥å¿—ç­‰ã€‚</p> <p><strong>å®ä¾‹ï¼š</strong>ä¸€ä¸ªæ“ä½œç³»ç»Ÿåªæœ‰ä¸€ä¸ª Oracle æ•°æ®åº“ï¼Œä½†æ˜¯å¯ä»¥å®‰è£…å¤š ä¸ªOracle å®ä¾‹ï¼Œä¸€ä¸ª Oracle å®ä¾‹å¯¹åº”ç€ä¸€ç³»åˆ—çš„åå°è¿›ç¨‹ï¼ˆBackguound Processes)å’Œå†…å­˜ç»“æ„ï¼ˆMemory Structures)ã€‚</p> <p><strong>æ•°æ®æ–‡ä»¶ï¼š</strong>Oracle æ•°æ®æ–‡ä»¶æ˜¯æ•°æ®å­˜å‚¨çš„ç‰©ç†å•ä½ï¼Œæ•°æ®åº“çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨è¡¨ç©ºé—´ä¸­çš„ã€‚è€Œä¸€ä¸ªè¡¨ç©ºé—´å¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æ–‡ä»¶ç»„æˆï¼Œä¸€ä¸ªæ•°æ®æ–‡ä»¶åªèƒ½å±äºä¸€ä¸ªè¡¨ç©ºé—´ï¼Œä¸€æ—¦æ•°æ®æ–‡ä»¶è¢«åŠ å…¥åˆ°æŸä¸ªè¡¨ç©ºé—´åï¼Œå°±ä¸èƒ½åˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œå¦‚æœè¦åˆ é™¤æŸä¸ªæ•°æ®æ–‡ä»¶ï¼Œåªèƒ½åˆ é™¤å…¶æ‰€å±äºçš„è¡¨ç©ºé—´æ‰è¡Œã€‚</p> <p><strong>è¡¨ç©ºé—´ï¼š</strong>è¡¨ç©ºé—´æ˜¯ Oracle å¯¹ç‰©ç†æ•°æ®åº“æ•°æ®æ–‡ä»¶ï¼ˆora/dbfï¼‰çš„é€»è¾‘æ˜ å°„ã€‚ä¸€ä¸ªæ•°æ®åº“åœ¨é€»è¾‘ä¸Šè¢«åˆ’åˆ†æˆä¸€åˆ°è‹¥å¹²ä¸ªè¡¨ç©ºé—´ï¼Œæ¯ä¸ªè¡¨ç©ºé—´ç”±åŒä¸€ç£ç›˜ä¸Šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æ–‡ä»¶ï¼ˆdatafileï¼‰ç»„æˆï¼Œä¸€ä¸ªæ•°æ®æ–‡ä»¶åªèƒ½å±äºä¸€ä¸ªè¡¨ç©ºé—´ã€‚</p> <p><strong>Oracleç”¨æˆ·ï¼š</strong>è¡¨å½“ä¸­çš„æ•°æ®æ˜¯ç”± Oracle ç”¨æˆ·æ”¾å…¥åˆ°è¡¨ç©ºé—´å½“ä¸­çš„ï¼Œè€Œè¿™äº›è¡¨ç©ºé—´ä¼šéšæœºçš„æŠŠæ•°æ®æ”¾å…¥åˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®æ–‡ä»¶å½“ä¸­ã€‚Oracle å¯¹è¡¨æ•°æ®çš„ç®¡ç†æ˜¯é€šè¿‡ç”¨æˆ·å¯¹è¡¨çš„ç®¡ç†å»æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯ç›´æ¥å¯¹æ•°æ®æ–‡ä»¶æˆ–è¡¨ç©ºé—´è¿›è¡ŒæŸ¥è¯¢ã€‚å› ä¸ºä¸åŒç”¨æˆ·å¯ä»¥åœ¨åŒä¸€ä¸ªè¡¨ç©ºé—´ä¸Šé¢å»ºç«‹ç›¸åŒçš„è¡¨åã€‚ä½†æ˜¯é€šè¿‡ä¸åŒçš„ç”¨æˆ·ç®¡ç†è‡ªå·±çš„è¡¨æ•°æ®ã€‚</p> <p><strong>æ•°æ®ç»“æ„é€»è¾‘å…³ç³»å¦‚ä¸‹å›¾ï¼š</strong></p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/viewImages.png" data-desc-position="bottom"><img src="!assets/Oracle/viewImages.png" alt="æ•°æ®ç»“æ„é€»è¾‘å…³ç³»" style></a></p> <p><strong>Oracleä½“ç³»æ¦‚è¦å›¾å¦‚ä¸‹ï¼š</strong></p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/viewImages-16358235683753.png" data-desc-position="bottom"><img src="!assets/Oracle/viewImages-16358235683753.png" alt="Oracleä½“ç³»æ¦‚è¦å›¾" style="zoom: 67%;"></a></p> <h3 id="12oracle-19c-å®‰è£…">1.2ã€Oracle 19c å®‰è£…<a class="headerlink" href="#12oracle-19c-å®‰è£…" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>å®‰è£…å‰æ³¨æ„é€€å‡ºæ€æ¯’è½¯ä»¶ï¼ï¼ï¼</strong></p> <ol> <li> <p>å»å®˜ç½‘ä¸‹è½½ <a href="https://www.oracle.com/database/technologies/oracle-database-software-downloads.html#19c">Oracle 19c</a>ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20211102113310795.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20211102113310795.png" alt="image-20211102113310795" style></a></p> </li> <li> <p>å®‰è£…å‰éœ€è¦æŠŠæ–‡ä»¶åŒ…è§£å‹ï¼Œè§£å‹çš„ä½ç½®ä¸ºéœ€è¦å®‰è£…çš„ä½ç½®ï¼Œæ‰€ä»¥è¦æå‰ç¡®å®šå¥½è§£å‹è·¯å¾„ï¼Œè§£å‹åçš„æ–‡ä»¶å¤§æ¦‚éœ€è¦ 6G çš„ç©ºé—´ï¼Œç¡®ä¿ç©ºé—´è¶³å¤Ÿå¤§ã€‚</p> <blockquote> <p>è§£å‹çš„ç›®å½•ä¸è¦å«æœ‰ä¸­æ–‡å’Œç©ºæ ¼ï¼</p> </blockquote> </li> <li> <p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ <code>setup.exe</code>ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/123.png" data-desc-position="bottom"><img src="!assets/Oracle/123.png" alt="img" style></a></p> </li> <li> <p>æ‰“å¼€å®‰è£…ç¨‹åºåï¼Œè·Ÿç€å®‰è£…å‘å¯¼ï¼Œåˆå­¦è€…å»ºè®®é€‰é»˜è®¤é€‰æ‹© â€œåˆ›å»ºå¹¶é…ç½®å•å®ä¾‹æ•°æ®åº“â€ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/12dlaXhp20.png" data-desc-position="bottom"><img src="!assets/Oracle/12dlaXhp20.png" alt="img" style></a></p> </li> <li> <p>é€‰ä¸­ã€æ¡Œé¢ç±»ã€‘ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5.png" alt="img" style></a></p> </li> <li> <p>Oracleä¸»ç›®å½•ç”¨æˆ·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> <ul> <li>ä½¿ç”¨è™šæ‹Ÿè´¦æˆ·ï¼šç”¨äº Oracle æ•°æ®åº“å•å®ä¾‹å®‰è£…çš„ Oracle ä¸»ç›®å½•ç”¨æˆ·ã€‚</li> <li>ä½¿ç”¨ç°æœ‰ Windows ç”¨æˆ·ï¼šå¦‚æœé€‰æ‹©è¯¥é¡¹ï¼Œåˆ™éœ€è¦æŒ‡å®šæ²¡æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·ã€‚</li> <li>åˆ›å»ºæ–° Windows ç”¨æˆ·ï¼šåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™ä¸ªæ–°å»ºçš„ç”¨æˆ·æ²¡æœ‰ Windows ç™»å½•æƒé™ã€‚</li> <li>ä½¿ç”¨ Windows å†…ç½®è´¦æˆ·ï¼šå¾®è½¯åœ¨å¼€ Windows æ—¶é¢„å…ˆä¸ºç”¨æˆ·è®¾ç½®çš„èƒ½å¤Ÿç™»å½•ç³»ç»Ÿçš„è´¦æˆ·ã€‚</li> </ul> <p>æ­¤å¤„æœ¬äººé€‰æ‹©è™šæ‹Ÿè´¦æˆ·ï¼Œä¹Ÿæ˜¯ Oracle çš„å®˜æ–¹å»ºè®®ä¹‹ä¸€ã€‚</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nL.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nL.png" alt="img" style></a></p> </li> <li> <p>æ›´æ”¹ã€Oracle åŸºç›®å½•ã€‘ï¼Œå–æ¶ˆå‹¾é€‰ã€åˆ›å»ºä¸ºå®¹å™¨æ•°æ®åº“ã€‘ï¼Œå¡«å†™ã€å…¨å±€æ•°æ®åº“åã€‘åŠå£ä»¤ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0c.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style></a></p> </li> <li> <p>å…ˆå†³æ¡ä»¶æ£€æŸ¥ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5na4ubmV0L3FxXzE3MDU4OTkz,size_16,color_FFFFFF,t_70.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5na4ubmV0L3FxXzE3MDU4OTkz,size_16,color_FFFFFF,t_70.png" alt="img" style></a></p> </li> <li> <p>æ¦‚è¦ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5nNzZG4ubmV0L3dlaXhpbl80Mzc5MjQwMQ==,size_16,color_FFFFFF,t_70.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5nNzZG4ubmV0L3dlaXhpbl80Mzc5MjQwMQ==,size_16,color_FFFFFF,t_70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style></a></p> </li> <li> <p>å®‰è£…ç­‰å¾…ï¼Œè¿™é‡Œä¼šç­‰å¾…å¾—æ¯”è¾ƒä¹…ä¸€ç‚¹ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,2zZG4ubmV0L3dlaXhpbl80Mzc5MjQwMQ==,size_16,color_FFFFFF,t_70.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,2zZG4ubmV0L3dlaXhpbl80Mzc5MjQwMQ==,size_16,color_FFFFFF,t_70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style></a></p> </li> <li> <p>å‡ ååˆ†é’Ÿåï¼Œæ˜¾ç¤ºæˆåŠŸçš„çª—å£ï¼Œç‚¹å‡»å…³é—­ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly92LmNzZG4ubmV0L3dlaXhpbl80Mzc5MjQwMQ==,size_16,color_FFFFFF,t_70.png" data-desc-position="bottom"><img src="!assets/Oracle/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly92LmNzZG4ubmV0L3dlaXhpbl80Mzc5MjQwMQ==,size_16,color_FFFFFF,t_70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style></a></p> </li> </ol> <h4 id="121å®‰è£…é—®é¢˜">1.2.1ã€å®‰è£…é—®é¢˜<a class="headerlink" href="#121å®‰è£…é—®é¢˜" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><strong>Oracle19c å®‰è£…ä¸­çš„æ— æ³•å°† Windows ç”¨æˆ·æˆ– Windows ç»„ â€œXXXâ€œ æ·»åŠ åˆ° Windows ç»„ â€œXXXâ€œ ä¸­</strong></p> <p>çœ‹çœ‹è‡ªå·±çš„è®¡ç®—æœºåç§°å’Œè‡ªå·±ç”¨æˆ·åæ˜¯ä¸æ˜¯ç›¸åŒï¼Œç›¸åŒçš„è¯æ›´æ”¹è®¡ç®—æœºåç§°ä¸ºå…¶ä»–çš„ã€‚å¹¶ä¸ä¸€å®šé€‚ç”¨æ‰€æœ‰ï¼Œå¯è¿›è¡Œå°è¯•ã€‚</p> <h3 id="13oracle-19c-å¸è½½">1.3ã€Oracle 19c å¸è½½<a class="headerlink" href="#13oracle-19c-å¸è½½" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>è¦åœ¨ Windows ä¸Šå¸è½½ Oracle æ•°æ®åº“ï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨åˆ é™¤æ‰€æœ‰ç›¸å…³çš„ <code>Ora*</code> æ³¨å†Œè¡¨é¡¹ã€æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</p> <ol> <li> <p>åœæ­¢Oracle *æœåŠ¡ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230419152744833.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230419152744833.png" alt="image-20230419152744833" style="zoom:50%;"></a></p> </li> <li> <p>åˆ é™¤ Oracle *æ³¨å†Œè¡¨é¡¹ï¼š</p> <ul> <li> <p><code>è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SOFTWARE\Oracle*</code></p> </li> <li> <p><code>è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Oracle*</code></p> </li> <li> <p><code>è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Oracle*</code></p> <p>é‡æ–°å¯åŠ¨Windowsã€‚</p> </li> </ul> </li> <li> <p>åˆ é™¤ä»¥ä¸‹ Oracle * æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼ˆå¦‚æœå­˜åœ¨ï¼‰:</p> <ul> <li><code>C:\Oracle</code> æˆ– <code>ORACLE_BASE</code></li> <li><code>C:\Program Files\Oracle</code></li> <li><code>C:\Program Files (x86)\Oracle</code></li> <li><code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\</code> ä¸ Oracle ç›¸å…³çš„æ–‡ä»¶å¤¹ã€‚</li> <li><code>C:\Users</code> ä¸ Oracle ç›¸å…³çš„æ–‡ä»¶å¤¹ã€‚</li> </ul> </li> <li> <p>æ¸…ç©º <code>C:\temp</code> å’Œå›æ”¶ç«™ã€‚</p> </li> </ol> <h2 id="2è¿æ¥å’Œé…ç½®">2ã€è¿æ¥å’Œé…ç½®<a class="headerlink" href="#2è¿æ¥å’Œé…ç½®" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="21è¿æ¥-oracle">2.1ã€è¿æ¥ Oracle<a class="headerlink" href="#21è¿æ¥-oracle" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <h4 id="211sqlplus">2.1.1ã€SQL*Plus<a class="headerlink" href="#211sqlplus" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>SQL*Plus æ˜¯ Oracle æä¾›çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä¸ Oracle æ•°æ®åº“äº¤äº’ã€‚å®ƒæ”¯æŒï¼š</p> <ul> <li>è¿è¡Œ SQL è¯­å¥ï¼ˆå¦‚ <code>SELECT</code>ã€<code>INSERT</code>ã€<code>UPDATE</code>ã€<code>DELETE</code>ï¼‰ã€‚</li> <li>è¿è¡Œ PL/SQL ä»£ç å—ï¼ˆå¦‚ <code>BEGIN ... END;</code>ï¼‰ã€‚</li> <li>è¿›è¡Œæ•°æ®åº“ç®¡ç†ï¼ˆå¦‚ <code>ALTER DATABASE</code>ã€<code>SHUTDOWN</code>ã€<code>STARTUP</code>ï¼‰ã€‚</li> <li>æ‰§è¡Œ SQL è„šæœ¬ï¼ˆå¦‚ <code>.sql</code> æ–‡ä»¶ï¼‰ã€‚</li> </ul> <p>SQL*Plus å¯ä»¥ç”¨äºæœ¬åœ°æˆ–è¿œç¨‹è¿æ¥ Oracle æ•°æ®åº“ã€‚</p> <p><strong>ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥</strong></p> <p>å¦‚æœä½ çš„æ“ä½œç³»ç»Ÿç”¨æˆ·å±äº <code>dba</code> ç»„ï¼ˆLinuxï¼‰æˆ– <code>ORA_DBA</code> ç»„ï¼ˆWindowsï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sqlplus<span class="w"> </span>/<span class="w"> </span>as<span class="w"> </span>sysdba
</span></code></pre></div> <p>è¿™å°†ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥åˆ° Oracle æ•°æ®åº“ã€‚</p> <p><strong>ä½¿ç”¨æ™®é€šç”¨æˆ·è¿æ¥</strong></p> <p>å¦‚æœä½ è¦ä½¿ç”¨æ™®é€šç”¨æˆ·è¿æ¥ï¼Œå¯ä»¥æä¾›ç”¨æˆ·åå’Œå¯†ç ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sqlplus<span class="w"> </span>&lt;ç”¨æˆ·å&gt;/&lt;å¯†ç &gt;@<span class="o">[</span>&lt;ä¸»æœºIP&gt;:&lt;ç«¯å£&gt;/<span class="o">]</span>&lt;æ•°æ®åº“æœåŠ¡å&gt;
</span></code></pre></div> <p>å¦‚æœä¸æƒ³åœ¨å‘½ä»¤è¡Œç›´æ¥è¾“å…¥å¯†ç ï¼Œå¯ä»¥åªè¾“å…¥ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sqlplus<span class="w"> </span>&lt;ç”¨æˆ·å&gt;@<span class="o">[</span>&lt;ä¸»æœºIP&gt;:&lt;ç«¯å£&gt;/<span class="o">]</span>&lt;æ•°æ®åº“æœåŠ¡å&gt;
</span></code></pre></div> <p>ç„¶å SQL*Plus ä¼šæç¤ºè¾“å…¥å¯†ç ã€‚</p> <h4 id="212navicat">2.1.2ã€Navicat<a class="headerlink" href="#212navicat" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523200124483.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523200124483.png" alt="image-20230523200124483" style></a></p> <p>åŸºæœ¬ä¸Šç›´æ¥è¿å°±è¡Œï¼Œè¿™é‡Œä¸»è¦è®°å½•ä¸‹é‡åˆ°çš„é—®é¢˜ï¼š</p> <h5 id="ora-12514">ORA-12514<a class="headerlink" href="#ora-12514" title="é”šç‚¹é“¾æ¥">Â¶</a></h5> <p>ORA-12514:TNS:ç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥è¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡</p> <ol> <li> <p>ã€å·¥å…·ã€‘ ==&gt; ã€é€‰é¡¹ã€‘ ==&gt; ã€ç¯å¢ƒã€‘ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20211102124021098.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20211102124021098.png" alt="image-20211102124021098" style></a></p> </li> <li> <p>åœ¨ Oracle å®‰è£…ç›®å½•ä¸‹æ‰¾åˆ° <code>oci.dll</code>ï¼Œ è¿™æ˜¯æˆ‘çš„è·¯å¾„ï¼š<code>E:\Database\Oracle\Oracle_WINDOWS.X64_193000_db_home\bin\oci.dll</code>ï¼Œå®Œæˆä¹‹åé‡æ–°å¯åŠ¨ Navicatã€‚</p> </li> </ol> <h5 id="ora-12516">ORA-12516<a class="headerlink" href="#ora-12516" title="é”šç‚¹é“¾æ¥">Â¶</a></h5> <p>ORA-12516:TNS:ç›‘å¬ç¨‹åºæ‰¾ä¸åˆ°ç¬¦åˆåè®®å †æ ˆè¦æ±‚çš„å¯ç”¨å¤„ç†ç¨‹åº</p> <p>å‡ºç°è¿™ä¸ªé—®é¢˜æ˜¯è¿æ¥æ•°è¿‡å¤§å¯¼è‡´çš„ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸ªè¿æ¥æ•°è¿‡å¤§ï¼Œå³ä½¿ä½¿ç”¨ <code>sqlplus / as sysdba</code> ä¹Ÿæ˜¯ç™»å½•ä¸ä¸Šã€‚æ‰€ä»¥è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆå°±è¦å…ˆæ–­å¼€å½“å‰è¿ç€çš„ processï¼Œç„¶åä½¿ç”¨ <code>sqlplus</code> è¿›è¡Œç™»å½•ä¿®æ”¹ process å’Œ session çš„æœ€å¤§å€¼ï¼š</p> <ol> <li> <p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ SQL*Plus å¹¶ç›´æ¥ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥åˆ°æ•°æ®åº“ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>sqlplus<span class="w"> </span>/<span class="w"> </span>as<span class="w"> </span>sysdba
</span></code></pre></div> </li> <li> <p>æŸ¥çœ‹ process çš„å‚æ•°å€¼å’Œå æœ‰å€¼ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">show</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">processes</span><span class="p">;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$process</span><span class="p">;</span>
</span></code></pre></div> <p>ä¼šå‘ç° <code>processes</code> çš„å‚æ•°å€¼ä¸å¤ªå¤§ï¼Œä¸€èˆ¬é»˜è®¤æ˜¯ 150 æˆ–è€… 300ã€‚</p> </li> <li> <p>ä¿®æ”¹ process å’Œ session çš„æœ€å¤§å€¼ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">alter</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">processes</span><span class="o">=</span><span class="mi">2000</span><span class="w"> </span><span class="k">scope</span><span class="o">=</span><span class="n">spfile</span><span class="p">;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">alter</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">sessions</span><span class="o">=</span><span class="mi">3005</span><span class="w"> </span><span class="k">scope</span><span class="o">=</span><span class="n">spfile</span><span class="p">;</span>
</span></code></pre></div> <blockquote> <p><code>processes</code> çš„å€¼å’Œ <code>sessions</code> çš„å€¼ Oracle å®˜æ–¹æ–‡æ¡£ä¸­è¦æ±‚ sessions = processes * 1.5 + 5</p> </blockquote> </li> <li> <p>é‡å¯æœåŠ¡ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">-- å…³é—­æ•°æ®åº“</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">shutdown</span><span class="w"> </span><span class="k">immediate</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1">-- å¯åŠ¨æ•°æ®åº“ä½¿é…ç½®ç”Ÿæ•ˆ</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">startup</span><span class="p">;</span>
</span></code></pre></div> </li> </ol> <h5 id="ora-12638">ORA-12638<a class="headerlink" href="#ora-12638" title="é”šç‚¹é“¾æ¥">Â¶</a></h5> <p>ORA-12638: èº«ä»½è¯æ˜æ£€ç´¢å¤±è´¥</p> <p>è¿™ä¸ªä¸€èˆ¬å‡ºç°åœ¨è¿œç¨‹è¿æ¥ Oracle æ—¶ï¼Œæ‰¾åˆ° sqlnet.ora æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨ <code>SQLNET.AUTHENTICATION_SERVICES= (NTS)</code> è®¾ç½®ï¼Œåˆ™ä¿®æ”¹ä¸ºï¼š<code>SQLNET.AUTHENTICATION_SERVICES= (NONE)</code>ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥æ·»åŠ  <code>SQLNET.AUTHENTICATION_SERVICES= (NONE)</code>ã€‚</p> <h5 id="ora-28547">ORA-28547<a class="headerlink" href="#ora-28547" title="é”šç‚¹é“¾æ¥">Â¶</a></h5> <p>ORA-28547:connection to server failed, probable Oracle Net admin error</p> <p>å› ä¸º Navicat æ˜¯é€šè¿‡ Oracle å®¢æˆ·ç«¯è¿æ¥ Oracle æœåŠ¡å™¨çš„ï¼ŒOracle çš„å®¢æˆ·ç«¯åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯æ ‡å‡†ç‰ˆï¼Œä¸€ç§æ˜¯ç®€æ´ç‰ˆï¼Œå³ Oracle Install Clientã€‚è€Œæˆ‘ä»¬ç”¨ Navicat æ—¶é€šå¸¸ä¼šåœ¨è‡ªå·±çš„å®‰è£…è·¯å¾„ä¸‹åŒ…å«å¤šä¸ªç‰ˆæœ¬çš„ OCIï¼Œå¦‚æœä½¿ç”¨ Navicat è¿æ¥ Oracle æœåŠ¡å™¨å‡ºç° ORA-28547 é”™è¯¯æ—¶ï¼Œå¤šæ•°æ˜¯å› ä¸º Navicat æœ¬åœ°çš„ OCI ç‰ˆæœ¬ä¸ Oracle æœåŠ¡å™¨æœåŠ¡å™¨ä¸ç¬¦é€ æˆçš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯ä¸‹è½½ OCI ä½¿ä¹‹ä¸æˆ‘ä»¬æ‰€å®‰è£…çš„ Oracle æœåŠ¡å™¨ç›¸ç¬¦åˆã€‚</p> <p>OCI ä¸‹è½½åœ°å€ï¼šhttps://www.oracle.com/database/technologies/instant-client/downloads.html</p> <ol> <li> <p>é€‰æ‹©è‡ªå·±çš„è¿è¡Œç¯å¢ƒï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230803121856769.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230803121856769.png" alt="image-20230803121856769" style></a></p> </li> <li> <p>é€‰æ‹©è‡ªå·±çš„ Oracle ç‰ˆæœ¬ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230803122123579.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230803122123579.png" alt="image-20230803122123579" style></a></p> <blockquote> <p>è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼ŒOracle9i æˆ–ä»¥ä¸Šç‰ˆæœ¬çš„ï¼Œè¦å®‰è£… Install Client11 æˆ–ä»¥ä¸‹ï¼›Oracle8 æˆ– 8i æœåŠ¡å™¨ï¼Œéœ€è¦å®‰è£… Install Client10 æˆ–ä»¥ä¸‹ã€‚è¿™ä¸ªé—®é¢˜ä¸å¤§ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨çš„ Oracle éƒ½æ˜¯ 10 æˆ– 11 äº†ï¼Œæ³¨æ„ä¸€ä¸‹å°±å¥½ã€‚</p> </blockquote> </li> <li> <p>ç„¶ååœ¨ Navicat ä¸­é…ç½®ä¸€ä¸‹ï¼Œé€‰æ‹©ã€å·¥å…·ã€‘ ==&gt; ã€é€‰é¡¹ã€‘ ==&gt; ã€ç¯å¢ƒã€‘ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230803122833129.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230803122833129.png" alt="image-20230803122833129" style="zoom: 67%;"></a></p> <p>åœ¨ OCI library ä¸­æ‰¾åˆ°åˆšåˆšä¸‹è½½çš„æ–‡ä»¶å¤¹ä¸­çš„ oci.dllã€‚</p> </li> <li> <p>è¿™æ ·å°±å®Œæˆäº† Navicat é…ç½®ï¼Œä¹Ÿå°±ä½¿å¾— Navicat ä¸­çš„ oci.dll ç‰ˆæœ¬å’Œ Oracle ä¸­çš„ç‰ˆæœ¬ä¸€è‡´äº†ï¼Œå¿…é¡»é‡å¯ Navicat æ‰èƒ½ç”Ÿæ•ˆã€‚</p> </li> </ol> <h4 id="213sql-developer">2.1.3ã€SQL Developer<a class="headerlink" href="#213sql-developer" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle SQL Developer æ˜¯ä¸€ä¸ªå…è´¹çš„å›¾å½¢åŒ–å·¥å…·ï¼Œå¯ä»¥æé«˜ç”Ÿäº§åŠ›å¹¶ç®€åŒ–æ•°æ®åº“å¼€å‘ä»»åŠ¡ã€‚ä½¿ç”¨ SQL Developer å¯ä»¥æµè§ˆæ•°æ®åº“å¯¹è±¡ã€è¿è¡Œ SQL è¯­å¥å’Œ SQL è„šæœ¬ã€ç¼–è¾‘å’Œè°ƒè¯• PL/SQL è¯­å¥ã€æ“ä½œå’Œå¯¼å‡ºæ•°æ®ä»¥åŠæŸ¥çœ‹å’Œåˆ›å»ºæŠ¥å‘Šã€‚æ‚¨å¯ä»¥è¿æ¥åˆ° Oracle æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥è¿æ¥åˆ°é€‰å®šçš„ç¬¬ä¸‰æ–¹ï¼ˆé Oracleï¼‰æ•°æ®åº“ï¼ŒæŸ¥çœ‹å…ƒæ•°æ®å’Œæ•°æ®ï¼Œå¹¶å°†è¿™äº›æ•°æ®åº“è¿ç§»åˆ° Oracleã€‚</p> <p>SQL Developer è¿˜å°†æ¥å£é›†æˆåˆ°ä¸€äº›ç›¸å…³æŠ€æœ¯ä¸­ï¼ŒåŒ…æ‹¬ Oracle Data Minerã€Oracle OLAPã€Oracle TimesTen In Memory Database å’Œ SQL Developer Data Modelerï¼ˆåªè¯»ï¼‰ã€‚</p> <p>å‰å¾€ <a href="https://docs.oracle.com/en/database/oracle/sql-developer/index.html">Oracle SQL Developer - Oracle SQL Developer Releases</a> å¯é€‰æ‹©ç‰ˆæœ¬ä¸‹è½½ã€‚</p> <p>ä»¥ä¸‹ä¸ºä½¿ç”¨ SQL Developer æ–°å»ºè¡¨ç©ºé—´ä»¥åŠç”¨æˆ·çš„æ“ä½œæ­¥éª¤ï¼š</p> <ol> <li> <p>è¿æ¥åˆ° Oracle æ•°æ®åº“åï¼Œé€‰ä¸­ Oracle è¿æ¥ç„¶åç‚¹å‡»ã€æ–°å»ºã€‘ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523201401549.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523201401549.png" alt="image-20230523201401549" style></a></p> <p>åœ¨å¦‚ä¸‹ç•Œé¢ä¸­å¯ä»¥çœ‹åˆ°æ–°å»ºè¡¨ç©ºé—´çš„é€‰é¡¹ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523201523278.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523201523278.png" alt="image-20230523201523278" style></a></p> </li> <li> <p>åœ¨ã€å…¶ä»–ç”¨æˆ·ã€‘é‡Œï¼Œå¯ä»¥å³é”®æ·»åŠ ç”¨æˆ·ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523202652586.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523202652586.png" alt="image-20230523202652586" style></a></p> </li> <li> <p>å¡«å†™ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶åˆ†é…è¡¨ç©ºé—´ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523204127324.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523204127324.png" alt="image-20230523204127324" style></a></p> </li> <li> <p>æˆæƒé‡Œé¢é€‰ä¸­ CONNECTã€DBAã€RESOURE ä¸‰ä¸ªæƒé™ï¼Œä¿å­˜å³å¯ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523203347868.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523203347868.png" alt="image-20230523203347868" style></a></p> </li> </ol> <h3 id="22oracle-é…ç½®">2.2ã€Oracle é…ç½®<a class="headerlink" href="#22oracle-é…ç½®" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>listener.oraã€tnsnames.ora å’Œ sqlnet.ora è¿™ 3 ä¸ªæ–‡ä»¶æ˜¯å…³ç³» Oracle ç½‘ç»œé…ç½®çš„ 3 ä¸ªä¸»è¦æ–‡ä»¶ï¼Œéƒ½æ˜¯æ”¾åœ¨ <code>$ORACLE_HOME/network/admin/</code> ç›®å½•ä¸‹ã€‚</p> <p>å¦‚æœä¸çŸ¥é“ <code>$ORACLE_HOME</code> åœ¨å“ªå¯ä»¥æ‰“å¼€å›¾å½¢å·¥å…· Oracle Net Manager æŸ¥çœ‹ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20230523183048714.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20230523183048714.png" alt="image-20230523183048714" style></a></p> <p>åŒæ—¶ä¸Šé¢è¯´åˆ°çš„ä¸‰ä¸ªæ–‡ä»¶éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªå›¾å½¢çš„é…ç½®å·¥å…·æ¥å®Œæˆé…ç½®ï¼Œè¿™äº›éƒ½æ˜¯ Oracle è‡ªå¸¦çš„é…ç½®å·¥å…·ï¼š</p> <ul> <li>Net Managerï¼šç®¡ç†å·²ç»æ–°å»ºå¥½çš„å®ä¾‹å’Œç›‘å¬å™¨ã€‚</li> <li>Database Configuration Assistantï¼šæ•°æ®åº“å®ä¾‹ç®¡ç†ã€‚</li> <li>Net Configuration Assistant ï¼šç›‘å¬å™¨ç®¡ç†ã€‚</li> </ul> <p>æ‰€æœ‰ Oracle å®¢æˆ·ç«¯éƒ½æœ‰è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ listener.ora æ˜¯å’ŒæœåŠ¡å™¨ç«¯ç›¸å…³ï¼Œè€Œ tnsnames.ora å’Œ sqlnet.ora ä¸»è¦çš„è¿˜æ˜¯å’Œå®¢æˆ·ç«¯å…³ç³»ç´§å¯†ã€‚</p> <h4 id="221å¼€æ”¾è¿œç¨‹è¿æ¥">2.2.1ã€å¼€æ”¾è¿œç¨‹è¿æ¥<a class="headerlink" href="#221å¼€æ”¾è¿œç¨‹è¿æ¥" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>ä¸è¿æ¥è¿œç¨‹æ•°æ®åº“æœ‰å…³çš„åªæœ‰è¿œç¨‹æ•°æ®åº“ä¸Šçš„ listener.ora æ–‡ä»¶ï¼Œlistener.ora æ–‡ä»¶ æ˜¯ Listener ç›‘å¬å™¨è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ã€‚Listener è¿›ç¨‹å­˜åœ¨äºæœåŠ¡å™¨ä¸Šï¼Œè´Ÿè´£æ¥å—è¿œç¨‹å¯¹æ•°æ®åº“çš„æ¥å…¥ç”³è¯·å¹¶è½¬äº¤ç»™ Oracle çš„æœåŠ¡å™¨è¿›ç¨‹ã€‚æ‰€ä»¥å¦‚æœä¸æ˜¯ä½¿ç”¨çš„è¿œç¨‹çš„è¿æ¥ï¼ŒListener è¿›ç¨‹å°±ä¸æ˜¯å¿…éœ€çš„ï¼ŒåŒæ ·çš„å¦‚æœå…³é—­ Listener è¿›ç¨‹å¹¶ä¸ä¼šå½±å“å·²ç»å­˜åœ¨çš„æ•°æ®åº“è¿æ¥ã€‚</p> <p>Listener å³ç›‘å¬å™¨ï¼ŒåŸåˆ™ä¸Šï¼Œä¸€ä¸ªç›‘å¬å™¨å¯¹åº”ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚</p> <p>ä¸€ä¸ªå…¸å‹çš„æ–‡ä»¶å¦‚ä¸‹ï¼Œç”±æ•°æ®åº“è‡ªå·±ç”Ÿæˆï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">## è¿™ä¸ªçš„åç¼€å¯¹åº”ç€listenerï¼Œå®ƒæ˜¯listenerç›‘å¬å™¨å¯¹åº”çš„å®ä¾‹åˆ—è¡¨</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nv">SID_LIST_LISTENER</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="o">(</span><span class="nv">SID_LIST</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="o">(</span><span class="nv">SID_DESC</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">      </span><span class="o">(</span><span class="nv">SID_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>CLRExtProc<span class="o">)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">      </span><span class="o">(</span><span class="nv">ORACLE_HOME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>C:<span class="se">\O</span>racle<span class="se">\O</span>racle_19c<span class="se">\O</span>racle_193000_db_home<span class="o">)</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">      </span><span class="o">(</span><span class="nv">PROGRAM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>extproc<span class="o">)</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">      </span><span class="o">(</span><span class="nv">ENVS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"EXTPROC_DLLS=ONLY:C:\Oracle\Oracle_19c\Oracle_193000_db_home\bin\oraclr19.dll"</span><span class="o">)</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="o">)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">  </span><span class="o">)</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c1">## å®šä¹‰ä¸€ä¸ªå«listenerçš„ç›‘å¬å™¨ï¼Œè¿™é‡Œåç§°å¯å˜</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="nv">LISTENER</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">  </span><span class="o">(</span><span class="nv">DESCRIPTION</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">    </span><span class="o">(</span><span class="nv">ADDRESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nv">PROTOCOL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>TCP<span class="o">)(</span><span class="nv">HOST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>localhost<span class="o">)(</span><span class="nv">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1521</span><span class="o">))</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">  </span><span class="o">)</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="nv">ADR_BASE_LISTENER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>C:<span class="se">\O</span>racle<span class="se">\O</span>racle_19c<span class="se">\O</span>racle_193000_db_home<span class="se">\l</span>og
</span></code></pre></div> <p>ç¬¬äºŒæ®µå®šä¹‰äº†ä¸€ä¸ªç›‘å¬å™¨ï¼Œç›‘å¬çš„ <code>HOST</code> ä¸ºæœ¬æœºåï¼Œå¯ä»¥æ˜¯æœåŠ¡å™¨åï¼Œä¹Ÿå¯ä»¥æ˜¯<code>127.0.0.1</code> æˆ– <code>localhost</code>ï¼Œå› ä¸ºè¿™ä¸ªç›‘å¬å™¨çš„ä½œç”¨å°±æ˜¯ç›‘å¬æœ¬åœ°è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥ç™»å½•çš„æƒ…å†µã€‚å¦‚æœæŸä¸ªè¿æ¥è¯·æ±‚åˆ°äº†æœ¬åœ° ipï¼Œç«¯å£åˆä¸º 1521ï¼Œç›‘å¬å™¨å°±å‘å®ä¾‹åˆ—è¡¨ä¸­è¯·æ±‚å®ä¾‹åç§°ï¼Œä»¥å®Œæˆæ•°æ®åº“è¿æ¥ã€‚</p> <p>è¿™æ ·å®šä¹‰å¥½ä»¥åï¼Œåªæ˜¯æœ¬åœ°èƒ½è®¿é—®äº†ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸è¿™æ ·é…å¥½æœ¬åœ°ç›‘å¬ï¼Œè¿æœåŠ¡å™¨è‡ªå·±éƒ½ä¸Šä¸å» Oracleã€‚æ‰€ä»¥è¿™æ®µä»£ç ä¸€èˆ¬åœ¨æ•°æ®åº“å®‰è£…å¥½ï¼Œæ–°å»ºå®ä¾‹åå°±ä¼šåˆå§‹åŒ–å¥½ã€‚</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åœ¨ <code>LISTENER</code> è¿™ä¸ªç›‘å¬å™¨çš„ <code>DESCRIPTION</code> ä¸­æ·»åŠ ä¸€ä¸ªå±€åŸŸç½‘çš„åœ°å€ï¼Œæ¥ç›‘å¬åœ¨è¿™ä¸ªå±€åŸŸç½‘åœ°å€ä¸Šçš„è®¿é—®ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nv">LISTENER</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="o">(</span><span class="nv">DESCRIPTION_LIST</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="o">(</span><span class="nv">DESCRIPTION</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">      </span><span class="o">(</span><span class="nv">ADDRESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nv">PROTOCOL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>TCP<span class="o">)(</span><span class="nv">HOST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>localhost<span class="o">)(</span><span class="nv">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1521</span><span class="o">))</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">      </span><span class="o">(</span><span class="nv">ADDRESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nv">PROTOCOL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>TCP<span class="o">)(</span><span class="nv">HOST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">192</span>.168.20.101<span class="o">)(</span><span class="nv">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1521</span><span class="o">))</span><span class="w"> </span><span class="c1"># æ–°å¢å±€åŸŸç½‘åœ°å€</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="o">)</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">  </span><span class="o">)</span>
</span></code></pre></div> <p>è¿™æ ·é…ç½®å¥½åï¼Œç›‘å¬å™¨å°±ä¼šç›‘å¬æœ¬æœºçš„å±€åŸŸç½‘ ipï¼Œä»»ä½•å¯¹è¿™ä¸ª ip çš„ 1521 ç«¯å£çš„è¯·æ±‚éƒ½ä¼šè¢«å…¶æ•è·ï¼Œå¹¶å°è¯•è¿›è¡Œæ•°æ®åº“è¿æ¥ã€‚</p> <div class="admonition tip"> <p class="admonition-title">Important</p> <p>å°† <code>HOST</code> è®¾ç½®ä¸º <code>0.0.0.0</code> è¡¨ç¤ºä¸é™åˆ¶ä»»ä½• IP è®¿é—®ï¼Œé…ç½®å®Œä¸€å®šè¦è®°å¾—é‡å¯ Listener æœåŠ¡ï¼</p> </div> <h4 id="222ä¿®æ”¹ç«¯å£å·">2.2.2ã€ä¿®æ”¹ç«¯å£å·<a class="headerlink" href="#222ä¿®æ”¹ç«¯å£å·" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle é»˜è®¤ç›‘å¬ç«¯å£ 1521ï¼Œä¸€ä¼—æ‰«æå™¨é€šå¸¸é€šè¿‡æ¢æµ‹ 1521 ç«¯å£æ˜¯å¦å¼€å¯æ¥æ¢æµ‹æ˜¯å¦å­˜åœ¨ Oracle æœåŠ¡ï¼Œå¦‚æœä¿®æ”¹é»˜è®¤ç›‘å¬ç«¯å£åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æå‡æ•°æ®åº“å’Œä¸»æœºçš„å®‰å…¨æ€§ã€‚</p> <p>æ¯”å¦‚è¿™é‡Œæˆ‘ä»¬ä¿®æ”¹æˆ 2521 ä¸ºä¾‹ï¼š</p> <ol> <li> <p>æŸ¥çœ‹å½“å‰ç›‘å¬çŠ¶æ€ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>lsnrctl<span class="w"> </span>status
</span></code></pre></div> </li> <li> <p>åœæ­¢ç›‘å¬ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>lsnrctl<span class="w"> </span>stop
</span></code></pre></div> </li> <li> <p>ä¿®æ”¹ç›‘å¬é…ç½®æ–‡ä»¶ï¼š</p> <p>æ‰“å¼€ listener.ora æ–‡ä»¶ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>vi<span class="w"> </span><span class="nv">$ORACLE_HOME</span>/network/admin/listener.ora
</span></code></pre></div> <p>åœ¨ listener.ora æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ° <code>LISTENER</code> æ¡ç›®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>LISTENER =
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>  (DESCRIPTION =
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>  )
</span></code></pre></div> <p>å°† <code>PORT</code> å€¼ä» 1521 æ›´æ”¹ä¸ºä½ å¸Œæœ›ä½¿ç”¨çš„æ–°ç«¯å£å·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³å°†ç«¯å£æ›´æ”¹ä¸º 2521ï¼Œåˆ™åº”å°†å…¶æ›´æ”¹ä¸ºï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 2521))
</span></code></pre></div> </li> <li> <p>ä¿®æ”¹è¿æ¥é…ç½®æ–‡ä»¶ï¼š</p> <p>æ‰“å¼€ tnsnames.ora æ–‡ä»¶ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>vi<span class="w"> </span><span class="nv">$ORACLE_HOME</span>/network/admin/tnsnames.ora
</span></code></pre></div> <p>æ‰¾åˆ°æ•°æ®åº“æœåŠ¡åˆ«åï¼ˆé€šå¸¸ä¸º <code>ORCL</code>ï¼‰ï¼Œå¹¶å°† <code>PORT</code> å€¼æ›´æ”¹ä¸ºä¸ listener.ora æ–‡ä»¶ä¸­ç›¸åŒçš„æ–°ç«¯å£å·ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ORCL =
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>  (DESCRIPTION =
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    (ADDRESS_LIST =
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 2521))
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    )
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    (CONNECT_DATA =
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>      (SERVICE_NAME = ORCL)
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>    )
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>  )
</span></code></pre></div> </li> <li> <p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ SQL*Plus å¹¶ç›´æ¥ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥åˆ°æ•°æ®åº“ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sqlplus<span class="w"> </span>/<span class="w"> </span>as<span class="w"> </span>sysdba
</span></code></pre></div> </li> <li> <p>æŸ¥çœ‹ <code>local_listener</code> å‚æ•°ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">show</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">local_listener</span>
</span></code></pre></div> <p>å¦‚æœä¹‹å‰æ²¡ä¿®æ”¹ç«¯å£ä½¿ç”¨çš„æ˜¯é»˜è®¤é…ç½®ï¼Œåˆ™æ­¤æ—¶å‚æ•° <code>VALUE</code> åº”ä¸ºç©ºå€¼ã€‚</p> </li> <li> <p>ä¿®æ”¹ <code>local_listener</code> å‚æ•°ï¼š</p> <p>å¦‚æœ <code>LOCAL_LISTENER</code> å‚æ•°å·²è®¾ç½®ï¼Œè¯·ç¡®ä¿å…¶å€¼ä¸åœ¨ <code>listener.ora</code> æ–‡ä»¶ä¸­è®¾ç½®çš„æ–°ç«¯å£å·ä¸€è‡´ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">alter</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">local_listener</span><span class="o">=</span><span class="ss">"(address = (PROTOCOL = TCP)(HOST = localhost) (PORT = 2521))"</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>é€€å‡º SQL*Plusï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">exit</span>
</span></code></pre></div> </li> <li> <p>é‡æ–°å¯åŠ¨ç›‘å¬ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>lsnrctl<span class="w"> </span>start
</span></code></pre></div> </li> </ol> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Windows ä¸‹ç›‘å¬æœåŠ¡ä¸º Oracle å¼€å¤´ TNSListener ç»“å°¾çš„æœåŠ¡ï¼Œæ¯”å¦‚å®‰è£…çš„ Oracle19Cï¼ŒæœåŠ¡åä¸ºï¼šOracleOraDB19Home1TNSListenerã€‚</p> </div> <h4 id="223sqlnetora">2.2.3ã€sqlnet.ora<a class="headerlink" href="#223sqlnetora" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>é€šè¿‡è¿™ä¸ªæ–‡ä»¶æ¥å†³å®šæ€æ ·æ‰¾ä¸€ä¸ªè¿æ¥ä¸­å‡ºç°çš„è¿æ¥å­—ç¬¦ä¸²ï¼Œç¤ºä¾‹æ–‡ä»¶ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>SQLNET.AUTHENTICATION_SERVICES= (NTS)
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>NAMES.DIRECTORY_PATH= (TNSNAMES, HOSTNAME, ONAMESï¼ŒEZCONNECT)
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>#NAMES.DEFAULT_DOMAIN = oracle.com123
</span></code></pre></div> <p>å†…å®¹è¯´æ˜ï¼š</p> <ul> <li> <p><code>SQLNET.AUTHENTICATION_SERVICES= (NTS)</code></p> <p>è¡¨æ˜ç”¨æˆ·è¿æ¥æ•°æ®åº“ç”¨å“ªç§éªŒè¯æ–¹å¼ï¼Œä¸»è¦ä¸¤ç§ï¼š</p> <ul> <li><code>NTS</code>ï¼šè¡¨ç¤ºç³»ç»Ÿèº«ä»½éªŒè¯ â€” ç”¨æˆ·åå’Œå£ä»¤å¯è¾“å¯ä¸è¾“ <code>conn / as sysdba</code>ï¼›</li> <li><code>NONE</code>ï¼šOracle æ•°æ®åº“èº«ä»½éªŒè¯ â€” å¿…é¡»è¾“å…¥ç”¨æˆ·åå’Œå£ä»¤ <code>conn system/oracle as sysdba</code>ï¼›</li> </ul> <p>åœ¨ Unix ç¯å¢ƒä¸‹å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œä¸€èˆ¬åœ¨ Unix ä¸‹å¯ä»¥å»æ‰è¿™ä¸ªé…ç½®ã€‚</p> </li> </ul> <h4 id="224ä¿®æ”¹å­—ç¬¦é›†">2.2.4ã€ä¿®æ”¹å­—ç¬¦é›†<a class="headerlink" href="#224ä¿®æ”¹å­—ç¬¦é›†" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <ol> <li> <p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ SQL*Plus å¹¶ç›´æ¥ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥åˆ°æ•°æ®åº“ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">sqlplus</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sysdba</span>
</span></code></pre></div> </li> <li> <p>ç«‹å³å…³é—­æ•°æ®åº“ï¼Œä»¥ç¡®ä¿æ•°æ®åº“ä¸å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä»è€Œå…è®¸åç»­çš„æ•°æ®åº“ä¿®æ”¹æ“ä½œï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">shutdown</span><span class="w"> </span><span class="k">immediate</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>å¯åŠ¨æ•°æ®åº“å®ä¾‹ï¼Œå¹¶å°†å…¶ä¿æŒåœ¨MOUNTï¼ˆå·²è£…è½½ï¼‰çŠ¶æ€ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">startup</span><span class="w"> </span><span class="n">mount</span>
</span></code></pre></div> </li> <li> <p>ä¸ºäº†ç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·èƒ½å¤Ÿåœ¨å­—ç¬¦é›†æ›´æ”¹æœŸé—´è®¿é—®æ•°æ®åº“ï¼Œå¯ç”¨ RESTRICTED SESSION æ¨¡å¼ï¼Œåªå…è®¸å…·æœ‰ RESTRICTED SESSION ç‰¹æƒçš„ç”¨æˆ·è¿æ¥ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">-- æ£€æŸ¥ RESTRICTED SESSION æ¨¡å¼ï¼Œå¦‚æœ logins åˆ—çš„å€¼ä¸º RESTRICTEDï¼Œåˆ™è¡¨ç¤º RESTRICTED SESSION æ¨¡å¼å·²æ‰“å¼€ã€‚å¦‚æœå€¼ä¸º ALLOWEDï¼Œåˆ™è¡¨ç¤ºæ¨¡å¼æœªæ‰“å¼€ã€‚</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">logins</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">v$instance</span><span class="p">;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="n">ENABLE</span><span class="w"> </span><span class="n">RESTRICTED</span><span class="w"> </span><span class="k">SESSION</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>ä¸ºäº†é˜²æ­¢åå°ä½œä¸šå’Œé˜Ÿåˆ—åœ¨å­—ç¬¦é›†æ›´æ”¹æœŸé—´å¯¹æ•°æ®åº“äº§ç”Ÿå¹²æ‰°ï¼Œç¦ç”¨ä½œä¸šé˜Ÿåˆ—å’Œé«˜çº§é˜Ÿåˆ—ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">-- æŸ¥çœ‹ JOB_QUEUE_PROCESSES å‚æ•°ã€‚</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">v$parameter</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'job_queue_processes'</span><span class="p">;</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">JOB_QUEUE_PROCESSES</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="c1">-- æŸ¥çœ‹ AQ_TM_PROCESSES å‚æ•°ã€‚</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">v$parameter</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'aq_tm_processes'</span><span class="p">;</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">AQ_TM_PROCESSES</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>åœ¨ MOUNT çŠ¶æ€ä¸‹ï¼Œæ•°æ®åº“ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œéœ€è¦å…ˆæ‰“å¼€æ•°æ®åº“ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">open</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›†ä¸º ZHS16GBKï¼Œä¿®æ”¹å†…éƒ¨ä½¿ç”¨çš„æ•°æ®åº“å­—ç¬¦é›†ä¸º ZHS16GBKï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="nb">CHARACTER</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">ZHS16GBK</span><span class="p">;</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="nb">CHARACTER</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">INTERNAL_USE</span><span class="w"> </span><span class="n">ZHS16GBK</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>æŸ¥è¯¢ NLS å‚æ•°ä»¥éªŒè¯å­—ç¬¦é›†æ›´æ”¹æ˜¯å¦ç”Ÿæ•ˆï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">-- åœ¨å†…å®¹ä¸­æ‰¾ä¸‹NLS_CHARACTERSETï¼Œè¿™ä¸ªå€¼ï¼šZHS16GBK</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$nls_parameters</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>å…³é—­ä¹‹å‰è¿˜åŸä¿®æ”¹çš„å‚æ•°ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code>```sql
ALTER SYSTEM ENABLE &lt;å‚æ•°&gt; SESSION;
ALTER SYSTEM SET JOB_QUEUE_PROCESSES=&lt;å‚æ•°&gt;;
ALTER SYSTEM SET AQ_TM_PROCESSES=&lt;å‚æ•°&gt;;
```
</code></pre></div> </li> <li> <p>å…³é—­æ•°æ®åº“ä»¥è¿›è¡Œæœ€ç»ˆçš„æ¸…ç†å·¥ä½œï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code>```sql
shutdown immediate;
```
</code></pre></div> </li> <li> <p>å†æ¬¡å¯åŠ¨æ•°æ®åº“ä»¥ç¡®ä¿æ‰€æœ‰æ›´æ”¹ç”Ÿæ•ˆï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code>```sql
startup
```
</code></pre></div> </li> <li> <p>æŸ¥æŸ¥è¯¢ NLS å‚æ•°ä»¥éªŒè¯å­—ç¬¦é›†æ›´æ”¹æ˜¯å¦æŒä¹…ç”Ÿæ•ˆï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code>```sql
select * from v$nls_parameters;
```
</code></pre></div> </li> </ol> <h4 id="225ä¿®æ”¹å ç”¨å†…å­˜">2.2.5ã€ä¿®æ”¹å ç”¨å†…å­˜<a class="headerlink" href="#225ä¿®æ”¹å ç”¨å†…å­˜" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle å®‰è£…å¥½ä¹‹åï¼Œä¹Ÿå¯ä»¥è°ƒæ•´å†…å­˜çš„åˆ†é…ã€‚</p> <p>é¦–å…ˆéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ SQL*Plus å¹¶ç›´æ¥ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥åˆ°æ•°æ®åº“ï¼ˆåç»­çš„æ“ä½œéœ€è¦å€ŸåŠ©æ­¤å·¥å…·å®Œæˆï¼‰ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>sqlplus<span class="w"> </span>/<span class="w"> </span>as<span class="w"> </span>sysdba
</span></code></pre></div> <p>æŸ¥çœ‹ç›¸å…³é…ç½®ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="k">show</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">target</span>
</span></code></pre></div> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>NAME                                 TYPE        VALUE
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>------------------------------------ ----------- ------------------------------
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>archive_lag_target                   integer     0
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>db_big_table_cache_percent_target    string      0
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>db_flashback_retention_target        integer     1440
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>fast_start_io_target                 integer     0
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>fast_start_mttr_target               integer     0
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>memory_max_target                    big integer 6000m
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>memory_target                        big integer 6000m
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>parallel_servers_target              integer     400
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>pga_aggregate_target                 big integer 1500M
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>sga_target                           big integer 4500M
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>target_pdbs                          integer     9
</span></code></pre></div> <div class="admonition warning"> <p class="admonition-title">Caution</p> <p>åç»­å†…å­˜è°ƒæ•´ä¸­ï¼Œå¿…é¡» memory_target &gt;= sga_target + pga_aggregate_targetï¼Œå¦åˆ™ä¼šå¯åŠ¨æŠ¥é”™ï¼</p> </div> <p>ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•æ¥ä¿®æ”¹ Oracle çš„å†…å­˜è®¾ç½®ï¼š</p> <p><strong>è°ƒæ•´ <code>MEMORY_TARGET</code> å’Œ <code>MEMORY_MAX_TARGET</code> å‚æ•°</strong></p> <p>å¦‚æœä½ å¯ç”¨äº†è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼ˆAMMï¼‰ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°æ¥è°ƒæ•´å†…å­˜åˆ†é…ï¼š</p> <ul> <li><code>MEMORY_TARGET</code>ï¼šOracle å®ä¾‹å¯åŠ¨åä½¿ç”¨çš„å†…å­˜å¤§å°ã€‚</li> <li><code>MEMORY_MAX_TARGET</code>ï¼šOracle å®ä¾‹å¯ä»¥ä½¿ç”¨çš„æœ€å¤§å†…å­˜å¤§å°ã€‚</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>åœ¨ Oracle 19Cï¼Œå¦‚æœä½ è®¾ç½®å ç”¨å†…å­˜è¶…è¿‡ 4 Gï¼Œé‚£ä¹ˆä¼šç¦ç”¨ AMMã€‚</p> </div> <p>ä¿®æ”¹æ–¹æ³•ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">MEMORY_TARGET</span><span class="o">=</span><span class="mi">2</span><span class="k">G</span><span class="w"> </span><span class="k">SCOPE</span><span class="o">=</span><span class="n">SPFILE</span><span class="p">;</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">MEMORY_MAX_TARGET</span><span class="o">=</span><span class="mi">3</span><span class="k">G</span><span class="w"> </span><span class="k">SCOPE</span><span class="o">=</span><span class="n">SPFILE</span><span class="p">;</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">MEMORY_TARGET</span><span class="o">=</span><span class="mi">6000</span><span class="n">m</span><span class="w"> </span><span class="k">SCOPE</span><span class="o">=</span><span class="n">SPFILE</span><span class="p">;</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">MEMORY_MAX_TARGET</span><span class="o">=</span><span class="mi">6000</span><span class="n">m</span><span class="w"> </span><span class="k">SCOPE</span><span class="o">=</span><span class="n">SPFILE</span><span class="p">;</span>
</span></code></pre></div> <p>ç„¶åé‡å¯æ•°æ®åº“å®ä¾‹ä½¿å…¶ç”Ÿæ•ˆï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">SHUTDOWN</span><span class="w"> </span><span class="k">IMMEDIATE</span><span class="p">;</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="n">STARTUP</span><span class="p">;</span>
</span></code></pre></div> <div class="admonition tip"> <p class="admonition-title">Important</p> <p><code>SCOPE</code> å‚æ•°å†³å®šäº†æ›´æ”¹çš„ç”Ÿæ•ˆæ—¶é—´ï¼š</p> <ul> <li><code>SCOPE=SPFILE</code>ï¼šåœ¨ä¸‹æ¬¡æ•°æ®åº“å¯åŠ¨æ—¶ç”Ÿæ•ˆã€‚</li> <li><code>SCOPE=MEMORY</code>ï¼šç«‹å³ç”Ÿæ•ˆï¼Œä½†ä¸ä¼šä¿å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚</li> <li><code>SCOPE=BOTH</code>ï¼šç«‹å³ç”Ÿæ•ˆï¼Œå¹¶ä¿å­˜åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</li> </ul> </div> <p><strong>æ‰‹åŠ¨è°ƒæ•´ SGA å’Œ PGA</strong></p> <p>å¦‚æœä½ æ²¡æœ‰å¯ç”¨AMMï¼Œå¯ä»¥æ‰‹åŠ¨è°ƒæ•´SGAï¼ˆSystem Global Areaï¼‰å’ŒPGAï¼ˆProgram Global Areaï¼‰çš„å¤§å°ã€‚ä¸»è¦å‚æ•°æœ‰ï¼š</p> <ul> <li><code>SGA_TARGET</code>ï¼šæ§åˆ¶ SGA çš„å¤§å°ã€‚</li> <li><code>PGA_AGGREGATE_TARGET</code>ï¼šæ§åˆ¶ PGA çš„å¤§å°ã€‚</li> </ul> <p>ä¿®æ”¹æ–¹æ³•ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">SGA_TARGET</span><span class="o">=</span><span class="mi">4500</span><span class="n">m</span><span class="w"> </span><span class="k">SCOPE</span><span class="o">=</span><span class="n">SPFILE</span><span class="p">;</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">PGA_AGGREGATE_TARGET</span><span class="o">=</span><span class="mi">1500</span><span class="n">m</span><span class="w"> </span><span class="k">SCOPE</span><span class="o">=</span><span class="n">SPFILE</span><span class="p">;</span>
</span></code></pre></div> <p>åŒæ ·éœ€è¦é‡å¯æ•°æ®åº“å®ä¾‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">SHUTDOWN</span><span class="w"> </span><span class="k">IMMEDIATE</span><span class="p">;</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="n">STARTUP</span><span class="p">;</span>
</span></code></pre></div> <p><strong>è°ƒé”™å†…å­˜å¯¼è‡´æ— æ³•å¯åŠ¨</strong></p> <p>åœ¨æ•°æ®åº“ä¸èƒ½æ›´æ”¹ spfile çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ”¹ pfileï¼Œå†ç”¨ pfile å¯åŠ¨ï¼š</p> <ol> <li> <p>ä»¥ spfile ä¸ºå‰¯æœ¬åˆ›å»º pfile æ–‡ä»¶ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="k">create</span><span class="w"> </span><span class="n">pfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'C:\Oracle\Oracle19C\WINDOWS.X64_193000_db_home\INIT.ORA'</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">spfile</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>å°† pfile æ–‡ä»¶é‡Œé¢çš„å†…å­˜è®¾ç½®æ”¹æ‰ï¼ˆæ”¹æˆéœ€è¦çš„å¤§å°ï¼‰ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>*.memory_max_target=8192m
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>*.memory_target=8192m
</span></code></pre></div> </li> <li> <p>ç”¨ pfile å¯åŠ¨ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">STARTUP</span><span class="w"> </span><span class="n">PFILE</span><span class="o">=</span><span class="s1">'C:\Oracle\Oracle19C\WINDOWS.X64_193000_db_home\INIT.ORA'</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>å¯åŠ¨æˆåŠŸåå°†æ–‡ä»¶æ”¹å› spfileï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="k">create</span><span class="w"> </span><span class="n">spfile</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">pfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'C:\Oracle\Oracle19C\WINDOWS.X64_193000_db_home\INIT.ORA'</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>ç„¶åå†å¯åŠ¨ä¸€æ¬¡ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="n">SHUTDOWN</span><span class="w"> </span><span class="k">IMMEDIATE</span><span class="p">;</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="n">STARTUP</span><span class="p">;</span>
</span></code></pre></div> </li> </ol> <h2 id="3ç”¨æˆ·åŠè¡¨ç©ºé—´">3ã€ç”¨æˆ·åŠè¡¨ç©ºé—´<a class="headerlink" href="#3ç”¨æˆ·åŠè¡¨ç©ºé—´" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="31ç”¨æˆ·ç®¡ç†">3.1ã€ç”¨æˆ·ç®¡ç†<a class="headerlink" href="#31ç”¨æˆ·ç®¡ç†" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ SQL*Plus å¹¶ç›´æ¥ä»¥ <code>SYSDBA</code> æƒé™è¿æ¥åˆ°æ•°æ®åº“ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>sqlplus<span class="w"> </span>/<span class="w"> </span>as<span class="w"> </span>sysdba
</span></code></pre></div> <p><strong>è´¦æˆ·è§£é”</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="k">alter</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">&lt;</span><span class="err">ç”¨æˆ·å</span><span class="o">&gt;</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="n">unlock</span><span class="p">;</span>
</span></code></pre></div> <p><strong>ä¿®æ”¹å¯†ç </strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="k">alter</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">&lt;</span><span class="err">ç”¨æˆ·å</span><span class="o">&gt;</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">&lt;</span><span class="err">å¯†ç </span><span class="o">&gt;</span><span class="p">;</span>
</span></code></pre></div> <p><strong>å–æ¶ˆå¯†ç 180 å¤©é™åˆ¶</strong></p> <ol> <li> <p>æŸ¥çœ‹ç”¨æˆ·çš„ <code>proifle</code> æ˜¯å“ªä¸ªï¼Œä¸€èˆ¬æ˜¯ DEFAULTï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="n">PROFILE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dba_users</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>æŸ¥çœ‹æŒ‡å®šæ¦‚è¦æ–‡ä»¶ï¼ˆå¦‚ DEFAULTï¼‰çš„å¯†ç æœ‰æ•ˆæœŸè®¾ç½®ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dba_profiles</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="o">=</span><span class="s1">'DEFAULT'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">resource_name</span><span class="o">=</span><span class="s1">'PASSWORD_LIFE_TIME'</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>å°†å¯†ç æœ‰æ•ˆæœŸç”±é»˜è®¤çš„ 180 å¤©ä¿®æ”¹æˆæ— é™åˆ¶ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="n">PASSWORD_LIFE_TIME</span><span class="w"> </span><span class="n">UNLIMITED</span><span class="p">;</span>
</span></code></pre></div> </li> </ol> <h3 id="32è¡¨ç©ºé—´">3.2ã€è¡¨ç©ºé—´<a class="headerlink" href="#32è¡¨ç©ºé—´" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>åˆ é™¤è¡¨ç©ºé—´</strong></p> <p>åˆ é™¤ç©ºçš„è¡¨ç©ºé—´ï¼Œä½†æ˜¯ä¸åŒ…å«ç‰©ç†æ–‡ä»¶ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="k">DROP</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">;</span>
</span></code></pre></div> <p>å¦‚æœè¡¨ç©ºé—´éç©ºï¼Œå°±è¦åŠ ä¸Š <code>INCLUDING CONTENTS</code> é€‰é¡¹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="k">DROP</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="k">INCLUDING</span><span class="w"> </span><span class="n">CONTENTS</span><span class="p">;</span>
</span></code></pre></div> <p>å¦‚æœè¿˜å¸Œæœ›åˆ é™¤è¯¥è¡¨ç©ºé—´çš„ç›¸å…³æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>INCLUDING CONTENTS AND DATAFILES</code> é€‰é¡¹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="k">DROP</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="k">INCLUDING</span><span class="w"> </span><span class="n">CONTENTS</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">DATAFILES</span><span class="p">;</span>
</span></code></pre></div> <p>å¦‚æœå…¶ä»–è¡¨ç©ºé—´ä¸­çš„è¡¨æœ‰å¤–é”®ç­‰çº¦æŸå…³è”åˆ°äº†æœ¬è¡¨ç©ºé—´ä¸­çš„è¡¨çš„å­—æ®µï¼Œå°±è¦åŠ ä¸Š <code>CASCADE CONSTRAINTS</code>ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="k">DROP</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="k">INCLUDING</span><span class="w"> </span><span class="n">CONTENTS</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">DATAFILES</span><span class="w"> </span><span class="k">CASCADE</span><span class="w"> </span><span class="k">CONSTRAINTS</span><span class="p">;</span>
</span></code></pre></div> <h2 id="4æ•°æ®ç»“æ„">4ã€æ•°æ®ç»“æ„<a class="headerlink" href="#4æ•°æ®ç»“æ„" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="41varchar-å’Œ-varchar2">4.1ã€VARCHAR å’Œ VARCHAR2<a class="headerlink" href="#41varchar-å’Œ-varchar2" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <ol> <li><code>VARCHAR</code> æ˜¯æ ‡å‡† SQL é‡Œé¢çš„ï¼› <code>VARCHAR2</code> æ˜¯ Oracle æä¾›çš„ç‹¬æœ‰çš„æ•°æ®ç±»å‹ã€‚</li> <li><code>VARCHAR</code> å¯¹äºæ±‰å­—å ä¸¤ä¸ªå­—èŠ‚ï¼Œå¯¹äºè‹±æ–‡æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œå çš„å†…å­˜å°ï¼›<code>VARCHAR2</code> éƒ½æ˜¯å ä¸¤ä¸ªå­—èŠ‚ã€‚</li> <li><code>VARCHAR</code> å¯¹ç©ºä¸²ä¸å¤„ç†ï¼›<code>VARCHAR2</code> å°†ç©ºä¸²å½“åš <code>null</code> æ¥å¤„ç†ã€‚</li> <li><code>VARCHAR</code> å­˜æ”¾å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œæœ€å¤§é•¿åº¦æ˜¯ 2000ï¼›<code>VARCHAR2</code> æ˜¯å­˜æ”¾å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œæœ€å¤§é•¿åº¦æ˜¯ 4000ã€‚</li> <li>å¦‚æœæ˜¯è¦æ›´æ¢ä¸åŒçš„æ•°æ®åº“ï¼Œä¾‹å¦‚ MySQLï¼Œé‚£ä¹ˆå°±ç”¨ <code>VARCHAR</code> ï¼Œå¦‚æœå°±ç”¨ Oracleï¼Œé‚£ä¹ˆç”¨ <code>VARCHAR2</code> æ¯”è¾ƒå¥½ä¸€ç‚¹ã€‚</li> </ol> <h2 id="5æŸ¥è¯¢">5ã€æŸ¥è¯¢<a class="headerlink" href="#5æŸ¥è¯¢" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <p>æˆ‘åˆå­¦çš„æ•°æ®åº“æ˜¯ MySQLï¼Œç”±äº Oracle ä¹Ÿæ˜¯ä½¿ç”¨ SQL æ ‡å‡†ï¼Œè¿™é‡Œç”¨äºè®°å½•å·¥ä½œä¸­ä½¿ç”¨ Oracle æ‰€é‡åˆ°çš„æŸ¥è¯¢é—®é¢˜ã€‚</p> <h3 id="51å¯¹-clob-è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢">5.1ã€å¯¹ CLOB è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢<a class="headerlink" href="#51å¯¹-clob-è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åœ¨ Oracle ä¸­å¤§æ–‡æœ¬æ•°æ®æˆ‘ä»¬æ²¡æœ‰åŠæ³•ä½¿ç”¨ <code>LIKE</code> è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ Oracle ä¸­çš„å‡½æ•°ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">&lt;</span><span class="err">è¡¨å</span><span class="o">&gt;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">dbms_lob</span><span class="p">.</span><span class="n">instr</span><span class="p">(</span><span class="o">&lt;</span><span class="err">å­—æ®µåï¼ˆ</span><span class="n">clodç±»å‹</span><span class="err">ï¼‰</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="s1">'æŸ¥è¯¢æ¡ä»¶'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
</span></code></pre></div> <p>åœ¨ Oracle ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>instr()</code> å‡½æ•°å¯¹æŸä¸ªå­—ç¬¦ä¸²è¿›è¡Œåˆ¤æ–­ï¼Œåˆ¤æ–­å…¶æ˜¯å¦å«æœ‰æŒ‡å®šçš„å­—ç¬¦ã€‚å…¶è¯­æ³•ä¸ºï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="n">instr</span><span class="p">(</span><span class="n">sourceString</span><span class="p">,</span><span class="w"> </span><span class="n">destString</span><span class="p">,</span><span class="w"> </span><span class="k">start</span><span class="p">,</span><span class="w"> </span><span class="n">appearPosition</span><span class="p">)</span>
</span></code></pre></div> <p>å‚æ•°ï¼š</p> <ul> <li><em>sourceString</em>ï¼šæºå­—ç¬¦ä¸²ã€‚</li> <li><em>destString</em>ï¼šæƒ³ä»æºå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾çš„å­ä¸²ã€‚</li> <li><em>start</em>ï¼šæŸ¥æ‰¾çš„å¼€å§‹ä½ç½®ï¼Œè¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º 1ï¼Œå¦‚æœ <em>start</em> çš„å€¼ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆä»£è¡¨ä»å³å¾€å·¦è¿›è¡ŒæŸ¥æ‰¾ã€‚</li> <li><em>appearPosition</em>ï¼šæƒ³ä»æºå­—ç¬¦ä¸­æŸ¥æ‰¾å‡ºç¬¬å‡ æ¬¡å‡ºç°çš„ <em>destString</em>ï¼Œè¯¥å‚æ•°ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º 1ã€‚</li> </ul> <p>è¿”å›å€¼ï¼šæŸ¥æ‰¾åˆ°çš„å­—ç¬¦ä¸²çš„ä½ç½®ã€‚</p> <h3 id="52æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢">5.2ã€æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢<a class="headerlink" href="#52æ ‘å½¢ç»“æ„å±‚çº§æŸ¥è¯¢" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>é€šå¸¸ï¼Œåœ¨æŸ¥è¯¢æ ‘å½¢ç»“æ„çš„æ•°æ®æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>START WITH...CONNECT BY PRIOR</code> çš„æ–¹å¼æŸ¥è¯¢ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">&lt;</span><span class="err">å­—æ®µ</span><span class="o">&gt;</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="k">FROM</span><span class="w"> </span><span class="o">&lt;</span><span class="err">è¡¨å</span><span class="o">&gt;</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">condition1</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="k">START</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">condition2</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="k">CONNECT</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">PRIOR</span><span class="w"> </span><span class="n">condition3</span>
</span></code></pre></div> <p>å‚æ•°ï¼š</p> <ul> <li><em>condition1</em>ï¼šè¿‡æ»¤æ¡ä»¶ã€‚</li> <li><em>condition2</em>ï¼šèµ·å§‹çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒæŒ‡å®šæ ¹èŠ‚ç‚¹ï¼Œå½“ç„¶å¯ä»¥æ”¾å®½é™å®šæ¡ä»¶ï¼Œä»¥å–å¾—å¤šä¸ªæ ¹ç»“ç‚¹ï¼Œå®é™…å°±æ˜¯å¤šæ£µæ ‘ã€‚</li> <li><em>condition3</em>ï¼šæŒ‡å®šçˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ç›´æ¥çš„å…³ç³»ï¼Œ<code>PRIOR</code> æŒ‡å®šçˆ¶èŠ‚ç‚¹ã€‚</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>åœ¨å±‚æ¬¡æŸ¥è¯¢ä¸­ï¼Œå¦‚æœæƒ³è®© â€œäº²å…„å¼Ÿâ€ æŒ‰è§„çŸ©è¿›è¡Œå‡åºæ’åºï¼Œå°±ä¸å¾—ä¸å€ŸåŠ© <code>ORDERSIBLINGS BY</code> è¿™ä¸ªç‰¹å®šçš„æ’åºè¯­å¥è€Œé <code>ORDER BY</code> å­å¥ï¼Œè‹¥è¦é™åºè¾“å‡ºå¯ä»¥åœ¨å…¶åæ·»åŠ  <code>DESC</code> å…³é”®å­—ã€‚</p> </div> <p><strong>ç¤ºä¾‹</strong></p> <p>å‡è®¾ç°æœ‰éƒ¨é—¨è¡¨ <code>DEPARTMENT</code>ï¼Œéƒ¨é—¨è¡¨ä¸­å­—æ®µåŒ…æ‹¬ <code>DEPID</code>ï¼ˆéƒ¨é—¨ IDï¼‰ï¼Œ<code>PARENTDEPID</code>ï¼ˆçˆ¶éƒ¨é—¨ IDï¼‰ï¼Œ<code>DEPNAME</code>ï¼ˆéƒ¨é—¨åç§°ï¼‰ã€‚</p> <p>1ã€æˆ‘ä»¬è¦æŸ¥è¯¢éƒ¨é—¨ <code>ID="1110"</code> çš„éƒ¨é—¨çš„æ‰€æœ‰çˆ¶éƒ¨é—¨çš„ ID å’Œåç§°ï¼ˆåŒ…å«éƒ¨é—¨ <code>ID="1110"</code> çš„éƒ¨é—¨ï¼Œä¸åŒ…å«å¯é€šè¿‡ <code>WHERE</code> æ¡ä»¶è¿‡æ»¤ï¼‰ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">DEPID</span><span class="p">,</span><span class="w"> </span><span class="n">DEPNAME</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">FW_DEPARTMENT</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="c1">-- WHERE DEPID &lt;&gt; '1110'</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="k">START</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">DEPID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'1110'</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="k">CONNECT</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">PRIOR</span><span class="w"> </span><span class="n">PARENTDEPID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEPID</span><span class="w"> </span>
</span></code></pre></div> <p>2ã€æˆ‘ä»¬è¦æŸ¥è¯¢éƒ¨é—¨ <code>ID="1110"</code> çš„éƒ¨é—¨çš„æ‰€æœ‰å­éƒ¨é—¨çš„ ID å’Œåç§°ï¼ˆåŒ…å«éƒ¨é—¨ <code>ID="1110"</code> çš„éƒ¨é—¨ï¼Œä¸åŒ…å«å¯é€šè¿‡ <code>WHERE</code> æ¡ä»¶è¿‡æ»¤ï¼‰ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">DEPID</span><span class="p">,</span><span class="w"> </span><span class="n">DEPNAME</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">FW_DEPARTMENT</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="c1">-- WHERE DEPID &lt;&gt; '1110'</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="k">START</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">DEPID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'1110'</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="k">CONNECT</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">PRIOR</span><span class="w"> </span><span class="n">DEPID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PARENTDEPID</span>
</span></code></pre></div> <p>ä»ä¸Šé¢ 2 ä¸ª SQL å¯ä»¥å‘ç°ï¼š</p> <ul> <li>æŸ¥è¯¢å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦å°† <code>PRIOR</code> æ”¾åœ¨çˆ¶èŠ‚ç‚¹å·¦ä¾§ã€‚</li> <li>æŸ¥è¯¢å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦å°† <code>PRIOR</code> æ”¾åœ¨å­èŠ‚ç‚¹å·¦ä¾§ã€‚</li> </ul> <h3 id="53å…³äº-oracle-ä¸­çš„-as">5.3ã€å…³äº Oracle ä¸­çš„ AS<a class="headerlink" href="#53å…³äº-oracle-ä¸­çš„-as" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åœ¨ Oracle ä¸­ <code>AS</code> å…³é”®å­—ä¸èƒ½ç”¨äºæŒ‡å®šè¡¨çš„åˆ«åï¼Œåœ¨ Oracle ä¸­æŒ‡å®šè¡¨çš„åˆ«åæ—¶åªéœ€åœ¨åŸæœ‰è¡¨åå’Œè¡¨çš„åˆ«åä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”å³å¯ï¼ŒæŒ‡å®šåˆ—çš„åˆ«åçš„ç”¨æ³•å’Œ MySQL ç›¸åŒï¼Œä½†åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­å¦‚æœåˆ—çš„åˆ«åä¸åŸæœ‰åˆ—åç›¸åŒï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼ˆç¼–è¯‘æ—¶ä¸ä¼šå‡ºé”™ï¼‰ï¼Œå…¶ä»–æƒ…å†µä¸‹åˆ—çš„åˆ«åå¯ä»¥ä¸åˆ—åæœ¬èº«ç›¸åŒã€‚</p> <h3 id="54é™åˆ¶æŸ¥è¯¢æ¡æ•°">5.4ã€é™åˆ¶æŸ¥è¯¢æ¡æ•°<a class="headerlink" href="#54é™åˆ¶æŸ¥è¯¢æ¡æ•°" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œ<code>LIMIT</code> å…³é”®å­—ç”¨äºé™åˆ¶æŸ¥è¯¢ç»“æœçš„è¿”å›è¡Œæ•°ã€‚å®ƒé€šå¸¸ç”¨äºåˆ†é¡µæŸ¥è¯¢æˆ–é™åˆ¶ç»“æœé›†çš„å¤§å°ã€‚</p> <p>ä½†æ˜¯ Oracle ä¸­å¹¶æ²¡æœ‰ <code>LIMIMT</code>ï¼Œåœ¨ Oracle æ•°æ®åº“ä¸­ï¼Œ<code>ROWNUM</code> æ˜¯ä¸€ä¸ªä¼ªåˆ—ï¼ˆPseudocolumnï¼‰ï¼Œå®ƒç”¨äºæ ‡è¯†æŸ¥è¯¢ç»“æœé›†ä¸­çš„è¡Œå·ã€‚æ¯å½“ä»æŸ¥è¯¢ç»“æœé›†ä¸­æ£€ç´¢å‡ºä¸€è¡Œæ—¶ï¼Œ<code>ROWNUM</code> å°±ä¼šé€’å¢ã€‚è¿™ä½¿å¾—å®ƒæˆä¸ºé™åˆ¶è¿”å›è¡Œæ•°ã€åˆ†é¡µæŸ¥è¯¢çš„ä¸€ç§æ–¹å¼ã€‚</p> <p><strong>é™åˆ¶è¿”å›è¡Œæ•°</strong></p> <p>å¯ä»¥ä½¿ç”¨ <code>ROWNUM</code> é™åˆ¶æŸ¥è¯¢ç»“æœçš„è¿”å›è¡Œæ•°ï¼Œä¾‹å¦‚ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">column1</span><span class="p">,</span><span class="w"> </span><span class="n">column2</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">your_table</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">conditions</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="k">AND</span><span class="w"> </span><span class="n">ROWNUM</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span></code></pre></div> <p>è¿™å°†è¿”å›æ»¡è¶³æ¡ä»¶çš„å‰ 10 è¡Œã€‚</p> <p><strong>åˆ†é¡µæŸ¥è¯¢</strong></p> <p>å¯¹äºè¿™ç§å½¢å¼çš„æŸ¥è¯¢ï¼ŒOracle ä¸åƒ MySQL é‚£ä¹ˆæ–¹ä¾¿ï¼Œå®ƒå¿…é¡»ä½¿ç”¨å­æŸ¥è¯¢æˆ–è€…æ˜¯é›†åˆæ“ä½œæ¥å®ç°ã€‚</p> <p>å› ä¸ºå½“ä½ æŸ¥è¯¢ <code>ROWNUM</code> å¤§äº 2 çš„è®°å½•æ—¶ä¼šå¾—åˆ°ä¸€ä¸ªç©ºçš„ç»“æœé›†ï¼Œç”±äº <code>ROWNUM</code> æ˜¯æ ¹æ®æŸ¥è¯¢çš„ç»“æœé›†æ¥å¯¹è®°å½•è¿›è¡Œç¼–å·ï¼Œå½“ Oracle æŸ¥è¯¢å¾—åˆ°ç¬¬ 1 æ¡è®°å½•æ—¶ï¼Œå‘ç° <code>ROWNUM</code> ä¸º 1 ä¸æ»¡è¶³æ¡ä»¶ï¼Œç„¶åå°±ç»§ç»­æŸ¥è¯¢ç¬¬ 2 æ¡è®°å½•ï¼Œä½†æ­¤æ—¶ç¬¬ 2 æ¡è®°å½•åˆè¢«ç¼–å·ä¸º 1ï¼ˆä¹Ÿå³ <code>ROWNUM</code> å˜ä¸º 1ï¼‰ï¼Œæ‰€ä»¥æŸ¥è¯¢å¾—åˆ°çš„å§‹ç»ˆæ˜¯ <code>rownum=1</code>ï¼Œå› æ­¤æ— æ³•æ»¡è¶³çº¦æŸï¼Œæœ€ç»ˆæŸ¥è¯¢çš„ç»“æœé›†ä¸ºç©ºã€‚</p> <p>ä½¿ç”¨ <code>ROWNUM</code> ç»“åˆå­æŸ¥è¯¢å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">column1</span><span class="p">,</span><span class="w"> </span><span class="n">column2</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">column1</span><span class="p">,</span><span class="w"> </span><span class="n">column2</span><span class="p">,</span><span class="w"> </span><span class="n">ROWNUM</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">rnum</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">your_table</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">conditions</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="p">)</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">rnum</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">rnum</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
</span></code></pre></div> <p>è¿™å°†è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ 11 åˆ° 20 è¡Œï¼Œç”¨äºå®ç°åˆ†é¡µã€‚</p> <h3 id="55ä¸ç­‰äºç©ºå­—ç¬¦ä¸²">5.5ã€ä¸ç­‰äºç©ºå­—ç¬¦ä¸²<a class="headerlink" href="#55ä¸ç­‰äºç©ºå­—ç¬¦ä¸²" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>ä¹‹å‰çš„åº”ç”¨ä¸€ç›´æ˜¯è¿æ¥ MySQL æ•°æ®åº“ï¼Œåœ¨ MySQL ä¸­ <code>''</code> å’Œ <code>NULL</code> æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå¦‚ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'Yes'</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">'No'</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="c1">-- ç»“æœï¼šNO</span>
</span></code></pre></div> <p>åœ¨ Oracle ä¸­ï¼Œ<code>''</code> åœ¨å­˜å‚¨æ—¶ä¼šè‡ªåŠ¨è½¬æ¢ä¸º <code>NULL</code>ï¼Œå› æ­¤å®ƒä»¬æ˜¯ç­‰ä»·çš„ï¼Œå³ <code>''</code> ç­‰åŒäº <code>NULL</code>ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">'Yes'</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">'No'</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="c1">-- ç»“æœï¼šYES</span>
</span></code></pre></div> <p>æ‰€ä»¥åœ¨ Oracle ä¸­è¦å°å¿ƒä½¿ç”¨ <code>''</code>ï¼Œå› ä¸ºå®ƒå®é™…ä¸Šæ˜¯ <code>NULL</code>ï¼Œè€Œåœ¨ MySQL ä¸­å®ƒä»¬æ˜¯ä¸åŒçš„ï¼</p> <div class="admonition tip"> <p class="admonition-title">Important</p> <p>ä¸ç®¡æ˜¯ MySQL è¿˜æ˜¯ Oracleï¼Œåˆ¤æ–­ <code>NULL</code> éƒ½åº”è¯¥ä½¿ç”¨ <code>IS</code> å’Œ <code>IS NOT</code> è€Œä¸æ˜¯ <code>=</code> å’Œ <code>!=</code>ï¼</p> </div> <h3 id="56å­—æ®µåä¸-sql-å…³é”®å­—é‡å">5.6ã€å­—æ®µåä¸ SQL å…³é”®å­—é‡å<a class="headerlink" href="#56å­—æ®µåä¸-sql-å…³é”®å­—é‡å" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>Oracle ä¸­ï¼Œå¦‚æœè¡¨ä¸­çš„å­—æ®µåæ­£å¥½è·Ÿ SQL ä¸­å…³é”®å­—é‡åï¼Œå†™ SQL è¯­å¥æ—¶è¦æ³¨æ„ï¼š</p> <ol> <li> <p>è¦å°†è¯¥å­—æ®µåå¤§å†™</p> </li> <li> <p>å­—æ®µåä¸¤è¾¹è¦åŠ åŒå¼•å· <code>""</code>ï¼ˆæ³¨ï¼šå¿…é¡»æ˜¯åŒå¼•å·ï¼Œå•å¼•å·å°†æ— æ•ˆï¼‰</p> <blockquote> <p>åœ¨ MySQL æ•°æ®åº“ä¸­æ˜¯ä½¿ç”¨åå¼•å·ï¼ˆæ•°å­— 1 æŒ‰é”®å·¦è¾¹ï¼‰</p> </blockquote> </li> </ol> <p>æ¯”å¦‚è¦åˆ›å»ºçš„è¡¨ä¸­æœ‰ <code>group</code> å­—æ®µï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">address</span><span class="p">(</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">   </span><span class="ss">"group"</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="p">)</span>
</span></code></pre></div> <h3 id="57å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼">5.7ã€å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼<a class="headerlink" href="#57å–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åœ¨ Oracle SQL è¯­å¥ä¸­ï¼Œ<code>KEEP</code> å­å¥ä¸»è¦ç”¨äºèšåˆå‡½æ•°ï¼ˆå¦‚ <code>SUM</code>ã€<code>MAX</code>ã€<code>MIN</code>ï¼‰ä¸­ï¼Œé…åˆ <code>DENSE_RANK</code> è®¡ç®—æ¥ä¿ç•™ç‰¹å®šæ’åçš„æ•°æ®ã€‚</p> <p>å¸¸è§ç”¨äº <code>FIRST</code> æˆ– <code>LAST</code>ï¼ŒæŒ‡å®šåœ¨æŸä¸ªæ’åºæ¡ä»¶ä¸‹åªå–æ’åæœ€é å‰æˆ–æœ€é åçš„å€¼ã€‚</p> <p>ä»è¿™ä¸ªå‰æå‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…¶å®è¿™ä¸ªç›®æ ‡é€šè¿‡ä¸€èˆ¬çš„ <code>ROW_NUMBER</code> åˆ†æå‡½æ•°ä¹Ÿå¯ä»¥å®ç°ï¼Œå³æŒ‡å®š <code>rn = 1</code>ã€‚ä½†æ˜¯ï¼Œè¯¥å‡½æ•°æ— æ³•å®ç°åŒæ—¶è·å–æœ€å¤§å’Œæœ€å°å€¼ã€‚æˆ–è€…è¯´ç”¨ <code>FIRST_VALUE</code> å’Œ <code>LAST_VALUE</code>ï¼Œç»“åˆ <code>ROW_NUMBER</code> å®ç°ï¼Œä½†æ˜¯è¯¥ç§æ–¹å¼éœ€è¦å¤šæ¬¡ä½¿ç”¨åˆ†æå‡½æ•°ï¼Œè€Œä¸”è¿˜éœ€è¦å¥—ä¸€å±‚ SQLã€‚äºæ˜¯å‡ºç°äº† <code>KEEP</code>ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="n">AGGREGATE_FUNCTION</span><span class="p">(</span><span class="o">&lt;</span><span class="err">åˆ—å</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">KEEP</span><span class="w"> </span><span class="p">(</span><span class="n">DENSE_RANK</span><span class="w"> </span><span class="k">FIRST</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">LAST</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="o">&lt;</span><span class="err">åˆ—å</span><span class="o">&gt;</span><span class="p">)</span>
</span></code></pre></div> <ul> <li><code>ORDER BY &lt;åˆ—å&gt;</code>ï¼šç”¨äºæ’åºçš„åˆ—ï¼Œå†³å®š <code>FIRST</code> æˆ– <code>LAST</code> çš„åŸºå‡†ã€‚</li> <li><code>DENSE_RANK</code>ï¼šè®¡ç®—æ•°æ®çš„æ’åã€‚</li> <li><code>FIRST</code> æˆ– <code>LAST</code>ï¼š<ul> <li><code>FIRST</code>ï¼šå–æ’åæœ€é å‰çš„ä¸€ç»„æ•°æ®ï¼ˆå½“æ’åœ¨å‰é¢çš„æ•°æ®æœ‰é‡å¤å€¼æ—¶ï¼Œå¤šæ¡è¢« HOLDï¼‰ã€‚</li> <li><code>LAST</code>ï¼šå–æ’åæœ€é åçš„ä¸€ç»„æ•°æ®ï¼ˆå½“æ’åœ¨åé¢çš„æ•°æ®æœ‰é‡å¤å€¼æ—¶ï¼Œå¤šæ¡è¢« HOLDï¼‰ã€‚</li> </ul> </li> <li><em>AGGREGATE_FUNCTION</em>ï¼šåœ¨è¿™ç»„è®°å½•ä¸­éœ€è¦æ‰§è¡Œçš„èšåˆå‡½æ•°ï¼Œå¦‚ <code>SUM</code>ã€<code>MAX</code>ã€<code>MIN</code> ç­‰ã€‚</li> </ul> <h2 id="6å‡½æ•°">6ã€å‡½æ•°<a class="headerlink" href="#6å‡½æ•°" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="61æ—¶é—´æ—¥æœŸ">6.1ã€æ—¶é—´æ—¥æœŸ<a class="headerlink" href="#61æ—¶é—´æ—¥æœŸ" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <h4 id="611sysdate">6.1.1ã€SYSDATE<a class="headerlink" href="#611sysdate" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="n">SYSDATE</span><span class="p">()</span>
</span></code></pre></div> <h4 id="612add_months">6.1.2ã€ADD_MONTHS<a class="headerlink" href="#612add_months" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>æ—¥æœŸ/æ—¶é—´å¢å‡ã€‚</p> <p>å¢å‡ä¸€å°æ—¶ï¼š </p><div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="n">dateField</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">24</span><span class="p">;</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="n">dateField</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">24</span><span class="p">;</span>
</span></code></pre></div><p></p> <p>å¢å‡ä¸€å¤©ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="n">dateField</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="n">dateField</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span></code></pre></div> <p>å¢å‡ä¸€æœˆï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="n">ADD_MONTHS</span><span class="p">(</span><span class="n">dateField</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="n">ADD_MONTHS</span><span class="p">(</span><span class="n">dateField</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></code></pre></div> <p>å¢å‡ä¸€å­£åº¦ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="n">ADD_MONTHS</span><span class="p">(</span><span class="n">dateField</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="n">ADD_MONTHS</span><span class="p">(</span><span class="n">dateField</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
</span></code></pre></div> <p>å¢å‡ä¸€å¹´ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="n">ADD_MONTHS</span><span class="p">(</span><span class="n">dateField</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">);</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="n">ADD_MONTHS</span><span class="p">(</span><span class="n">dateField</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">12</span><span class="p">;</span>
</span></code></pre></div> <h4 id="613months_between">6.1.3ã€MONTHS_BETWEEN<a class="headerlink" href="#613months_between" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle <code>MONTHS_BETWEEN</code> å‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æœˆä»½å·®ã€‚å®ƒè¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„æœˆä»½æ•°é‡ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥ç”¨äºè®¡ç®—ä¾‹å¦‚å¹´é¾„å·®ã€è´¦å•å‘¨æœŸç­‰æ¶‰åŠæœˆä»½å·®å¼‚çš„æƒ…å†µã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="n">MONTHS_BETWEEN</span><span class="p">(</span><span class="n">date1</span><span class="p">,</span><span class="w"> </span><span class="n">date2</span><span class="p">)</span>
</span></code></pre></div> <p><em>date1</em> å’Œ <em>date2</em> æ˜¯è¦æ¯”è¾ƒçš„ä¸¤ä¸ªæ—¥æœŸã€‚å‡½æ•°è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºä» <em>date1</em> åˆ° <em>date2</em> çš„æœˆä»½å·®ã€‚</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p><code>MONTHS_BETWEEN</code> å‡½æ•°éœ€è¦çš„æ˜¯å®é™…çš„æ—¥æœŸå€¼ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚éœ€è¦ä½¿ç”¨ <code>TO_DATE</code> å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸï¼Œç„¶åå†è®¡ç®—æœˆä»½å·®ã€‚</p> </div> <p><strong>ç¤ºä¾‹</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">ROUND</span><span class="p">(</span><span class="n">MONTHS_BETWEEN</span><span class="p">(</span><span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2023-08-31'</span><span class="p">,</span><span class="w"> </span><span class="s1">'YYYY-MM-DD'</span><span class="p">),</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">                            </span><span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2022-01-15'</span><span class="p">,</span><span class="w"> </span><span class="s1">'YYYY-MM-DD'</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">months_difference</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="k">FROM</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="c1">-- è¾“å‡ºï¼š20</span>
</span></code></pre></div> <div class="admonition tip"> <p class="admonition-title">Tip</p> <p><code>MONTHS_BETWEEN</code> å‡½æ•°çš„è¿”å›å€¼åŒ…æ‹¬äº†å°æ•°éƒ¨åˆ†ï¼Œè¡¨ç¤ºä¸è¶³ä¸€ä¸ªæœˆçš„éƒ¨åˆ†ã€‚å¦‚æœè¦å¾—åˆ°æ•´æ•°çš„æœˆä»½å·®ï¼Œå¯ä»¥ä½¿ç”¨å–æ•´å‡½æ•°ï¼ˆå¦‚ <code>ROUND</code>ã€<code>FLOOR</code>ã€<code>CEIL</code> ç­‰ï¼‰å¯¹ç»“æœè¿›è¡Œå¤„ç†ã€‚</p> </div> <h3 id="62æ­£åˆ™è¡¨è¾¾å¼">6.2ã€æ­£åˆ™è¡¨è¾¾å¼<a class="headerlink" href="#62æ­£åˆ™è¡¨è¾¾å¼" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>åŒ¹é…æœºåˆ¶</strong></p> <p>å¦‚æœæœ‰ä¸€ä¸ªå­—ç¬¦ä¸² aabcdï¼Œå¹¶æŒ‡å®šäº†ä¸€ä¸ª <code>a(b|c)d</code> æœç´¢ï¼Œåˆ™å°†æœç´¢åè·Ÿ b æˆ– cï¼Œæ¥ç€æ˜¯ d çš„ aã€‚</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Oracle/image-20221108142342799.png" data-desc-position="bottom"><img src="!assets/Oracle/image-20221108142342799.png" alt="image-20221108142342799" style="zoom: 50%;"></a></p> <p><code>a(b|c)d</code> ä¸åŒ¹é…ç»™å®šçš„å­—ç¬¦ä¸² aabcdã€‚</p> <p>è¦åœ¨ SQL æˆ– PL/SQL ä¸­å®ç°æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œéœ€è¦ä½¿ç”¨ä¸€ç»„æ–°å‡½æ•°ã€‚è¿™äº›å‡½æ•°æ˜¯ï¼š</p> <ul> <li><code>REGEXP_LIKE</code> ï¼šä¸ <code>LIKE</code> çš„åŠŸèƒ½ç›¸ä¼¼ï¼Œå¯ä»¥æ”¯æŒæŒ‰æ­£åˆ™è¡¨è¾¾å¼ä¸æ–‡æœ¬è¿›è¡ŒåŒ¹é…ã€‚</li> <li><code>REGEXP_INSTR</code> ï¼šè¿”å›æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ¨åˆ†ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚</li> <li><code>REGEXP_COUNT</code> ï¼šè¿”å›æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ¨åˆ†å‡ºç°çš„æ¬¡æ•°ã€‚</li> <li><code>REGEXP_SUBSTR</code> ï¼šæˆªå–æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„éƒ¨åˆ†ã€‚</li> <li><code>REGEXP_REPLACE</code> ï¼šæ›¿æ¢æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„éƒ¨åˆ†ã€‚</li> </ul> <p><strong>Oracle æ•°æ®åº“æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ POSIX å…ƒå­—ç¬¦</strong></p> <p>å…ƒå­—ç¬¦æ˜¯å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œå¦‚é€šé…ç¬¦å­—ç¬¦ã€é‡å¤å­—ç¬¦ã€éåŒ¹é…å­—ç¬¦æˆ–ä¸€ä¸ªå­—ç¬¦èŒƒå›´ã€‚</p> <p>å¯ä»¥åœ¨ä¸å‡½æ•°åŒ¹é…çš„æ¨¡å¼ä¸­ä½¿ç”¨å¤šä¸ªé¢„å®šä¹‰çš„å…ƒå­—ç¬¦ç¬¦å·ã€‚</p> <table> <thead> <tr> <th><strong>ç¬¦å·</strong></th> <th><strong>è¯´æ˜</strong></th> </tr> </thead> <tbody> <tr> <td><code>*</code></td> <td>åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªåŒ¹é…é¡¹</td> </tr> <tr> <td><code>|</code></td> <td>ç”¨äºæŒ‡å®šé€‰æ‹©æ€§åŒ¹é…é¡¹çš„é€‰æ‹©æ€§è¿ç®—ç¬¦</td> </tr> <tr> <td><code>^/$</code></td> <td>åŒ¹é…è¡Œçš„å¼€å¤´å’Œç»“å°¾</td> </tr> <tr> <td><code>[]</code></td> <td>ç”¨äºåŒ¹é…åˆ—è¡¨ï¼ˆåŒ¹é…è¯¥åˆ—è¡¨ä¸­çš„ä»»ä½•è¡¨è¾¾å¼ï¼‰çš„æ–¹æ‹¬å·è¡¨è¾¾å¼</td> </tr> <tr> <td><code>[^exp]</code></td> <td>å¦‚æœè„±å­—ç¬¦ä½äºæ–¹æ‹¬å·å†…éƒ¨ï¼Œåˆ™å¯¹è¡¨è¾¾å¼å–éã€‚</td> </tr> <tr> <td><code>{m}</code></td> <td>ç²¾ç¡®åŒ¹é… <em>m</em> æ¬¡</td> </tr> <tr> <td><code>{m,n}</code></td> <td>è‡³å°‘åŒ¹é… <em>m</em> æ¬¡ï¼Œä½†ä¸è¶…è¿‡ <em>n</em> æ¬¡</td> </tr> <tr> <td><code>[: :]</code></td> <td>æŒ‡å®šä¸€ä¸ªå­—ç¬¦ç±»å¹¶åŒ¹é…è¯¥ç±»ä¸­çš„ä»»ä½•å­—ç¬¦</td> </tr> <tr> <td><code>\</code></td> <td>å¯ä»¥æœ‰å››ç§ä¸åŒçš„å«ä¹‰ï¼š(1) è¡¨ç¤ºå…¶è‡ªèº«ï¼›(2) å¼•ç”¨ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼›(3) å¼•å…¥ä¸€ä¸ªè¿ç®—ç¬¦ï¼›(4) ä¸æ‰§è¡Œä»»ä½•æ“ä½œ</td> </tr> <tr> <td><code>+</code></td> <td>åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªåŒ¹é…é¡¹</td> </tr> <tr> <td><code></code></td> <td>åŒ¹é…é›¶ä¸ªæˆ–ä¸€ä¸ªåŒ¹é…é¡¹</td> </tr> <tr> <td><code>.</code></td> <td>åŒ¹é…æ‰€æ”¯æŒå­—ç¬¦é›†ä¸­çš„ä»»ä½•å­—ç¬¦ï¼ˆNULL é™¤å¤–ï¼‰</td> </tr> <tr> <td><code>()</code></td> <td>å¯¹è¡¨è¾¾å¼è¿›è¡Œåˆ†ç»„ï¼ˆè§†ä½œä¸€ä¸ªå­è¡¨è¾¾å¼ï¼‰</td> </tr> <tr> <td><code>\n</code></td> <td>å‘åå¼•ç”¨è¡¨è¾¾å¼</td> </tr> <tr> <td><code>[==]</code></td> <td>æŒ‡å®šç­‰ä»·ç±»</td> </tr> <tr> <td><code>[..]</code></td> <td>æŒ‡å®šä¸€ä¸ªå¯¹ç…§å…ƒç´ ï¼ˆå¦‚å¤šå­—ç¬¦å…ƒç´ ï¼‰</td> </tr> </tbody> </table> <p><strong>Perl æ­£åˆ™è¡¨è¾¾å¼æ‰©å±•</strong></p> <p>é™¤äº† POSIX æ ‡å‡†ä»¥å¤–ï¼ŒOracle è¿˜æ”¯æŒå— Perl å½±å“çš„å¸¸è§å…ƒå­—ç¬¦ã€‚å¦‚æœæ‚¨æ˜¯ä¸€ä½ç”Ÿå‘½ç§‘å­¦å¼€å‘äººå‘˜ï¼Œå¹¶ä½¿ç”¨ Perl å¯¹å¤§å‹ DNA å’Œè›‹ç™½è´¨æ•°æ®åº“ä¸­å­˜å‚¨çš„ç”Ÿç‰©ä¿¡æ¯æ•°æ®è¿›è¡Œæ¨¡å¼åˆ†æï¼Œåˆ™å¯ä»¥ä½¿ç”¨ SQL æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥æ”¯æŒæ•°æ®ï¼Œè€Œæ— éœ€ä¸­é—´å±‚ã€‚è¿™å¯ä»¥æä¾›æ›´é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚ä¸º Perl å…¼å®¹æ€§è€Œæ·»åŠ çš„å…ƒå­—ç¬¦åŒ…æ‹¬ï¼š</p> <table> <thead> <tr> <th><strong>è¿ç®—ç¬¦</strong></th> <th><strong>è¯´æ˜</strong></th> </tr> </thead> <tbody> <tr> <td><code>\d</code></td> <td>åŒ¹é…æ•°å­—å­—ç¬¦</td> </tr> <tr> <td><code>\D</code></td> <td>åŒ¹é…éæ•°å­—å­—ç¬¦</td> </tr> <tr> <td><code>\w</code></td> <td>åŒ¹é…å•è¯å­—ç¬¦</td> </tr> <tr> <td><code>\W</code></td> <td>åŒ¹é…éå•è¯å­—ç¬¦</td> </tr> <tr> <td><code>\s</code></td> <td>åŒ¹é…ç©ºç™½å­—ç¬¦</td> </tr> <tr> <td><code>\S</code></td> <td>åŒ¹é…éç©ºç™½å­—ç¬¦</td> </tr> <tr> <td><code>\A</code></td> <td>ä»…åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´</td> </tr> <tr> <td><code>\Z</code></td> <td>ä»…åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾æˆ–è€…è¡Œç»“å°¾ä¹‹å‰</td> </tr> <tr> <td><code>\z</code></td> <td>ä»…åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾</td> </tr> <tr> <td><code>*</code></td> <td>åŒ¹é… 0 æ¬¡æˆ–æ›´å¤šæ¬¡ï¼ˆéè´ªå©ªï¼‰</td> </tr> <tr> <td><code>+</code></td> <td>åŒ¹é… 1 æ¬¡æˆ–æ›´å¤šæ¬¡ï¼ˆéè´ªå©ªï¼‰</td> </tr> <tr> <td><code>?</code></td> <td>åŒ¹é… 0 æ¬¡æˆ– 1 æ¬¡ï¼ˆéè´ªå©ªï¼‰</td> </tr> <tr> <td><code>{n}</code></td> <td>ç²¾ç¡®åŒ¹é… n æ¬¡ï¼ˆéè´ªå©ªï¼‰</td> </tr> <tr> <td><code>{n,}</code></td> <td>è‡³å°‘åŒ¹é… n æ¬¡ï¼ˆéè´ªå©ªï¼‰</td> </tr> <tr> <td><code>{n,m}</code></td> <td>è‡³å°‘åŒ¹é… n æ¬¡ï¼Œä½†ä¸è¶…è¿‡ m æ¬¡ï¼ˆè´ªå©ªï¼‰</td> </tr> </tbody> </table> <h4 id="621regexp_like">6.2.1ã€REGEXP_LIKE<a class="headerlink" href="#621regexp_like" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><code>REGEXP_LIKE()</code> ä¸ <code>LIKE</code> çš„åŠŸèƒ½ç›¸ä¼¼ï¼Œå¯ä»¥æ”¯æŒæŒ‰æ­£åˆ™è¡¨è¾¾å¼ä¸æ–‡æœ¬è¿›è¡ŒåŒ¹é…ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="n">REGEXP_LIKE</span><span class="p">(</span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="n">REGEX</span><span class="p">,</span><span class="w"> </span><span class="n">MODIFIER</span><span class="p">)</span>
</span></code></pre></div> <ul> <li><em>STRING</em>ï¼šéœ€è¦è¿›è¡Œæ­£åˆ™å¤„ç†çš„å­—ç¬¦ä¸²</li> <li><em>REGEX</em>ï¼šè¿›è¡ŒåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼</li> <li><em>MODIFIER</em>ï¼šæ¨¡å¼ï¼Œé»˜è®¤ä¸º <code>c</code>ï¼š<ul> <li><code>i</code>ï¼šä¸åŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>c</code>ï¼šåŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> </ul> </li> </ul> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">ENAME</span><span class="p">,</span><span class="w"> </span><span class="n">JOB</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">EMP</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">REGEXP_LIKE</span><span class="p">(</span><span class="n">JOB</span><span class="p">,</span><span class="w"> </span><span class="s1">'(clerk|analyst)'</span><span class="p">,</span><span class="w"> </span><span class="s1">'i'</span><span class="p">);</span>
</span></code></pre></div> <p>ç»“æœï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>+-------+---------+
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>| ENAME | JOB     |
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>+-------+---------+
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a>| SMITH | CLERK   |
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a>| JAMES | CLERK   |
</span><span id="__span-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>| FORD  | ANALYST |
</span><span id="__span-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a>| SCOTT | ANALYST |
</span><span id="__span-77-8"><a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a>+-------+---------+
</span></code></pre></div> <h4 id="622regexp_instr">6.2.2ã€REGEXP_INSTR<a class="headerlink" href="#622regexp_instr" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><code>REGEXP_INSTR()</code> è¿”å›æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ¨åˆ†ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="n">REGEXP_INSTR</span><span class="p">(</span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="n">REGEX</span><span class="p">[,</span><span class="w"> </span><span class="n">START_POSITION</span><span class="p">[,</span><span class="w"> </span><span class="n">OCCURRENCE</span><span class="p">[,</span><span class="w"> </span><span class="n">RETURN_OPTION</span><span class="p">[,</span><span class="w"> </span><span class="n">MODIFIER</span><span class="p">]]]])</span>
</span></code></pre></div> <ul> <li><em>STRING</em>ï¼šéœ€è¦è¿›è¡Œæ­£åˆ™å¤„ç†çš„å­—ç¬¦ä¸²ã€‚</li> <li><em>REGEX</em>ï¼šè¿›è¡ŒåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li> <li><em>START_POSITION</em>ï¼šèµ·å§‹ä½ç½®ï¼Œä»å­—ç¬¦ä¸²çš„ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆé»˜è®¤ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå€¼ä¸º 1ï¼‰ã€‚</li> <li><em>OCCURRENCE</em>ï¼šè·å–åˆ†å‰²å‡ºæ¥çš„ç¬¬å‡ ç»„å­ä¸²ï¼ˆåˆ†å‰²åæœ€åˆçš„å­—ç¬¦ä¸²ä¼šæŒ‰åˆ†å‰²çš„é¡ºåºæ’åˆ—æˆæ•°ç»„ï¼‰ã€‚</li> <li><em>RETURN_OPTION</em>ï¼šæŒ‡å®šè¿”å›å€¼çš„ç±»å‹ã€‚ä¸º 0ï¼Œåˆ™è¿”å›åŒ¹é…å€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„è§’æ ‡ï¼Œé 0ï¼Œåˆ™è¿”å›åŒ¹é…å€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„è§’æ ‡ +1ã€‚</li> <li><em>MODIFIER</em>ï¼šæ¨¡å¼ï¼Œé»˜è®¤ä¸º <code>c</code>ï¼š<ul> <li><code>c</code>ï¼šåŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>i</code>ï¼šä¸åŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>n</code>ï¼šå…è®¸å¥ç‚¹ <code>.</code> ä½œä¸ºé€šé…ç¬¦å»åŒ¹é…æ¢è¡Œç¬¦ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œå¥ç‚¹å°†ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚</li> <li><code>m</code>ï¼šå°†æºä¸²è§†ä¸ºå¤šè¡Œã€‚å³ Oracle ä¸­å°† <code>^</code> å’Œ <code>$</code> åˆ†åˆ«çœ‹ä½œæºä¸²ä¸­ä»»æ„ä½ç½®ä»»ä½•è¡Œçš„å¼€å§‹å’Œç»“æŸï¼Œè€Œä¸æ˜¯ä»…ä»…çœ‹ä½œæ•´ä¸ªæºä¸²çš„å¼€å§‹æˆ–ç»“æŸã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œåˆ™ Oracle å°†æºä¸²çœ‹ä½œä¸€è¡Œã€‚</li> <li><code>x</code>ï¼šå¿½ç•¥æºä¸²ä¸­çš„ç©ºæ ¼å­—ç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç©ºæ ¼å­—ç¬¦ä¸è‡ªèº«ç›¸åŒ¹é…ã€‚</li> </ul> </li> <li>è¿”å›å€¼ï¼šè¿”å›æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„è§’æ ‡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç»“æœï¼Œåˆ™è¿”å› 0ã€‚</li> </ul> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_INSTR</span><span class="p">(</span><span class="s1">'11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'a'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="c1">-- ç»“æœï¼š3</span>
</span></code></pre></div> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_INSTR</span><span class="p">(</span><span class="s1">'11a22A33a11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2A'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="c1">-- ç»“æœï¼š5</span>
</span></code></pre></div> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_INSTR</span><span class="p">(</span><span class="s1">'11a22A33a11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2A'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="c1">-- ç»“æœï¼š7</span>
</span></code></pre></div> <h4 id="633regexp_count">6.3.3ã€REGEXP_COUNT<a class="headerlink" href="#633regexp_count" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><code>REGEXP_COUNT()</code> è¿”å›æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ¨åˆ†å‡ºç°çš„æ¬¡æ•°ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="n">REGEXP_COUNT</span><span class="p">(</span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="n">REGEX</span><span class="p">[,</span><span class="w"> </span><span class="n">START_POSITION</span><span class="p">[,</span><span class="w"> </span><span class="n">MODIFIER</span><span class="p">]])</span>
</span></code></pre></div> <ul> <li><em>STRING</em>ï¼šéœ€è¦è¿›è¡Œæ­£åˆ™å¤„ç†çš„å­—ç¬¦ä¸²ã€‚</li> <li><em>REGEX</em>ï¼šè¿›è¡ŒåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li> <li><em>START_POSITION</em>ï¼šèµ·å§‹ä½ç½®ï¼Œä»å­—ç¬¦ä¸²çš„ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆé»˜è®¤ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå€¼ä¸º 1ï¼‰ã€‚</li> <li><em>MODIFIER</em>ï¼šæ¨¡å¼ï¼Œé»˜è®¤ä¸º <code>c</code>ï¼š<ul> <li><code>c</code>ï¼šåŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>i</code>ï¼šä¸åŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>n</code>ï¼šå…è®¸å¥ç‚¹ <code>.</code> ä½œä¸ºé€šé…ç¬¦å»åŒ¹é…æ¢è¡Œç¬¦ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œå¥ç‚¹å°†ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚</li> <li><code>m</code>ï¼šå°†æºä¸²è§†ä¸ºå¤šè¡Œã€‚å³ Oracle ä¸­å°† <code>^</code> å’Œ <code>$</code> åˆ†åˆ«çœ‹ä½œæºä¸²ä¸­ä»»æ„ä½ç½®ä»»ä½•è¡Œçš„å¼€å§‹å’Œç»“æŸï¼Œè€Œä¸æ˜¯ä»…ä»…çœ‹ä½œæ•´ä¸ªæºä¸²çš„å¼€å§‹æˆ–ç»“æŸã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œåˆ™ Oracle å°†æºä¸²çœ‹ä½œä¸€è¡Œã€‚</li> <li><code>x</code>ï¼šå¿½ç•¥æºä¸²ä¸­çš„ç©ºæ ¼å­—ç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç©ºæ ¼å­—ç¬¦ä¸è‡ªèº«ç›¸åŒ¹é…ã€‚</li> </ul> </li> <li>è¿”å›å€¼ï¼šè¿”å›æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ã€‚</li> </ul> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_COUNT</span><span class="p">(</span><span class="s1">'11a22A33a11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'2A'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="c1">-- ç»“æœï¼š2</span>
</span></code></pre></div> <h4 id="624regexp_substr">6.2.4ã€REGEXP_SUBSTR<a class="headerlink" href="#624regexp_substr" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><code>REGEXP_SUBSTR()</code> æˆªå–æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„éƒ¨åˆ†ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="n">REGEXP_SUBSTR</span><span class="p">(</span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="n">REGEX</span><span class="p">[,</span><span class="w"> </span><span class="n">START_POSITION</span><span class="p">[,</span><span class="w"> </span><span class="n">OCCURRENCE</span><span class="p">[,</span><span class="w"> </span><span class="n">MODIFIER</span><span class="p">]]])</span>
</span></code></pre></div> <ul> <li><em>STRING</em>ï¼šéœ€è¦è¿›è¡Œæ­£åˆ™å¤„ç†çš„å­—ç¬¦ä¸²ã€‚</li> <li><em>REGEX</em>ï¼šè¿›è¡ŒåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li> <li><em>START_POSITION</em>ï¼šèµ·å§‹ä½ç½®ï¼Œä»å­—ç¬¦ä¸²çš„ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆé»˜è®¤ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå€¼ä¸º 1ï¼‰ã€‚</li> <li><em>OCCURRENCE</em>ï¼šè·å–åˆ†å‰²å‡ºæ¥çš„ç¬¬å‡ ç»„å­ä¸²ï¼ˆåˆ†å‰²åæœ€åˆçš„å­—ç¬¦ä¸²ä¼šæŒ‰åˆ†å‰²çš„é¡ºåºæ’åˆ—æˆæ•°ç»„ï¼‰ã€‚</li> <li><em>MODIFIER</em>ï¼šæ¨¡å¼ï¼Œé»˜è®¤ä¸º <code>c</code>ï¼š<ul> <li><code>c</code>ï¼šåŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>i</code>ï¼šä¸åŒºåˆ†å¤§å°å†™è¿›è¡Œæ£€ç´¢ã€‚</li> <li><code>n</code>ï¼šå…è®¸å¥ç‚¹ <code>.</code> ä½œä¸ºé€šé…ç¬¦å»åŒ¹é…æ¢è¡Œç¬¦ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œå¥ç‚¹å°†ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚</li> <li><code>m</code>ï¼šå°†æºä¸²è§†ä¸ºå¤šè¡Œã€‚å³ Oracle ä¸­å°† <code>^</code> å’Œ <code>$</code> åˆ†åˆ«çœ‹ä½œæºä¸²ä¸­ä»»æ„ä½ç½®ä»»ä½•è¡Œçš„å¼€å§‹å’Œç»“æŸï¼Œè€Œä¸æ˜¯ä»…ä»…çœ‹ä½œæ•´ä¸ªæºä¸²çš„å¼€å§‹æˆ–ç»“æŸã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œåˆ™ Oracle å°†æºä¸²çœ‹ä½œä¸€è¡Œã€‚</li> <li><code>x</code>ï¼šå¿½ç•¥æºä¸²ä¸­çš„ç©ºæ ¼å­—ç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç©ºæ ¼å­—ç¬¦ä¸è‡ªèº«ç›¸åŒ¹é…ã€‚</li> </ul> </li> </ul> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_SUBSTR</span><span class="p">(</span><span class="s1">'11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'[^A]+'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'i'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="c1">-- ç»“æœï¼š11</span>
</span></code></pre></div> <p>åˆ†æï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»¥ A ä¸ºæ ‡è¯†è¿›è¡Œåˆ†å‰²ï¼Œè€Œ <code>i</code> æ ‡è¯†ä¸åŒºåˆ†å¤§å°å†™ï¼Œä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå–ç¬¬ä¸€ç»„æˆªå–ç»“æœï¼Œæ‰€ä»¥ç»“æœæ˜¯ 11ï¼Œè€Œä¸æ˜¯ 11a22ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_SUBSTR</span><span class="p">(</span><span class="s1">'11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'[^A]+'</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="c1">-- ç»“æœï¼š11a22</span>
</span></code></pre></div> <p>åˆ†æï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»¥ A ä¸ºæ ‡è¯†è¿›è¡Œåˆ†å‰²ï¼Œè€Œ <code>c</code> æ ‡è¯†åŒºåˆ†å¤§å°å†™ï¼Œä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå–ç¬¬ä¸€ç»„æˆªå–ç»“æœï¼Œæ‰€ä»¥ç»“æœæ˜¯ 11a22ï¼Œè€Œä¸æ˜¯ 11ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_SUBSTR</span><span class="p">(</span><span class="s1">'11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'[^A]+'</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'i'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="c1">-- ç»“æœï¼š22</span>
</span></code></pre></div> <p>åˆ†æï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»¥ A ä¸ºæ ‡è¯†è¿›è¡Œåˆ†å‰²ï¼Œè€Œ <code>i</code> æ ‡è¯†ä¸åŒºåˆ†å¤§å°å†™ï¼Œä»ç¬¬ 4 ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå–ç¬¬ä¸€ç»„æˆªå–ç»“æœï¼Œæ‰€ä»¥ç»“æœæ˜¯ 22ï¼Œè€Œä¸æ˜¯ 11ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_SUBSTR</span><span class="p">(</span><span class="s1">'11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'[^A]+'</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="c1">-- ç»“æœï¼š22</span>
</span></code></pre></div> <p>åˆ†æï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»¥ A ä¸ºæ ‡è¯†è¿›è¡Œåˆ†å‰²ï¼Œè€Œ <code>c</code> æ ‡è¯†åŒºåˆ†å¤§å°å†™ï¼Œä»ç¬¬ 4 ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå–ç¬¬ä¸€ç»„æˆªå–ç»“æœï¼Œæ‰€ä»¥ç»“æœæ˜¯ 22ï¼Œè€Œä¸æ˜¯ 11a22ã€‚</p> <h4 id="625regexp_replace">6.2.5ã€REGEXP_REPLACE<a class="headerlink" href="#625regexp_replace" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><code>REGEXP_REPLACE()</code> æ›¿æ¢æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„éƒ¨åˆ†ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="n">REGEXP_REPLACE</span><span class="p">(</span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="n">REGEX</span><span class="p">,</span><span class="w"> </span><span class="n">REPLACE_STRING</span><span class="p">)</span>
</span></code></pre></div> <ul> <li><em>STRING</em>ï¼šéœ€è¦è¿›è¡Œæ­£åˆ™å¤„ç†çš„å­—ç¬¦ä¸²ã€‚</li> <li><em>REGEX</em>ï¼šè¿›è¡ŒåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li> <li><em>REPLACE_STRING</em>ï¼šè¦æ›¿æ¢æˆçš„å­—ç¬¦ä¸²ã€‚</li> </ul> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_REPLACE</span><span class="p">(</span><span class="s1">'11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="c1">-- ç»“æœï¼š1122A33</span>
</span></code></pre></div> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP_REPLACE</span><span class="p">(</span><span class="s1">'11a22A33a11a22A33a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'[^A]+'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#'</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">STR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="c1">-- ç»“æœï¼š#A#A#</span>
</span></code></pre></div> <h3 id="63èšåˆå‡½æ•°">6.3ã€èšåˆå‡½æ•°<a class="headerlink" href="#63èšåˆå‡½æ•°" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <h4 id="631wm_concat">6.3.1ã€WM_CONCAT<a class="headerlink" href="#631wm_concat" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle çš„ <code>WM_CONCAT</code> å‡½æ•°æ˜¯ä¸€ä¸ªå·²åºŸå¼ƒçš„å‡½æ•°ï¼Œç”¨äºå°†å¤šä¸ªè¡Œçš„å€¼åˆå¹¶æˆä¸€ä¸ªå•ä¸€å­—ç¬¦ä¸²ã€‚å®ƒç±»ä¼¼äº <code>LISTAGG</code> å‡½æ•°ï¼Œä½†ä¸åƒ <code>LISTAGG</code> é‚£æ ·å¼ºå¤§å’Œçµæ´»ã€‚<code>WM_CONCAT</code> å‡½æ•°åœ¨è¾ƒæ—©ç‰ˆæœ¬çš„ Oracle æ•°æ®åº“ä¸­å­˜åœ¨ï¼Œä½†åœ¨ Oracle 11g ä¹‹åçš„ç‰ˆæœ¬ä¸­è¢«å¼ƒç”¨ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="n">WM_CONCAT</span><span class="p">(</span><span class="n">separator</span><span class="p">,</span><span class="w"> </span><span class="n">colname</span><span class="p">)</span>
</span></code></pre></div> <p>ç”¨æŒ‡å®šçš„ <em>separator</em> åšåˆ†éš”ç¬¦ï¼Œè¿æ¥ <em>colname</em> ä¸­çš„å€¼ã€‚</p> <p>å‚æ•°ï¼š</p> <ul> <li><em>separator</em>ï¼šå¿…å¡«ã€‚STRING ç±»å‹å¸¸é‡ï¼Œåˆ†éš”ç¬¦ã€‚</li> <li><em>colname</em>ï¼šå¿…å¡«ã€‚STRING ç±»å‹ã€‚å¦‚æœè¾“å…¥ä¸º BIGINTã€DOUBLE æˆ– DATETIME ç±»å‹ï¼Œä¼šéšå¼è½¬æ¢ä¸º STRING ç±»å‹åå‚ä¸è¿ç®—ã€‚</li> </ul> <p>è¿”å› STRING ç±»å‹ã€‚è¿”å›è§„åˆ™å¦‚ä¸‹ï¼š</p> <ul> <li><em>separator</em> é STRING ç±»å‹å¸¸é‡æ—¶ï¼Œè¿”å›æŠ¥é”™ã€‚</li> <li><em>colname</em> é STRINGã€BIGINTã€DOUBLE æˆ– DATETIME ç±»å‹æ—¶ï¼Œè¿”å›æŠ¥é”™ã€‚</li> <li><em>colname</em> å€¼ä¸º NULL æ—¶ï¼Œè¯¥è¡Œä¸ä¼šå‚ä¸è®¡ç®—ã€‚</li> </ul> <blockquote> <p><code>select wm_concat(',', name) from table_name;</code> è¯­å¥ä¸­ï¼Œå¦‚æœ <code>table_name</code> ä¸ºç©ºé›†åˆï¼Œè¯¥è¯­å¥è¿”å› NULL å€¼ã€‚</p> </blockquote> <p><strong>ç¤ºä¾‹ 1</strong></p> <p>å¯¹æ‰€æœ‰èŒå·¥çš„å§“åï¼ˆenameï¼‰è¿›è¡Œåˆå¹¶ã€‚å‘½ä»¤ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">WM_CONCAT</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="w"> </span><span class="n">ename</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">emp</span><span class="p">;</span>
</span></code></pre></div> <p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a>+------------+
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a>| _c0        |
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a>+------------+
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a>| SMITH,ALLEN,WARD,JONES,MARTIN,BLAKE,CLARK,SCOTT,KING,TURNER,ADAMS,JAMES,FORD,MILLER,JACCKA,WELAN,TEBAGE |
</span><span id="__span-94-5"><a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a>+------------+
</span></code></pre></div> <p><strong>ç¤ºä¾‹ 2</strong></p> <p>ä¸ <code>GROUP BY</code> é…åˆä½¿ç”¨ï¼Œå¯¹æ‰€æœ‰èŒå·¥æŒ‰ç…§éƒ¨é—¨ï¼ˆdeptnoï¼‰è¿›è¡Œåˆ†ç»„ï¼Œå¹¶å°†åŒç»„çš„èŒå·¥å§“åï¼ˆenameï¼‰è¿›è¡Œåˆå¹¶ã€‚å‘½ä»¤ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="w"> </span><span class="n">WM_CONCAT</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="w"> </span><span class="n">ename</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">deptno</span><span class="p">;</span>
</span></code></pre></div> <p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a>+------------+------------+
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a>| deptno     | _c1        |
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a>+------------+------------+
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a>| 10         | CLARK,KING,MILLER,JACCKA,WELAN,TEBAGE |
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a>| 20         | SMITH,JONES,SCOTT,ADAMS,FORD |
</span><span id="__span-96-6"><a id="__codelineno-96-6" name="__codelineno-96-6" href="#__codelineno-96-6"></a>| 30         | ALLEN,WARD,MARTIN,BLAKE,TURNER,JAMES |
</span><span id="__span-96-7"><a id="__codelineno-96-7" name="__codelineno-96-7" href="#__codelineno-96-7"></a>+------------+------------+
</span></code></pre></div> <p><strong>ç¤ºä¾‹ 3</strong></p> <p>ä¸ <code>GROUP BY</code> é…åˆä½¿ç”¨ï¼Œå¯¹æ‰€æœ‰èŒå·¥æŒ‰ç…§éƒ¨é—¨ï¼ˆdeptnoï¼‰è¿›è¡Œåˆ†ç»„ï¼Œå¹¶å°†åŒç»„çš„è–ªèµ„ï¼ˆsalï¼‰å»é‡åè¿›è¡Œåˆå¹¶ã€‚å‘½ä»¤ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">deptno</span><span class="p">,</span><span class="w"> </span><span class="n">WM_CONCAT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="s1">','</span><span class="p">,</span><span class="w"> </span><span class="n">sal</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">emp</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">deptno</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">deptno</span><span class="p">;</span>
</span></code></pre></div> <p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a>+------------+------------+
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a>| deptno     | _c1        |
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a>+------------+------------+
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a>| 10         | 1300,2450,5000 |
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a>| 20         | 1100,2975,3000,800 |
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a>| 30         | 1250,1500,1600,2850,950 |
</span><span id="__span-98-7"><a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a>+------------+------------+
</span></code></pre></div> <h4 id="632listagg">6.3.2ã€LISTAGG<a class="headerlink" href="#632listagg" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle çš„ <code>LISTAGG</code> å‡½æ•°æ˜¯ä¸€ä¸ªç”¨äºå°†å¤šä¸ªè¡Œçš„å€¼åˆå¹¶æˆä¸€ä¸ªå•ä¸€å­—ç¬¦ä¸²çš„èšåˆå‡½æ•°ã€‚å®ƒå¯ä»¥ç”¨äºå°†æŸ¥è¯¢ç»“æœä¸­çš„å¤šä¸ªè¡Œçš„æŸä¸€åˆ—çš„å€¼è¿æ¥åœ¨ä¸€èµ·ï¼Œå¹¶ä»¥æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”å®ƒä»¬ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="n">LISTAGG</span><span class="p">(</span><span class="k">column_name</span><span class="p">,</span><span class="w"> </span><span class="k">delimiter</span><span class="p">)</span><span class="w"> </span><span class="n">WITHIN</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">order_column</span><span class="p">)</span>
</span></code></pre></div> <ul> <li><em>column_name</em>ï¼šè¦è¿æ¥çš„åˆ—çš„åç§°ã€‚</li> <li><em>delimiter</em>ï¼šç”¨äºåˆ†éš”è¿æ¥å€¼çš„å­—ç¬¦ä¸²ã€‚</li> <li><em>ORDER BY order_column</em>ï¼šç”¨äºæŒ‡å®šè¿æ¥å€¼çš„é¡ºåºã€‚</li> </ul> <p><strong>ç¤ºä¾‹</strong></p> <p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º <code>employees</code> çš„è¡¨ï¼Œå…¶ä¸­åŒ…å«å‘˜å·¥çš„å§“åå’Œéƒ¨é—¨ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">department</span><span class="p">,</span><span class="w"> </span><span class="n">LISTAGG</span><span class="p">(</span><span class="n">employee_name</span><span class="p">,</span><span class="w"> </span><span class="s1">', '</span><span class="p">)</span><span class="w"> </span><span class="n">WITHIN</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">employee_name</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">employees_list</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">employees</span>
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>
</span></code></pre></div> <p>è¿™ä¸ªæŸ¥è¯¢å°†ä¼šæŒ‰éƒ¨é—¨åˆ†ç»„ï¼Œå¹¶å°†æ¯ä¸ªéƒ¨é—¨ä¸­çš„å‘˜å·¥å§“åè¿æ¥æˆä¸€ä¸ªä»¥é€—å·å’Œç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²ã€‚</p> <h3 id="64åˆ¤ç©º">6.4ã€åˆ¤ç©º<a class="headerlink" href="#64åˆ¤ç©º" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <h4 id="641nvl">6.4.1ã€NVL<a class="headerlink" href="#641nvl" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle <code>NVL</code> å‡½æ•°çš„æ ¼å¼å¦‚ä¸‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="n">NVL</span><span class="p">(</span><span class="n">expr1</span><span class="p">,</span><span class="n">expr2</span><span class="p">)</span>
</span></code></pre></div> <p>å¦‚æœ <em>expr1</em> ä¸ºç©ºé‚£ä¹ˆæ˜¾ç¤º <em>expr2</em> çš„å€¼ï¼Œå¦‚æœ <em>expr1</em> çš„å€¼ä¸ä¸ºç©ºï¼Œåˆ™æ˜¾ç¤º <em>expr1</em>æœ¬æ¥çš„å€¼ã€‚</p> <h3 id="65ç±»å‹è½¬æ¢">6.5ã€ç±»å‹è½¬æ¢<a class="headerlink" href="#65ç±»å‹è½¬æ¢" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <h4 id="651to_char">6.5.1ã€TO_CHAR<a class="headerlink" href="#651to_char" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle <code>TO_CHAR</code> å‡½æ•°ç”¨äºå°†ç‰¹å®šæ•°æ®ç±»å‹çš„å€¼ï¼Œé€šå¸¸æ˜¯æ—¥æœŸæˆ–æ•°å­—ï¼Œè½¬æ¢ä¸ºæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="n">TO_CHAR</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="p">)</span>
</span></code></pre></div> <ul> <li><em>value</em>ï¼šè¦è½¬æ¢çš„å€¼ï¼Œå¯ä»¥æ˜¯æ—¥æœŸã€æ•°å­—æˆ–å…¶ä»–æ”¯æŒçš„æ•°æ®ç±»å‹ã€‚</li> <li><em>format</em>ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šäº†å¸Œæœ›å°†å€¼è½¬æ¢æˆçš„æ ¼å¼ã€‚å¯¹äºæ—¥æœŸå’Œæ•°å­—ï¼Œè¿™ä¸ªæ ¼å¼å­—ç¬¦ä¸²å¯ä»¥åŒ…å«ä¸åŒçš„å ä½ç¬¦æ¥è¡¨ç¤ºå¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’ç­‰ç­‰ã€‚</li> </ul> <p><strong>ç¤ºä¾‹</strong></p> <p>æ—¥æœŸ/æ—¶é—´è½¬å­—ç¬¦ä¸²ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="p">(</span><span class="n">SYSDATE</span><span class="p">,</span><span class="w"> </span><span class="s1">'YYYY-MM-DD HH24:MI:SS'</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="c1">-- è¾“å‡ºç±»ä¼¼ï¼š'2023-08-31 15:30:00'</span>
</span></code></pre></div> <p>å°†æ•°å­—è½¬æ¢ä¸ºå¸¦æœ‰åƒä½åˆ†éš”ç¬¦çš„å­—ç¬¦ä¸²ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="p">(</span><span class="mi">1234567</span><span class="p">.</span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="s1">'9,999,999.99'</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="c1">-- è¾“å‡ºï¼š'1,234,567.89'</span>
</span></code></pre></div> <p>æ ¼å¼åŒ–è´§å¸é‡‘é¢ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="p">(</span><span class="mi">1234</span><span class="p">.</span><span class="mi">56</span><span class="p">,</span><span class="w"> </span><span class="s1">'$9,999.99'</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="c1">-- è¾“å‡ºï¼š'$1,234.56'</span>
</span></code></pre></div> <h4 id="652to_date">6.5.2ã€TO_DATE<a class="headerlink" href="#652to_date" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle <code>TO_DATE</code> å‡½æ•°ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²å€¼è½¬æ¢ä¸ºæ—¥æœŸç±»å‹ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="n">TO_DATE</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="p">)</span>
</span></code></pre></div> <ul> <li><em>string</em>ï¼šè¦è½¬æ¢ä¸ºæ—¥æœŸçš„å­—ç¬¦ä¸²ã€‚</li> <li><em>format</em>ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šäº†è¾“å…¥å­—ç¬¦ä¸²çš„æ ¼å¼ï¼Œä»¥ä¾¿æ­£ç¡®è§£æä¸ºæ—¥æœŸã€‚</li> </ul> <p><strong>ç¤ºä¾‹</strong></p> <p>å°†å­—ç¬¦ä¸²æ—¥æœŸè½¬æ¢ä¸ºæ—¥æœŸç±»å‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2023-08-31'</span><span class="p">,</span><span class="w"> </span><span class="s1">'YYYY-MM-DD'</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-107-2"><a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="c1">-- è¾“å‡ºï¼š2023-08-31</span>
</span></code></pre></div> <p>æŒ‡å®šå°æ—¶ã€åˆ†é’Ÿå’Œç§’çš„æ—¶é—´æˆ³è½¬æ¢ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2023-08-31 15:30:00'</span><span class="p">,</span><span class="w"> </span><span class="s1">'YYYY-MM-DD HH24:MI:SS'</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DUAL</span><span class="p">;</span>
</span><span id="__span-108-2"><a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a><span class="c1">-- è¾“å‡ºï¼š2023-08-31 15:30:00</span>
</span></code></pre></div> <h4 id="653cast">6.5.3ã€CAST<a class="headerlink" href="#653cast" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>Oracle <code>CAST()</code> æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œå®ƒå°†ç»™å®šçš„å‚æ•°ä»ä¸€ç§ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚æ­¤å‡½æ•°æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹å’Œé›†åˆç±»å‹ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="k">CAST</span><span class="p">(</span><span class="err">{</span><span class="n">expr</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">type_name</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">return_value</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">CONVERSION</span><span class="w"> </span><span class="n">ERROR</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">fmt</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="s1">'nlsparam'</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">])</span>
</span></code></pre></div> <ul> <li><em>expr</em>ï¼šè¦è½¬æ¢ä¸ºä¸åŒæ•°æ®ç±»å‹çš„å€¼æˆ–è¡¨è¾¾å¼ï¼Œå¯ä»¥æ˜¯å†…ç½®æ•°æ®ç±»å‹ã€é›†åˆç±»å‹æˆ– ANYDATA ç±»å‹çš„å®ä¾‹ã€‚</li> <li><em>type_name</em>ï¼šè¦å°†è¡¨è¾¾å¼è½¬æ¢ä¸ºçš„ç›®æ ‡æ•°æ®ç±»å‹ã€‚</li> <li><em>DEFAULT return_value ON CONVERSION ERROR</em>ï¼šå¯é€‰çš„ã€‚å®ƒå…è®¸æ‚¨æŒ‡å®šåœ¨è½¬æ¢å‘ç”Ÿé”™è¯¯æ—¶è¿”å›çš„å€¼ã€‚</li> <li><em>fmt</em>ï¼šå¯é€‰çš„ã€‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</li> <li><em>'nlsparam'</em> ï¼šå¯é€‰çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ª <code>'NLS_DATE_LANGUAGE = language'</code> å½¢å¼è®¾ç½®æ­¤å‚æ•°ï¼Œå…¶ä¸­ <code>language</code> æ˜¯è¯­è¨€åç§°ã€‚</li> </ul> <p><strong>ç¤ºä¾‹</strong></p> <p>å­—ç¬¦ä¸²æ—¥æœŸè½¬ä¸º <code>TIMESTAMP</code> ç±»å‹ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SESSION</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">NLS_TIMESTAMP_FORMAT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'YYYY-MM-DD HH24:MI:SSXFF'</span><span class="p">;</span>
</span><span id="__span-110-2"><a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="k">SELECT</span>
</span><span id="__span-110-3"><a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="w">    </span><span class="k">CAST</span><span class="p">(</span><span class="s1">'2023-02-28'</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="s1">'YYYY-MM-DD'</span><span class="p">)</span><span class="w"> </span><span class="k">Result</span>
</span><span id="__span-110-4"><a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="k">FROM</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</span><span id="__span-110-5"><a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="c1">-- è¾“å‡ºï¼š2023-02-28 00:00:00.000000000</span>
</span></code></pre></div> <p>æŒ‡å®šè¯­è¨€ä»¥æŒ‰ç…§æŒ‡å®šçš„è¯­è¨€è¿›è¡Œè½¬æ¢ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span>
</span><span id="__span-111-2"><a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="w">        </span><span class="s1">'28-Feb-23'</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
</span><span id="__span-111-3"><a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a><span class="w">        </span><span class="s1">'DD-MON-YY'</span><span class="p">,</span>
</span><span id="__span-111-4"><a id="__codelineno-111-4" name="__codelineno-111-4" href="#__codelineno-111-4"></a><span class="w">        </span><span class="s1">'NLS_DATE_LANGUAGE = American'</span>
</span><span id="__span-111-5"><a id="__codelineno-111-5" name="__codelineno-111-5" href="#__codelineno-111-5"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">Result</span>
</span><span id="__span-111-6"><a id="__codelineno-111-6" name="__codelineno-111-6" href="#__codelineno-111-6"></a><span class="k">FROM</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</span><span id="__span-111-7"><a id="__codelineno-111-7" name="__codelineno-111-7" href="#__codelineno-111-7"></a><span class="c1">-- è¾“å‡ºï¼š2023-02-28 00:00:00.000000000</span>
</span><span id="__span-111-8"><a id="__codelineno-111-8" name="__codelineno-111-8" href="#__codelineno-111-8"></a>
</span><span id="__span-111-9"><a id="__codelineno-111-9" name="__codelineno-111-9" href="#__codelineno-111-9"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span>
</span><span id="__span-111-10"><a id="__codelineno-111-10" name="__codelineno-111-10" href="#__codelineno-111-10"></a><span class="w">        </span><span class="s1">'20-2æœˆ -23'</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
</span><span id="__span-111-11"><a id="__codelineno-111-11" name="__codelineno-111-11" href="#__codelineno-111-11"></a><span class="w">        </span><span class="s1">'DD-MON-YY'</span><span class="p">,</span>
</span><span id="__span-111-12"><a id="__codelineno-111-12" name="__codelineno-111-12" href="#__codelineno-111-12"></a><span class="w">        </span><span class="s1">'NLS_DATE_LANGUAGE = ''Simplified Chinese'''</span>
</span><span id="__span-111-13"><a id="__codelineno-111-13" name="__codelineno-111-13" href="#__codelineno-111-13"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">Result</span>
</span><span id="__span-111-14"><a id="__codelineno-111-14" name="__codelineno-111-14" href="#__codelineno-111-14"></a><span class="k">FROM</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</span><span id="__span-111-15"><a id="__codelineno-111-15" name="__codelineno-111-15" href="#__codelineno-111-15"></a><span class="c1">-- è¾“å‡ºï¼š20-2æœˆ -23 12.00.00.000000000 ä¸Šåˆ</span>
</span></code></pre></div> <h2 id="7spring-boot-é›†æˆ">7ã€Spring Boot é›†æˆ<a class="headerlink" href="#7spring-boot-é›†æˆ" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="71é›†æˆæ­¥éª¤">7.1ã€é›†æˆæ­¥éª¤<a class="headerlink" href="#71é›†æˆæ­¥éª¤" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>Spring Boot é…ç½® Oracle19c æ•°æ®åº“</strong></p> <ol> <li> <p>pom.xml æ–‡ä»¶æ·»åŠ ä¾èµ–åŒ…ï¼š</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="cm">&lt;!-- Oracleæ•°æ®åº“é©±åŠ¨ --&gt;</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="nt">&lt;dependency&gt;</span>
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.oracle.ojdbc<span class="nt">&lt;/groupId&gt;</span>
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>ojdbc8<span class="nt">&lt;/artifactId&gt;</span>
</span><span id="__span-112-5"><a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>19.3.0.0<span class="nt">&lt;/version&gt;</span>
</span><span id="__span-112-6"><a id="__codelineno-112-6" name="__codelineno-112-6" href="#__codelineno-112-6"></a><span class="nt">&lt;/dependency&gt;</span>
</span><span id="__span-112-7"><a id="__codelineno-112-7" name="__codelineno-112-7" href="#__codelineno-112-7"></a>
</span><span id="__span-112-8"><a id="__codelineno-112-8" name="__codelineno-112-8" href="#__codelineno-112-8"></a><span class="cm">&lt;!-- è¿™é‡Œä½¿ç”¨çš„æ˜¯JDBCåŒ…ï¼Œä¹Ÿå¯ä½¿ç”¨JPAåŒ…è¿›è¡Œ --&gt;</span>
</span><span id="__span-112-9"><a id="__codelineno-112-9" name="__codelineno-112-9" href="#__codelineno-112-9"></a><span class="nt">&lt;dependency&gt;</span>
</span><span id="__span-112-10"><a id="__codelineno-112-10" name="__codelineno-112-10" href="#__codelineno-112-10"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span><span id="__span-112-11"><a id="__codelineno-112-11" name="__codelineno-112-11" href="#__codelineno-112-11"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-jdbc<span class="nt">&lt;/artifactId&gt;</span>
</span><span id="__span-112-12"><a id="__codelineno-112-12" name="__codelineno-112-12" href="#__codelineno-112-12"></a><span class="nt">&lt;/dependency&gt;</span>
</span><span id="__span-112-13"><a id="__codelineno-112-13" name="__codelineno-112-13" href="#__codelineno-112-13"></a>
</span><span id="__span-112-14"><a id="__codelineno-112-14" name="__codelineno-112-14" href="#__codelineno-112-14"></a><span class="cm">&lt;!--        &lt;dependency&gt;--&gt;</span>
</span><span id="__span-112-15"><a id="__codelineno-112-15" name="__codelineno-112-15" href="#__codelineno-112-15"></a><span class="cm">&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;</span>
</span><span id="__span-112-16"><a id="__codelineno-112-16" name="__codelineno-112-16" href="#__codelineno-112-16"></a><span class="cm">&lt;!--            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;--&gt;</span>
</span><span id="__span-112-17"><a id="__codelineno-112-17" name="__codelineno-112-17" href="#__codelineno-112-17"></a><span class="cm">&lt;!--        &lt;/dependency&gt;--&gt;</span>
</span><span id="__span-112-18"><a id="__codelineno-112-18" name="__codelineno-112-18" href="#__codelineno-112-18"></a>
</span><span id="__span-112-19"><a id="__codelineno-112-19" name="__codelineno-112-19" href="#__codelineno-112-19"></a><span class="cm">&lt;!-- druid --&gt;</span>
</span><span id="__span-112-20"><a id="__codelineno-112-20" name="__codelineno-112-20" href="#__codelineno-112-20"></a><span class="nt">&lt;dependency&gt;</span>
</span><span id="__span-112-21"><a id="__codelineno-112-21" name="__codelineno-112-21" href="#__codelineno-112-21"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.alibaba<span class="nt">&lt;/groupId&gt;</span>
</span><span id="__span-112-22"><a id="__codelineno-112-22" name="__codelineno-112-22" href="#__codelineno-112-22"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>druid<span class="nt">&lt;/artifactId&gt;</span>
</span><span id="__span-112-23"><a id="__codelineno-112-23" name="__codelineno-112-23" href="#__codelineno-112-23"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>1.1.16<span class="nt">&lt;/version&gt;</span>
</span><span id="__span-112-24"><a id="__codelineno-112-24" name="__codelineno-112-24" href="#__codelineno-112-24"></a><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></div> </li> <li> <p>application.yml é…ç½®æ–‡ä»¶åŠ å…¥ Oracle æ•°æ®åº“ä¿¡æ¯ï¼š</p> <div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="nt">spring</span><span class="p">:</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="w">  </span><span class="nt">application</span><span class="p">:</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cloud-payment-service</span><span class="w"> </span><span class="c1"># æœåŠ¡åç§°</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">  </span><span class="nt">datasource</span><span class="p">:</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">com.alibaba.druid.pool.DruidDataSource</span><span class="w"> </span><span class="c1"># å½“å‰æ•°æ®æºæ“ä½œç±»å‹</span>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="w">    </span><span class="nt">driver-class-name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">oracle.jdbc.OracleDriver</span><span class="w"> </span><span class="c1"># Oracleæ•°æ®åº“é©±åŠ¨åŒ…</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jdbc:oracle:thin:@//localhost:1521/ORCL</span>
</span><span id="__span-113-8"><a id="__codelineno-113-8" name="__codelineno-113-8" href="#__codelineno-113-8"></a><span class="w">    </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yma</span>
</span><span id="__span-113-9"><a id="__codelineno-113-9" name="__codelineno-113-9" href="#__codelineno-113-9"></a><span class="w">    </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">123456</span>
</span></code></pre></div> </li> </ol> <h3 id="72é‡åˆ°çš„é—®é¢˜">7.2ã€é‡åˆ°çš„é—®é¢˜<a class="headerlink" href="#72é‡åˆ°çš„é—®é¢˜" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <h4 id="721ora-28040-æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®®">7.2.1ã€ORA-28040: æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®®<a class="headerlink" href="#721ora-28040-æ²¡æœ‰åŒ¹é…çš„éªŒè¯åè®®" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>å¯èƒ½çš„åŸå› æœ‰ï¼š</p> <p><strong>è¿æ¥æ•°æ®åº“é©±åŠ¨å’Œ Oracle ç‰ˆæœ¬ä¸ä¸€è‡´</strong></p> <p>å¯ä»¥é€šè¿‡ä¸‹è½½æ–°çš„é©±åŠ¨è§£å†³ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¿®æ”¹é…ç½®çš„æ–¹å¼ã€‚</p> <ol> <li> <p>åœ¨ Oracle çš„å®‰è£…è·¯å¾„ä¸‹æ‰¾åˆ° sqlnet.ora æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a>SQLNET.ALLOWED_LOGON_VERSION=8
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a>SQLNET.ALLOWED_LOGON_VERSION_SERVER=8
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a>
</span><span id="__span-114-5"><a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a>SQLNET.ALLOWED_LOGON_VERSION_CLIENT=8
</span></code></pre></div> </li> <li> <p>é‡å¯ Oracle æ•°æ®åº“æœåŠ¡ï¼Œä¸»è¦æ˜¯ç›‘å¬ï¼Œä¸è¿‡æœ€å¥½éƒ½é‡å¯ä¸€ä¸‹ã€‚</p> </li> <li> <p>æ­¤æ—¶é€šè¿‡ Java è¿æ¥å‡ºç° <code>java.sql.SQLException: ORA-01017: ç”¨æˆ·å/å£ä»¤æ— æ•ˆ; ç™»å½•è¢«æ‹’ç»</code>ï¼Œä½†æ˜¯é€šè¿‡ SQL Developer åˆèƒ½æ­£å¸¸è¿æ¥ã€‚è§£å†³åŠæ³•å°±æ˜¯é‡æ–°ä¿®æ”¹ç”¨æˆ·çš„å¯†ç å³å¯ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="n">sqlplus</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sysdba</span><span class="p">;</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="k">alter</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">&lt;</span><span class="err">ç”¨æˆ·å</span><span class="o">&gt;</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">&lt;</span><span class="err">å¯†ç </span><span class="o">&gt;</span><span class="p">;</span>
</span></code></pre></div> </li> <li> <p>æ­¤æ—¶å†æ¬¡è¿æ¥å³å¯æ­£å¸¸è¿æ¥äº†ã€‚</p> </li> </ol> <p><strong>åŠ å¯†æœºåˆ¶é—®é¢˜</strong></p> <p>é»˜è®¤æƒ…å†µä¸‹ Oracle 19c å°†ä½¿ç”¨æ–°çš„åŠ å¯†æœºåˆ¶ï¼ˆSHA-2ï¼‰è€Œéä»¥å‰ç‰ˆæœ¬çš„ï¼ˆSHA-1ï¼‰ã€‚ä½ éœ€è¦ç¦ç”¨ SHA-2 å¹¶å¼ºåˆ¶ä½¿ç”¨ SHA-1 åŠ å¯†æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡åœ¨ JDBC URL å‚æ•°ä¸­æ·»åŠ  <code>?oracle.net.disableOob=true</code> æ¥å®ç°ã€‚</p> <p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°† dbURL ä¿®æ”¹æˆä»¥ä¸‹æ ¼å¼ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a>jdbc:oracle:thin:@//localhost:1521/ORCL?oracle.net.disableOob=true
</span></code></pre></div> <h4 id="722nl-exception-was-generated">7.2.2ã€NL Exception was generated<a class="headerlink" href="#722nl-exception-was-generated" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>å‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œä¸»è¦æ˜¯æ•°æ®åº“é…ç½®æ–‡ä»¶ä¸­ url å­—ç¬¦ä¸²å†™é”™å¯¼è‡´çš„ã€‚ä»”ç»†æ£€æŸ¥ url å­—ç¬¦ä¸²ï¼Œé—®é¢˜åŸºæœ¬å°±è§£å†³äº†ã€‚</p> <h2 id="8å¯¼å…¥å¯¼å‡º">8ã€å¯¼å…¥å¯¼å‡º<a class="headerlink" href="#8å¯¼å…¥å¯¼å‡º" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="81æ•°æ®æ³µ">8.1ã€æ•°æ®æ³µ<a class="headerlink" href="#81æ•°æ®æ³µ" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>æ•°æ®æ³µï¼ˆexpdpã€impdpï¼‰æ˜¯ Oracle 10g æ—¶å¼•å…¥çš„æ–°æŠ€æœ¯ï¼Œå…¼å®¹äº†ä¹‹å‰çš„æ•°æ®å¯¼å‡ºå¯¼å…¥å·¥å…·ï¼ˆexpï¼Œimpï¼‰å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œå¹¶è¿›ä¸€æ­¥å®Œå–„ï¼Œæä¾›äº†å¾ˆå¤šæ–°åŠŸèƒ½ä»¥æ»¡è¶³å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚åŒºåˆ«äºä¼ ç»Ÿçš„ expã€imp å·¥å…·ï¼Œæ•°æ®æ³µç›¸å…³å‘½ä»¤éœ€åœ¨æ•°æ®åº“æœåŠ¡ç«¯æ‰§è¡Œã€‚</p> <p>æ•°æ®æ³µå±äºé€»è¾‘è¿ç§»ï¼Œå¯è·¨æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œè·¨æ•°æ®åº“ç‰ˆæœ¬ã€‚é«˜ç‰ˆæœ¬å…¼å®¹ä½ç‰ˆæœ¬ï¼Œé«˜ç‰ˆæœ¬å‘ä½ç‰ˆæœ¬å¯¼æ•°æ®ï¼Œå¯¼å‡ºæ—¶éœ€æ·»åŠ ä½ç‰ˆæœ¬çš„ç‰ˆæœ¬å·ã€‚</p> <h4 id="811expdp">8.1.1ã€expdp<a class="headerlink" href="#811expdp" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>ç”¨äºå°†æ•°æ®åº“æ•°æ®å¯¼å‡ºåˆ° <code>.dmp</code> æ–‡ä»¶ä¸­ï¼Œå¯ç”¨äºæ•°æ®å¤‡ä»½æˆ–è¿ç§»ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="n">expdp</span><span class="w"> </span><span class="o">&lt;</span><span class="err">ç”¨æˆ·å</span><span class="o">&gt;/&lt;</span><span class="err">å¯†ç </span><span class="o">&gt;@&lt;</span><span class="err">æ•°æ®åº“è¿æ¥æ ‡è¯†</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="err">å‚æ•°</span><span class="mi">1</span><span class="o">=</span><span class="err">å€¼</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="err">å‚æ•°</span><span class="mi">2</span><span class="o">=</span><span class="err">å€¼</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">...</span>
</span></code></pre></div> <ul> <li><em>FULL</em>ï¼šæ˜¯å¦å¯¼å‡ºæ•´ä¸ªæ•°æ®åº“ï¼ˆYã€Nï¼‰ã€‚</li> <li><em>SCHEMAS</em>ï¼šæŒ‡å®šå¯¼å‡ºçš„ <code>schema</code>ï¼ˆç”¨æˆ·ï¼‰ã€‚</li> <li><em>TABLES</em>ï¼šæŒ‡å®šå¯¼å‡ºçš„è¡¨ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”ã€‚</li> <li><em>TABLESPACES</em>ï¼šæŒ‡å®šå¯¼å‡ºçš„è¡¨ç©ºé—´ã€‚</li> <li><em>QUERY</em>ï¼šä½¿ç”¨ SQL è¿‡æ»¤æ•°æ®ã€‚</li> <li><em>DUMPFILE</em>ï¼šå¯¼å‡ºæ–‡ä»¶åï¼ˆå¯ä½¿ç”¨ <code>%U</code> è¿›è¡Œå¤šæ–‡ä»¶ï¼‰ã€‚</li> <li><em>LOGFILE</em>ï¼šæ—¥å¿—æ–‡ä»¶åã€‚</li> <li><em>DIRECTORY</em>ï¼šæŒ‡å®šå¯¼å‡ºå­˜æ”¾ <code>.dmp</code> æ–‡ä»¶çš„ç›®å½•å¯¹è±¡ï¼ˆå¿…é¡»å…ˆåˆ›å»ºï¼‰ã€‚</li> <li><em>PARALLEL</em>ï¼šå¹¶è¡Œå¯¼å‡ºæ•°é‡ã€‚</li> <li><em>COMPRESSION</em>ï¼šå‹ç¼©æ•°æ®ï¼ˆ<code>ALL</code>ã€<code>DATA_ONLY</code>ã€<code>METADATA_ONLY</code>ã€<code>NONE</code>ï¼‰ã€‚</li> <li><em>EXCLUDE</em>/INCLUDEï¼šæŒ‡å®šæ’é™¤æˆ–åŒ…å«å“ªäº›å¯¹è±¡ã€‚</li> <li><em>REUSE_DUMPFILES</em>ï¼šæ˜¯å¦è¦†ç›–å·²æœ‰ <code>.dmp</code> æ–‡ä»¶ã€‚</li> </ul> <p><strong>ç¤ºä¾‹</strong></p> <p>åˆ›å»º <code>DIRECTORY</code> å¯¹è±¡ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="w"> </span><span class="n">datapump_dir</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">'/opt/oracle/dump'</span><span class="p">;</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">READ</span><span class="p">,</span><span class="w"> </span><span class="k">WRITE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="w"> </span><span class="n">datapump_dir</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="k">system</span><span class="p">;</span>
</span></code></pre></div> <p>å¯¼å‡ºæ•´ä¸ªæ•°æ®åº“ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="n">expdp</span><span class="w"> </span><span class="k">system</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="k">FULL</span><span class="o">=</span><span class="n">Y</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">full_</span><span class="o">%</span><span class="n">U</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="k">full</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span><span class="w"> </span><span class="n">PARALLEL</span><span class="o">=</span><span class="mi">4</span><span class="w"> </span><span class="n">FILESIZE</span><span class="o">=</span><span class="mi">2</span><span class="k">G</span>
</span></code></pre></div> <ul> <li><code>FULL=Y</code>ï¼šå¯¼å‡ºæ•´ä¸ªæ•°æ®åº“ã€‚</li> <li><code>DUMPFILE=full_%U.dmp</code>ï¼šä½¿ç”¨ <code>%U</code> ç”Ÿæˆå¤šä¸ªæ–‡ä»¶ï¼ˆå¦‚ <code>full_01.dmp</code>ã€<code>full_02.dmp</code>ï¼‰ã€‚</li> <li><code>FILESIZE=2G</code>ï¼šå•ä¸ª <code>.dmp</code> æ–‡ä»¶æœ€å¤§ 2 GBï¼Œè¶…å‡ºåæ–°å»ºæ–‡ä»¶ã€‚</li> <li><code>PARALLEL=4</code>ï¼š4 ä¸ªè¿›ç¨‹å¹¶è¡Œå¯¼å‡ºï¼Œæé«˜é€Ÿåº¦ã€‚</li> </ul> <p>å¯¼å‡ºç‰¹å®š <code>Schema</code>ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="n">expdp</span><span class="w"> </span><span class="k">system</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">HR</span><span class="p">,</span><span class="n">SALES</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">schemas</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">schemas</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>SCHEMAS=HR,SALES</code>ï¼šä»…å¯¼å‡º <code>HR</code> å’Œ <code>SALES</code> ç”¨æˆ·çš„æ•°æ®ã€‚</li> </ul> <p>å¯¼å‡ºç‰¹å®šè¡¨ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="n">expdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">TABLES</span><span class="o">=</span><span class="n">EMP</span><span class="p">,</span><span class="n">DEPT</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">tables</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">tables</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>TABLES=EMP,DEPT</code>ï¼šä»…å¯¼å‡º <code>EMP</code> å’Œ <code>DEPT</code> ä¸¤å¼ è¡¨ã€‚</li> </ul> <p>å¯¼å‡ºç‰¹å®šè¡¨ç©ºé—´ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="n">expdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">TABLESPACES</span><span class="o">=</span><span class="n">USERS</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">users_tbs</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">users_tbs</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>TABLESPACES=USERS</code>ï¼šå¯¼å‡º <code>USERS</code> è¡¨ç©ºé—´çš„æ•°æ®ã€‚</li> </ul> <p>ä½¿ç”¨ SQL è¿‡æ»¤æ•°æ®ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="n">expdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">TABLES</span><span class="o">=</span><span class="n">EMP</span><span class="w"> </span><span class="n">QUERY</span><span class="o">=</span><span class="ss">"WHERE deptno=10"</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">emp_10</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">emp_10</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>QUERY="WHERE deptno=10"</code>ï¼šåªå¯¼å‡º <code>deptno=10</code> çš„æ•°æ®ã€‚</li> </ul> <p>æ’é™¤ç‰¹å®šå¯¹è±¡ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="n">expdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">HR</span><span class="w"> </span><span class="n">EXCLUDE</span><span class="o">=</span><span class="k">TABLE</span><span class="p">:</span><span class="ss">"IN ('EMP', 'DEPT')"</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">hr</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">hr</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>EXCLUDE=TABLE:"IN ('EMP', 'DEPT')"</code>ï¼šå¯¼å‡ºæ—¶æ’é™¤ <code>EMP</code> å’Œ <code>DEPT</code> è¡¨ã€‚</li> </ul> <p>å‹ç¼©å¯¼å‡ºï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="n">expdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">HR</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">hr_comp</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">hr_comp</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span><span class="w"> </span><span class="n">COMPRESSION</span><span class="o">=</span><span class="k">ALL</span>
</span></code></pre></div> <ul> <li><code>COMPRESSION=ALL</code>ï¼šå‹ç¼©æ•°æ®å’Œå…ƒæ•°æ®ï¼Œå‡å°‘ <code>.dmp</code> æ–‡ä»¶å¤§å°ã€‚</li> </ul> <h4 id="812impdp">8.1.2ã€impdp<a class="headerlink" href="#812impdp" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>ç”¨äºå°† <code>.dmp</code> å¤‡ä»½æ–‡ä»¶å¯¼å…¥æ•°æ®åº“ã€‚</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="n">impdp</span><span class="w"> </span><span class="o">&lt;</span><span class="err">ç”¨æˆ·å</span><span class="o">&gt;/&lt;</span><span class="err">å¯†ç </span><span class="o">&gt;@&lt;</span><span class="err">æ•°æ®åº“è¿æ¥æ ‡è¯†</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="err">å‚æ•°</span><span class="mi">1</span><span class="o">=</span><span class="err">å€¼</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="err">å‚æ•°</span><span class="mi">2</span><span class="o">=</span><span class="err">å€¼</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">...</span>
</span></code></pre></div> <ul> <li><em>FULL</em>ï¼šæ˜¯å¦å¯¼å…¥æ•´ä¸ªæ•°æ®åº“ï¼ˆYã€Nï¼‰ã€‚</li> <li><em>SCHEMAS</em>ï¼šæŒ‡å®šå¯¼å…¥çš„ <code>schema</code>ï¼ˆç”¨æˆ·ï¼‰ã€‚</li> <li><em>TABLES</em>ï¼šæŒ‡å®šå¯¼å…¥çš„è¡¨ã€‚</li> <li><em>TABLESPACES</em>ï¼šæŒ‡å®šå¯¼å…¥çš„è¡¨ç©ºé—´ã€‚</li> <li><em>DUMPFILE</em>ï¼šè¦å¯¼å…¥çš„ <code>.dmp</code> æ–‡ä»¶ã€‚</li> <li><em>LOGFILE</em>ï¼šæ—¥å¿—æ–‡ä»¶åã€‚</li> <li><em>DIRECTORY</em>ï¼šæŒ‡å®šå­˜æ”¾ <code>.dmp</code> æ–‡ä»¶çš„ç›®å½•å¯¹è±¡ï¼ˆå¿…é¡»å…ˆåˆ›å»ºï¼‰ã€‚</li> <li><em>PARALLEL</em>ï¼šå¹¶è¡Œå¯¼å…¥ã€‚</li> <li><em>REMAP_SCHEMA</em>ï¼šå°†æ•°æ®ä»ä¸€ä¸ª <code>schema</code> è¿ç§»åˆ°å¦ä¸€ä¸ª <code>schema</code>ã€‚</li> <li><em>REMAP_TABLESPACE</em>ï¼šå°†è¡¨è¿ç§»åˆ°æ–°çš„è¡¨ç©ºé—´ã€‚</li> <li><em>TABLE_EXISTS_ACTION</em>ï¼šè¡¨å·²å­˜åœ¨æ—¶çš„å¤„ç†æ–¹å¼ï¼ˆ<code>SKIP</code>ã€<code>APPEND</code>ã€<code>TRUNCATE</code>ã€<code>REPLACE</code>ï¼‰ã€‚</li> <li><em>TRANSFORM</em>ï¼šåœ¨å¯¼å…¥æ—¶è°ƒæ•´å­˜å‚¨å‚æ•°ã€‚</li> </ul> <p><strong>ç¤ºä¾‹</strong></p> <p>åˆ›å»º <code>DIRECTORY</code> å¯¹è±¡ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="w"> </span><span class="n">datapump_dir</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">'/opt/oracle/dump'</span><span class="p">;</span>
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">READ</span><span class="p">,</span><span class="w"> </span><span class="k">WRITE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="w"> </span><span class="n">datapump_dir</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="k">system</span><span class="p">;</span>
</span></code></pre></div> <p>å¯¼å…¥æ•´ä¸ªæ•°æ®åº“ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="n">impdp</span><span class="w"> </span><span class="k">system</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="k">FULL</span><span class="o">=</span><span class="n">Y</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">full_</span><span class="o">%</span><span class="n">U</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">full_import</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span><span class="w"> </span><span class="n">PARALLEL</span><span class="o">=</span><span class="mi">4</span>
</span></code></pre></div> <ul> <li><code>FULL=Y</code>ï¼šå¯¼å…¥æ•´ä¸ªæ•°æ®åº“ã€‚</li> </ul> <p>å¯¼å…¥ç‰¹å®š <code>Schema</code>ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="n">impdp</span><span class="w"> </span><span class="k">system</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">HR</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">hr</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">hr_import</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>SCHEMAS=HR</code>ï¼šå¯¼å…¥ <code>HR</code> ç”¨æˆ·çš„æ•°æ®ã€‚</li> </ul> <p>å¯¼å…¥ç‰¹å®šè¡¨ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="n">impdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">TABLES</span><span class="o">=</span><span class="n">EMP</span><span class="p">,</span><span class="n">DEPT</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">tables</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">tables_import</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>TABLES=EMP,DEPT</code>ï¼šä»…å¯¼å…¥ <code>EMP</code> å’Œ <code>DEPT</code> è¡¨ã€‚</li> </ul> <p>é‡æ˜ å°„è¡¨ç©ºé—´ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="n">impdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">TABLES</span><span class="o">=</span><span class="n">EMP</span><span class="w"> </span><span class="n">REMAP_TABLESPACE</span><span class="o">=</span><span class="n">OLD_TBS</span><span class="p">:</span><span class="n">NEW_TBS</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">emp</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">emp_import</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>REMAP_TABLESPACE=OLD_TBS:NEW_TBS</code>ï¼šå°† <code>EMP</code> è¡¨çš„æ•°æ®ä» <code>OLD_TBS</code> è¿ç§»åˆ° <code>NEW_TBS</code>ã€‚</li> </ul> <p>é‡æ˜ å°„ <code>Schema</code>ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="n">impdp</span><span class="w"> </span><span class="k">system</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">HR</span><span class="w"> </span><span class="n">REMAP_SCHEMA</span><span class="o">=</span><span class="n">HR</span><span class="p">:</span><span class="n">NEW_HR</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">hr</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">hr_import</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span>
</span></code></pre></div> <ul> <li><code>REMAP_SCHEMA=HR:NEW_HR</code>ï¼šå°† <code>HR</code> ç”¨æˆ·çš„æ•°æ®å¯¼å…¥åˆ° <code>NEW_HR</code>ã€‚</li> </ul> <p>é‡åˆ°è¡¨å·²å­˜åœ¨æ—¶çš„å¤„ç†ï¼š</p> <div class="language-sql highlight"><span class="filename">SQL</span><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="n">impdp</span><span class="w"> </span><span class="err">ç”¨æˆ·å</span><span class="o">/</span><span class="err">å¯†ç </span><span class="o">@</span><span class="n">ORCL</span><span class="w"> </span><span class="n">TABLES</span><span class="o">=</span><span class="n">EMP</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">emp</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">emp_import</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">datapump_dir</span><span class="w"> </span><span class="n">TABLE_EXISTS_ACTION</span><span class="o">=</span><span class="k">REPLACE</span>
</span></code></pre></div> <ul> <li><code>TABLE_EXISTS_ACTION=REPLACE</code>ï¼šåˆ é™¤æ—§è¡¨ï¼Œé‡æ–°åˆ›å»ºå¹¶å¯¼å…¥æ•°æ®ã€‚</li> </ul> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="æœ€åæ›´æ–°"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2026å¹´1æœˆ22æ—¥ 20:21:58 UTC">2026å¹´1æœˆ22æ—¥ 20:21:58</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="åˆ›å»ºæ—¥æœŸ"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2021å¹´4æœˆ26æ—¥ 11:39:30 UTC">2021å¹´4æœˆ26æ—¥ 11:39:30</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> å›åˆ°é¡µé¢é¡¶éƒ¨ </button> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.top", "navigation.tracking", "navigation.instant", "navigation.path", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src="../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../_javascripts/auto_title.js"></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>