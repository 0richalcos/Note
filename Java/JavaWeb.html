<!DOCTYPE html><html lang="zh" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://0richalcos.github.io/Note/Java/JavaWeb.html"><link rel="prev" href="JavaObject.html"><link rel="next" href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/Algorithm.html"><link rel="icon" href="../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>JavaWeb - éšä¾¿è®°è®°</title><link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css"><link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../_stylesheets/extra.css"><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#1servlet" class="md-skip"> è·³è½¬è‡³ </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰"> <a href="../index.html" title="éšä¾¿è®°è®°" class="md-header__button md-logo" aria-label="éšä¾¿è®°è®°" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> éšä¾¿è®°è®° </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> JavaWeb </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal" aria-label="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class="md-option" data-md-color-media data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal" aria-label="åˆ‡æ¢åˆ°äº®è‰²æ¨¡å¼" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="åˆ‡æ¢åˆ°äº®è‰²æ¨¡å¼" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="æŸ¥æ‰¾"> <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“ </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/0richalcos/Note" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary" aria-label="å¯¼èˆªæ " data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../index.html" title="éšä¾¿è®°è®°" class="md-nav__button md-logo" aria-label="éšä¾¿è®°è®°" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> éšä¾¿è®°è®° </label> <div class="md-nav__source"> <a href="https://github.com/0richalcos/Note" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../index.html" class="md-nav__link"> <span class="md-ellipsis"> ğŸ  é¦–é¡µ </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0"> <span class="md-ellipsis"> â™¨ï¸ Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> â™¨ï¸ Java </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="Java.html" class="md-nav__link"> <span class="md-ellipsis"> Java </span> </a> </li> <li class="md-nav__item"> <a href="Java8.html" class="md-nav__link"> <span class="md-ellipsis"> Java 8 </span> </a> </li> <li class="md-nav__item"> <a href="JavaBasics.html" class="md-nav__link"> <span class="md-ellipsis"> Java åŸºç¡€ </span> </a> </li> <li class="md-nav__item"> <a href="JavaCollection.html" class="md-nav__link"> <span class="md-ellipsis"> Java é›†åˆ </span> </a> </li> <li class="md-nav__item"> <a href="JavaObject.html" class="md-nav__link"> <span class="md-ellipsis"> Java ç±»å’Œå¯¹è±¡ </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> JavaWeb </span> <span class="md-nav__icon md-icon"></span> </label> <a href="JavaWeb.html" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> JavaWeb </span> </a> <nav class="md-nav md-nav--secondary" aria-label="ç›®å½•"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#1servlet" class="md-nav__link"> <span class="md-ellipsis"> 1ã€Servlet </span> </a> <nav class="md-nav" aria-label="1ã€Servlet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#11servletç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 1.1ã€Servletç®€ä»‹ </span> </a> </li> <li class="md-nav__item"> <a href="#12servlet-çš„å¼€å‘æ­¥éª¤" class="md-nav__link"> <span class="md-ellipsis"> 1.2ã€Servlet çš„å¼€å‘æ­¥éª¤ </span> </a> </li> <li class="md-nav__item"> <a href="#13servlet-ç”Ÿå‘½å‘¨æœŸ" class="md-nav__link"> <span class="md-ellipsis"> 1.3ã€Servlet ç”Ÿå‘½å‘¨æœŸ </span> </a> </li> <li class="md-nav__item"> <a href="#14servlet-æ¥å£å®ç°ç±»" class="md-nav__link"> <span class="md-ellipsis"> 1.4ã€Servlet æ¥å£å®ç°ç±» </span> </a> </li> <li class="md-nav__item"> <a href="#15servlet-çš„é…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 1.5ã€Servlet çš„é…ç½® </span> </a> </li> <li class="md-nav__item"> <a href="#16servletcontext" class="md-nav__link"> <span class="md-ellipsis"> 1.6ã€ServletContext </span> </a> </li> <li class="md-nav__item"> <a href="#17åŸŸå¯¹è±¡æ¦‚è¿°" class="md-nav__link"> <span class="md-ellipsis"> 1.7ã€åŸŸå¯¹è±¡æ¦‚è¿° </span> </a> </li> <li class="md-nav__item"> <a href="#18httpservletresponse" class="md-nav__link"> <span class="md-ellipsis"> 1.8ã€HttpServletResponse </span> </a> </li> <li class="md-nav__item"> <a href="#19httpservletrequest" class="md-nav__link"> <span class="md-ellipsis"> 1.9ã€HttpServletRequest </span> </a> </li> <li class="md-nav__item"> <a href="#110é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" class="md-nav__link"> <span class="md-ellipsis"> 1.10ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ« </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2webservlet-æ³¨è§£è¯¦è§£" class="md-nav__link"> <span class="md-ellipsis"> 2ã€@webservlet æ³¨è§£è¯¦è§£ </span> </a> </li> <li class="md-nav__item"> <a href="#3jsp" class="md-nav__link"> <span class="md-ellipsis"> 3ã€JSP </span> </a> <nav class="md-nav" aria-label="3ã€JSP"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#31jsp-ç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 3.1ã€JSP ç®€ä»‹ </span> </a> </li> <li class="md-nav__item"> <a href="#32jsp-çš„è¿è¡ŒåŸç†" class="md-nav__link"> <span class="md-ellipsis"> 3.2ã€JSP çš„è¿è¡ŒåŸç† </span> </a> </li> <li class="md-nav__item"> <a href="#33jsp-æŒ‡ä»¤å…ƒç´ " class="md-nav__link"> <span class="md-ellipsis"> 3.3ã€JSP æŒ‡ä»¤å…ƒç´  </span> </a> </li> <li class="md-nav__item"> <a href="#34jsp-å†…ç½®å¯¹è±¡" class="md-nav__link"> <span class="md-ellipsis"> 3.4ã€JSP å†…ç½®å¯¹è±¡ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#4ä¼šè¯ç®¡ç†" class="md-nav__link"> <span class="md-ellipsis"> 4ã€ä¼šè¯ç®¡ç† </span> </a> <nav class="md-nav" aria-label="4ã€ä¼šè¯ç®¡ç†"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#41cookie" class="md-nav__link"> <span class="md-ellipsis"> 4.1ã€Cookie </span> </a> </li> <li class="md-nav__item"> <a href="#42session" class="md-nav__link"> <span class="md-ellipsis"> 4.2ã€Session </span> </a> </li> <li class="md-nav__item"> <a href="#43è¡¨å•é‡å¤æäº¤" class="md-nav__link"> <span class="md-ellipsis"> 4.3ã€è¡¨å•é‡å¤æäº¤ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#5è¿‡æ»¤å™¨" class="md-nav__link"> <span class="md-ellipsis"> 5ã€è¿‡æ»¤å™¨ </span> </a> <nav class="md-nav" aria-label="5ã€è¿‡æ»¤å™¨"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#51filter-é…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 5.1ã€Filter é…ç½® </span> </a> </li> <li class="md-nav__item"> <a href="#52è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ" class="md-nav__link"> <span class="md-ellipsis"> 5.2ã€è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#6jsp-åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å«" class="md-nav__link"> <span class="md-ellipsis"> 6ã€JSP åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å« </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0"> <span class="md-ellipsis"> ğŸ§® æ•°æ®ç»“æ„åŠç®—æ³• </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> ğŸ§® æ•°æ®ç»“æ„åŠç®—æ³• </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/Algorithm.html" class="md-nav__link"> <span class="md-ellipsis"> Algorithm </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/DesignPattern.html" class="md-nav__link"> <span class="md-ellipsis"> DesignPattern </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-ellipsis"> ğŸƒ Spring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> ğŸƒ Spring </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../Spring/Spring.html" class="md-nav__link"> <span class="md-ellipsis"> Spring </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringBoot.html" class="md-nav__link"> <span class="md-ellipsis"> SpringBoot </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringCloud.html" class="md-nav__link"> <span class="md-ellipsis"> SpringCloud </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringMVC.html" class="md-nav__link"> <span class="md-ellipsis"> SpringMVC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0"> <span class="md-ellipsis"> ğŸ’¾ æŒä¹…å±‚æ¡†æ¶ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> ğŸ’¾ æŒä¹…å±‚æ¡†æ¶ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/MyBatis-Plus.html" class="md-nav__link"> <span class="md-ellipsis"> MyBatis-Plus </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/Mybatis.html" class="md-nav__link"> <span class="md-ellipsis"> Mybatis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0"> <span class="md-ellipsis"> ğŸ” è®¤è¯ä¸æˆæƒ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> ğŸ” è®¤è¯ä¸æˆæƒ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/SSO.html" class="md-nav__link"> <span class="md-ellipsis"> SSO </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/Sa-Token.html" class="md-nav__link"> <span class="md-ellipsis"> Sa-Token </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/Shiro.html" class="md-nav__link"> <span class="md-ellipsis"> Shiro </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7"> <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0"> <span class="md-ellipsis"> ğŸŒ å‰ç«¯ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> ğŸŒ å‰ç«¯ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/CSS.html" class="md-nav__link"> <span class="md-ellipsis"> CSS </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/JavaScript.html" class="md-nav__link"> <span class="md-ellipsis"> JavaScript </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/Vue.html" class="md-nav__link"> <span class="md-ellipsis"> Vue </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/jQuery.html" class="md-nav__link"> <span class="md-ellipsis"> jQuery </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5"> <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0"> <span class="md-ellipsis"> æ¨¡æ¿å¼•æ“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_5"> <span class="md-nav__icon md-icon"></span> æ¨¡æ¿å¼•æ“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/Thymeleaf.html" class="md-nav__link"> <span class="md-ellipsis"> Thymeleaf </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6"> <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0"> <span class="md-ellipsis"> ç»„ä»¶åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_6"> <span class="md-nav__icon md-icon"></span> ç»„ä»¶åº“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/AntV-X6.html" class="md-nav__link"> <span class="md-ellipsis"> AntV-X6 </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/ApacheECharts.html" class="md-nav__link"> <span class="md-ellipsis"> ApacheECharts </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/Axios.html" class="md-nav__link"> <span class="md-ellipsis"> Axios </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/BootstrapTable.html" class="md-nav__link"> <span class="md-ellipsis"> BootstrapTable </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/DHTMLXGantt.html" class="md-nav__link"> <span class="md-ellipsis"> DHTMLXGantt </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/Element.html" class="md-nav__link"> <span class="md-ellipsis"> Element </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/FullCalendar.html" class="md-nav__link"> <span class="md-ellipsis"> FullCalendar </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/X-editable.html" class="md-nav__link"> <span class="md-ellipsis"> X-editable </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8"> <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0"> <span class="md-ellipsis"> ğŸ“Š æ•°æ®åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8"> <span class="md-nav__icon md-icon"></span> ğŸ“Š æ•°æ®åº“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Dameng.html" class="md-nav__link"> <span class="md-ellipsis"> Dameng </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html" class="md-nav__link"> <span class="md-ellipsis"> MySQL </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/MySQLQuery.html" class="md-nav__link"> <span class="md-ellipsis"> MySQLQuery </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/OceanBase.html" class="md-nav__link"> <span class="md-ellipsis"> OceanBase </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle.html" class="md-nav__link"> <span class="md-ellipsis"> Oracle </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html" class="md-nav__link"> <span class="md-ellipsis"> Redis </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Vastbase.html" class="md-nav__link"> <span class="md-ellipsis"> Vastbase </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9"> <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0"> <span class="md-ellipsis"> ğŸ” æœç´¢å¼•æ“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_9"> <span class="md-nav__icon md-icon"></span> ğŸ” æœç´¢å¼•æ“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/Elasticsearch.html" class="md-nav__link"> <span class="md-ellipsis"> Elasticsearch </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10"> <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0"> <span class="md-ellipsis"> ğŸ“‡ åˆ†å¸ƒå¼å­˜å‚¨ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_10"> <span class="md-nav__icon md-icon"></span> ğŸ“‡ åˆ†å¸ƒå¼å­˜å‚¨ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/FastDFS.html" class="md-nav__link"> <span class="md-ellipsis"> FastDFS </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/MinIO.html" class="md-nav__link"> <span class="md-ellipsis"> MinIO </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11"> <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0"> <span class="md-ellipsis"> ğŸ›°ï¸ ç½‘ç»œé€šä¿¡ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_11"> <span class="md-nav__icon md-icon"></span> ğŸ›°ï¸ ç½‘ç»œé€šä¿¡ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/Encryption.html" class="md-nav__link"> <span class="md-ellipsis"> Encryption </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/HTTP.html" class="md-nav__link"> <span class="md-ellipsis"> HTTP </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/OpenVPN.html" class="md-nav__link"> <span class="md-ellipsis"> OpenVPN </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/VNC.html" class="md-nav__link"> <span class="md-ellipsis"> VNC </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/WebSocket.html" class="md-nav__link"> <span class="md-ellipsis"> WebSocket </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/frp.html" class="md-nav__link"> <span class="md-ellipsis"> frp </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12"> <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0"> <span class="md-ellipsis"> ğŸ—ƒï¸ æ–‡ä»¶å¤„ç† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12"> <span class="md-nav__icon md-icon"></span> ğŸ—ƒï¸ æ–‡ä»¶å¤„ç† </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1"> <label class="md-nav__link" for="__nav_12_1" id="__nav_12_1_label" tabindex="0"> <span class="md-ellipsis"> Office </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_1_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_1"> <span class="md-nav__icon md-icon"></span> Office </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/ApachePOI.html" class="md-nav__link"> <span class="md-ellipsis"> ApachePOI </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/EasyExcel.html" class="md-nav__link"> <span class="md-ellipsis"> EasyExcel </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/OnlyOffice.html" class="md-nav__link"> <span class="md-ellipsis"> OnlyOffice </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/Poi-tl.html" class="md-nav__link"> <span class="md-ellipsis"> Poi-tl </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/Spire.OfficeForJava.html" class="md-nav__link"> <span class="md-ellipsis"> Spire.OfficeForJava </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_2"> <label class="md-nav__link" for="__nav_12_2" id="__nav_12_2_label" tabindex="0"> <span class="md-ellipsis"> PDF </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_2"> <span class="md-nav__icon md-icon"></span> PDF </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/PDF/ApachePDFBox.html" class="md-nav__link"> <span class="md-ellipsis"> ApachePDFBox </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_3"> <label class="md-nav__link" for="__nav_12_3" id="__nav_12_3_label" tabindex="0"> <span class="md-ellipsis"> XML </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_3"> <span class="md-nav__icon md-icon"></span> XML </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/XML/XMLParse.html" class="md-nav__link"> <span class="md-ellipsis"> XMLParse </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_4"> <label class="md-nav__link" for="__nav_12_4" id="__nav_12_4_label" tabindex="0"> <span class="md-ellipsis"> ZIP </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_4"> <span class="md-nav__icon md-icon"></span> ZIP </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/ZIP/Zip4j.html" class="md-nav__link"> <span class="md-ellipsis"> Zip4j </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13"> <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0"> <span class="md-ellipsis"> âŒ› å®šæ—¶ä»»åŠ¡ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_13"> <span class="md-nav__icon md-icon"></span> âŒ› å®šæ—¶ä»»åŠ¡ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/XXL-JOB.html" class="md-nav__link"> <span class="md-ellipsis"> XXL-JOB </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14"> <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0"> <span class="md-ellipsis"> ğŸ§‘â€ğŸ”§ è¿ç»´ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_14"> <span class="md-nav__icon md-icon"></span> ğŸ§‘â€ğŸ”§ è¿ç»´ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Docker.html" class="md-nav__link"> <span class="md-ellipsis"> Docker </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Linux.html" class="md-nav__link"> <span class="md-ellipsis"> Linux </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/NSSM.html" class="md-nav__link"> <span class="md-ellipsis"> NSSM </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Nginx.html" class="md-nav__link"> <span class="md-ellipsis"> Nginx </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Tomcat.html" class="md-nav__link"> <span class="md-ellipsis"> Tomcat </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/TongWeb.html" class="md-nav__link"> <span class="md-ellipsis"> TongWeb </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/WSL.html" class="md-nav__link"> <span class="md-ellipsis"> WSL </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/WebLogic.html" class="md-nav__link"> <span class="md-ellipsis"> WebLogic </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15"> <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0"> <span class="md-ellipsis"> ğŸ› ï¸ å¼€å‘å·¥å…· </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_15"> <span class="md-nav__icon md-icon"></span> ğŸ› ï¸ å¼€å‘å·¥å…· </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git.html" class="md-nav__link"> <span class="md-ellipsis"> Git </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven.html" class="md-nav__link"> <span class="md-ellipsis"> Maven </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Node.js.html" class="md-nav__link"> <span class="md-ellipsis"> Node.js </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Swagger.html" class="md-nav__link"> <span class="md-ellipsis"> Swagger </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16"> <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0"> <span class="md-ellipsis"> ğŸ‘» å…¶ä»– </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_16"> <span class="md-nav__icon md-icon"></span> ğŸ‘» å…¶ä»– </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%85%B6%E4%BB%96/Settings.html" class="md-nav__link"> <span class="md-ellipsis"> Settings </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%85%B6%E4%BB%96/Solutions.html" class="md-nav__link"> <span class="md-ellipsis"> Solutions </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%85%B6%E4%BB%96/Weasel.html" class="md-nav__link"> <span class="md-ellipsis"> Weasel </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="ç›®å½•"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#1servlet" class="md-nav__link"> <span class="md-ellipsis"> 1ã€Servlet </span> </a> <nav class="md-nav" aria-label="1ã€Servlet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#11servletç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 1.1ã€Servletç®€ä»‹ </span> </a> </li> <li class="md-nav__item"> <a href="#12servlet-çš„å¼€å‘æ­¥éª¤" class="md-nav__link"> <span class="md-ellipsis"> 1.2ã€Servlet çš„å¼€å‘æ­¥éª¤ </span> </a> </li> <li class="md-nav__item"> <a href="#13servlet-ç”Ÿå‘½å‘¨æœŸ" class="md-nav__link"> <span class="md-ellipsis"> 1.3ã€Servlet ç”Ÿå‘½å‘¨æœŸ </span> </a> </li> <li class="md-nav__item"> <a href="#14servlet-æ¥å£å®ç°ç±»" class="md-nav__link"> <span class="md-ellipsis"> 1.4ã€Servlet æ¥å£å®ç°ç±» </span> </a> </li> <li class="md-nav__item"> <a href="#15servlet-çš„é…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 1.5ã€Servlet çš„é…ç½® </span> </a> </li> <li class="md-nav__item"> <a href="#16servletcontext" class="md-nav__link"> <span class="md-ellipsis"> 1.6ã€ServletContext </span> </a> </li> <li class="md-nav__item"> <a href="#17åŸŸå¯¹è±¡æ¦‚è¿°" class="md-nav__link"> <span class="md-ellipsis"> 1.7ã€åŸŸå¯¹è±¡æ¦‚è¿° </span> </a> </li> <li class="md-nav__item"> <a href="#18httpservletresponse" class="md-nav__link"> <span class="md-ellipsis"> 1.8ã€HttpServletResponse </span> </a> </li> <li class="md-nav__item"> <a href="#19httpservletrequest" class="md-nav__link"> <span class="md-ellipsis"> 1.9ã€HttpServletRequest </span> </a> </li> <li class="md-nav__item"> <a href="#110é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" class="md-nav__link"> <span class="md-ellipsis"> 1.10ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ« </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2webservlet-æ³¨è§£è¯¦è§£" class="md-nav__link"> <span class="md-ellipsis"> 2ã€@webservlet æ³¨è§£è¯¦è§£ </span> </a> </li> <li class="md-nav__item"> <a href="#3jsp" class="md-nav__link"> <span class="md-ellipsis"> 3ã€JSP </span> </a> <nav class="md-nav" aria-label="3ã€JSP"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#31jsp-ç®€ä»‹" class="md-nav__link"> <span class="md-ellipsis"> 3.1ã€JSP ç®€ä»‹ </span> </a> </li> <li class="md-nav__item"> <a href="#32jsp-çš„è¿è¡ŒåŸç†" class="md-nav__link"> <span class="md-ellipsis"> 3.2ã€JSP çš„è¿è¡ŒåŸç† </span> </a> </li> <li class="md-nav__item"> <a href="#33jsp-æŒ‡ä»¤å…ƒç´ " class="md-nav__link"> <span class="md-ellipsis"> 3.3ã€JSP æŒ‡ä»¤å…ƒç´  </span> </a> </li> <li class="md-nav__item"> <a href="#34jsp-å†…ç½®å¯¹è±¡" class="md-nav__link"> <span class="md-ellipsis"> 3.4ã€JSP å†…ç½®å¯¹è±¡ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#4ä¼šè¯ç®¡ç†" class="md-nav__link"> <span class="md-ellipsis"> 4ã€ä¼šè¯ç®¡ç† </span> </a> <nav class="md-nav" aria-label="4ã€ä¼šè¯ç®¡ç†"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#41cookie" class="md-nav__link"> <span class="md-ellipsis"> 4.1ã€Cookie </span> </a> </li> <li class="md-nav__item"> <a href="#42session" class="md-nav__link"> <span class="md-ellipsis"> 4.2ã€Session </span> </a> </li> <li class="md-nav__item"> <a href="#43è¡¨å•é‡å¤æäº¤" class="md-nav__link"> <span class="md-ellipsis"> 4.3ã€è¡¨å•é‡å¤æäº¤ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#5è¿‡æ»¤å™¨" class="md-nav__link"> <span class="md-ellipsis"> 5ã€è¿‡æ»¤å™¨ </span> </a> <nav class="md-nav" aria-label="5ã€è¿‡æ»¤å™¨"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#51filter-é…ç½®" class="md-nav__link"> <span class="md-ellipsis"> 5.1ã€Filter é…ç½® </span> </a> </li> <li class="md-nav__item"> <a href="#52è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ" class="md-nav__link"> <span class="md-ellipsis"> 5.2ã€è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#6jsp-åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å«" class="md-nav__link"> <span class="md-ellipsis"> 6ã€JSP åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å« </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <nav class="md-path" aria-label="å¯¼èˆªæ "> <ol class="md-path__list"> <li class="md-path__item"> <a href="../index.html" class="md-path__link"> <span class="md-ellipsis"> ğŸ  é¦–é¡µ </span> </a> </li> <li class="md-path__item"> <a href="Java.html" class="md-path__link"> <span class="md-ellipsis"> â™¨ï¸ Java </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id="javaweb">JavaWeb<a class="headerlink" href="#javaweb" title="é”šç‚¹é“¾æ¥">Â¶</a></h1> <h2 id="1servlet">1ã€Servlet<a class="headerlink" href="#1servlet" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="11servletç®€ä»‹">1.1ã€Servletç®€ä»‹<a class="headerlink" href="#11servletç®€ä»‹" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>Servletï¼ˆServer Appletï¼‰æ˜¯ Java Servlet çš„ç®€ç§°ï¼Œæ˜¯ä¸ºå°æœåŠ¡ç¨‹åºæˆ–æœåŠ¡è¿æ¥å™¨ï¼Œç”¨ Java ç¼–å†™çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œä¸»è¦åŠŸèƒ½åœ¨äºäº¤äº’å¼åœ°æµè§ˆå’Œä¿®æ”¹æ•°æ®ï¼Œç”ŸæˆåŠ¨æ€ Web å†…å®¹ã€‚</p> <p>Servlet æ˜¯ Sun å…¬å¸æä¾›çš„ä¸€é—¨ç”¨äºå¼€å‘åŠ¨æ€ Web èµ„æºçš„æŠ€æœ¯ã€‚</p> <p>Servlet æ˜¯ä¸€ä¸ªå°çš„ Java ç¨‹åºï¼Œèƒ½æ¥æ”¶å’Œå“åº”ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œä½¿ç”¨çš„æ˜¯ HTTP çš„åè®®ã€‚</p> <p>Sun å…¬å¸åœ¨å…¶ API ä¸­æä¾›äº†ä¸€ä¸ª Servlet æ¥å£ï¼Œç”¨æˆ·è‹¥æƒ³è¦å¼€å‘ä¸€ä¸ªåŠ¨æ€ Web èµ„æºï¼ˆå³å¼€å‘ä¸€ä¸ª Java ç¨‹åºå‘æµè§ˆå™¨è¾“å‡ºæ•°æ®ï¼‰ï¼Œéœ€è¦å®Œæˆä»¥ä¸‹ 2 ä¸ªæ­¥éª¤ï¼š</p> <ul> <li>ç¼–å†™ä¸€ä¸ª Java ç±»ï¼Œå®ç° Servlet æ¥å£ã€‚</li> <li>æŠŠå¼€å‘å¥½çš„ Java ç±»éƒ¨ç½²åˆ° Web æœåŠ¡å™¨ä¸­</li> </ul> <h3 id="12servlet-çš„å¼€å‘æ­¥éª¤">1.2ã€Servlet çš„å¼€å‘æ­¥éª¤<a class="headerlink" href="#12servlet-çš„å¼€å‘æ­¥éª¤" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <ul> <li> <p>ç¼–å†™æ™®é€šçš„ç±»ï¼Œå®ç° Servlet æ¥å£ï¼Œé‡å†™ 5 ä¸ªæ–¹æ³•ã€‚Servlet æ¥å£ä»£ç ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Servlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">ServletConfig</span><span class="w"> </span><span class="n">var1</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="n">ServletConfig</span><span class="w"> </span><span class="nf">getServletConfig</span><span class="p">();</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">service</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">var1</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">var2</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="p">;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">getServletInfo</span><span class="p">();</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">destroy</span><span class="p">();</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">}</span>
</span></code></pre></div> </li> <li> <p>åœ¨ WEB ç¨‹åºçš„ web.xml æ–‡ä»¶è¿›è¡Œé…ç½®ï¼š</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">&lt;servlet&gt;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>ServletDemo1<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nt">&lt;servlet-class&gt;</span>cn.itcast.servlet.ServletDemo1<span class="nt">&lt;/servlet-class&gt;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nt">&lt;/servlet&gt;</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nt">&lt;servlet-mapping&gt;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>ServletDemo1<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="nt">&lt;url-pattern&gt;</span>/demo1<span class="nt">&lt;/url-pattern&gt;</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="nt">&lt;/servlet-mapping&gt;</span>
</span></code></pre></div> </li> </ul> <p>è®¿é—®é¡ºåºï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/image-20200602000053667.png" data-desc-position="bottom"><img src="!assets/JavaWeb/image-20200602000053667.png" alt="image-20200602000053667" style="width:40%;"></a></p> <h3 id="13servlet-ç”Ÿå‘½å‘¨æœŸ">1.3ã€Servlet ç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#13servlet-ç”Ÿå‘½å‘¨æœŸ" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>Servlet æ˜¯ä¸€ä¸ªä¾›å…¶ä»– Java ç¨‹åºï¼ˆServlet å¼•æ“ï¼‰è°ƒç”¨çš„ Java ç±»ï¼Œå®ƒä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå®ƒçš„è¿è¡Œå®Œå…¨ç”± Servlet å¼•æ“æ¥æ§åˆ¶å’Œè°ƒåº¦ã€‚</p> <ul> <li>å®ä¾‹åŒ–ï¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æˆ–å¯åŠ¨ Tomcat æ—¶ï¼ŒTomcat ä¼šè°ƒç”¨æ­¤æ— å‚æ„é€ æ–¹æ³•å®ä¾‹åŒ– Servletã€‚</li> <li><code>init()</code> æ–¹æ³•ï¼šæœåŠ¡å™¨è°ƒç”¨è¯¥æ–¹æ³•åˆå§‹åŒ– Servletã€‚</li> <li><code>service()</code> æ–¹æ³•ï¼šåˆå§‹åŒ–å®Œæ¯•ï¼ŒæœåŠ¡å™¨è°ƒç”¨è¯¥æ–¹æ³•å“åº”å®¢æˆ·çš„è¯·æ±‚ã€‚</li> <li><code>destroy()</code> æ–¹æ³•ï¼šæœåŠ¡å™¨è°ƒç”¨è¯¥æ–¹æ³•æ¶ˆç­ Servlet å¯¹è±¡ã€‚</li> </ul> <p>å…¶ä¸­å®ä¾‹åŒ–ï¼Œåˆå§‹åŒ–ï¼Œé”€æ¯åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œ<code>service</code> æ–¹æ³•æ‰§è¡Œå¤šæ¬¡ï¼Œè¿™è¯´æ˜ Serlvet çš„å•å®ä¾‹çš„ï¼å½“æœ‰å®¢æˆ·å†è¯·æ±‚ Servlet æœåŠ¡æ—¶ï¼ŒWeb æœåŠ¡å™¨å°†å¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œåœ¨è¯¥çº¿ç¨‹ä¸­ï¼Œè°ƒç”¨ <code>service</code> æ–¹æ³•å“åº”å®¢æˆ·çš„è¯·æ±‚ã€‚</p> <p>é’ˆå¯¹å®¢æˆ·ç«¯çš„å¤šæ¬¡ Servlet è¯·æ±‚ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åªä¼šåˆ›å»ºä¸€ä¸ª Servlet å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ Servlet å®ä¾‹å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå®ƒå°±ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºåç»­çš„å…¶å®ƒè¯·æ±‚æœåŠ¡ï¼Œç›´è‡³ Web å®¹å™¨é€€å‡ºï¼ŒServlet å®ä¾‹å¯¹è±¡æ‰ä¼šé”€æ¯ã€‚</p> <p><strong>Servlet çš„è¿è¡Œè¿‡ç¨‹</strong></p> <p>Servlet ç¨‹åºæ˜¯ç”± Web æœåŠ¡å™¨è°ƒç”¨ï¼ŒWebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ Servlet è®¿é—®è¯·æ±‚åï¼š</p> <ol> <li>Web æœåŠ¡å™¨é¦–å…ˆæ£€æŸ¥æ˜¯å¦å·²ç»è£…è½½å¹¶åˆ›å»ºäº†è¯¥ Servlet çš„å®ä¾‹å¯¹è±¡ã€‚å¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥æ‰§è¡Œç¬¬ â‘£ æ­¥ï¼Œå¦åˆ™ï¼Œæ‰§è¡Œç¬¬ â‘¡ æ­¥ã€‚</li> <li>è£…è½½å¹¶åˆ›å»ºè¯¥ Servlet çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚</li> <li>è°ƒç”¨ Servlet å®ä¾‹å¯¹è±¡çš„ <code>init()</code> æ–¹æ³•ã€‚</li> <li>åˆ›å»ºä¸€ä¸ªç”¨äºå°è£… HTTP è¯·æ±‚æ¶ˆæ¯çš„ HttpServletRequest å¯¹è±¡å’Œä¸€ä¸ªä»£è¡¨ HTTP å“åº”æ¶ˆæ¯çš„ <code>HttpServletResponse</code> å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ Servlet çš„ <code>service()</code> æ–¹æ³•å¹¶å°†è¯·æ±‚å’Œå“åº”å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚</li> <li>Web åº”ç”¨ç¨‹åºè¢«åœæ­¢æˆ–é‡æ–°å¯åŠ¨ä¹‹å‰ï¼ŒServlet å¼•æ“å°†å¸è½½ Servletï¼Œå¹¶åœ¨å¸è½½ä¹‹å‰è°ƒç”¨ Servlet çš„ <code>destroy()</code> æ–¹æ³•ã€‚</li> </ol> <h3 id="14servlet-æ¥å£å®ç°ç±»">1.4ã€Servlet æ¥å£å®ç°ç±»<a class="headerlink" href="#14servlet-æ¥å£å®ç°ç±»" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>Sun å…¬å¸å®šä¹‰äº† <code>Servlet</code> æ¥å£çš„ä¸¤ä¸ªé»˜è®¤å®ç°ç±»ï¼Œåˆ†åˆ«ä¸ºï¼š<code>GenericServlet</code>ã€<code>HttpServlet</code>ã€‚</p> <p>HttpServlet æŒ‡èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„ Servletï¼Œå®ƒåœ¨åŸæœ‰ Servlet æ¥å£ä¸Šæ·»åŠ äº†ä¸€äº›ä¸ HTTP åè®®å¤„ç†æ–¹æ³•ï¼Œå®ƒæ¯” Servlet æ¥å£çš„åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ã€‚å› æ­¤å¼€å‘äººå‘˜åœ¨ç¼–å†™ Servlet æ—¶ï¼Œé€šå¸¸åº”ç»§æ‰¿è¿™ä¸ªç±»ï¼Œè€Œé¿å…ç›´æ¥å»å®ç° Servlet æ¥å£ã€‚</p> <p>HttpServlet åœ¨å®ç° Servlet æ¥å£æ—¶ï¼Œè¦†å†™äº† <code>service</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½“å†…çš„ä»£ç ä¼šè‡ªåŠ¨åˆ¤æ–­ç”¨æˆ·çš„è¯·æ±‚æ–¹å¼ï¼Œå¦‚ä¸º GET è¯·æ±‚ï¼Œåˆ™è°ƒç”¨ <code>HttpServlet</code> çš„ <code>doGet</code> æ–¹æ³•ï¼Œå¦‚ä¸º Post è¯·æ±‚ï¼Œåˆ™è°ƒç”¨ <code>doPost</code> æ–¹æ³•ã€‚å› æ­¤ï¼Œå¼€å‘äººå‘˜åœ¨ç¼–å†™ Servlet æ—¶ï¼Œé€šå¸¸åªéœ€è¦è¦†å†™ <code>doGet</code> æˆ– <code>doPost</code> æ–¹æ³•ï¼Œè€Œä¸è¦å»è¦†å†™ <code>service</code> æ–¹æ³•ã€‚</p> <p><strong>GenericServlet</strong></p> <p>GenericServlet æ˜¯ä¸€ä¸ª Serlvetã€‚æ˜¯ <code>Servlet</code> æ¥å£å’Œ <code>ServletConfig</code> æ¥å£çš„å®ç°ç±»ã€‚ä½†æ˜¯æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶ä¸­çš„ <code>service</code> æ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ã€‚</p> <p>å¦‚æœæ–°å»ºçš„ Servlet ç¨‹åºç›´æ¥ç»§æ‰¿ <code>GenericSerlvet</code> ä¼šä½¿å¼€å‘æ›´ç®€æ´ã€‚</p> <p>å…·ä½“å®ç°ï¼š</p> <ul> <li>åœ¨ <code>GenericServlet</code> ä¸­å£°æ˜äº†ä¸€ä¸ª <code>SerlvetConfig</code> ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œåœ¨ <code>init(ServletConfig)</code> æ–¹æ³•ä¸­å¯¹å…¶è¿›è¡Œäº†åˆå§‹åŒ–</li> <li>åˆ©ç”¨ <code>servletConfig</code> æˆå‘˜å˜é‡çš„æ–¹æ³•å®ç°äº† <code>ServletConfig</code> æ¥å£çš„æ–¹æ³•</li> <li>è¿˜å®šä¹‰äº†ä¸€ä¸ª <code>init()</code> æ–¹æ³•ï¼Œåœ¨ <code>init(SerlvetConfig)</code> æ–¹æ³•ä¸­å¯¹å…¶è¿›è¡Œè°ƒç”¨ï¼Œå­ç±»å¯ä»¥ç›´æ¥è¦†ç›– <code>init()</code> åœ¨å…¶ä¸­å®ç°å¯¹ Servlet çš„åˆå§‹åŒ–.</li> <li>ä¸å»ºè®®ç›´æ¥è¦†ç›– <code>init(ServletConfig)</code>ï¼Œå› ä¸ºå¦‚æœå¿˜è®°ç¼–å†™ <code>super.init(config)</code>ï¼›è€Œè¿˜æ˜¯ç”¨äº† <code>SerlvetConfig</code> æ¥å£çš„æ–¹æ³•ï¼Œåˆ™ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸.</li> <li>æ–°å»ºçš„ <code>init(){}</code> å¹¶é Serlvet çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚è€Œ <code>init(ServletConfig)</code> æ˜¯ç”Ÿå‘½å‘¨æœŸç›¸å…³çš„æ–¹æ³•ã€‚</li> </ul> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GenericServlet</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Servlet</span><span class="p">,</span><span class="w"> </span><span class="n">ServletConfig</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="cm">/** ä»¥ä¸‹æ–¹æ³•ä¸º Servlet æ¥å£çš„æ–¹æ³• **/</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">destroy</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ServletConfig</span><span class="w"> </span><span class="nf">getServletConfig</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getServletInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ServletConfig</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">;</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">ServletConfig</span><span class="w"> </span><span class="n">arg0</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">servletConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arg0</span><span class="p">;</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">        </span><span class="n">init</span><span class="p">();</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">{}</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">     </span><span class="cm">/**ã€æ³¨æ„ã€‘å”¯ç‹¬serviceæ–¹æ³•æ²¡æœ‰è¢«å®ç°ï¼Œè¿˜æ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè¿™ä¸ªserviceæ–¹æ³•å¿…é¡»æˆ‘ä»¬è‡ªå·±å»é‡å†™*/</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">service</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">arg0</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">arg1</span><span class="p">)</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="p">;</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="w">    </span><span class="cm">/** ä»¥ä¸‹æ–¹æ³•ä¸º ServletConfig æ¥å£çš„æ–¹æ³• **/</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getInitParameter</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">arg0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getInitParameter</span><span class="p">(</span><span class="n">arg0</span><span class="p">);</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Enumeration</span><span class="w"> </span><span class="nf">getInitParameterNames</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getInitParameterNames</span><span class="p">();</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ServletContext</span><span class="w"> </span><span class="nf">getServletContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getServletContext</span><span class="p">();</span>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getServletName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getServletName</span><span class="p">();</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="p">}</span>
</span></code></pre></div> <p><strong>HttpServlet</strong></p> <p><code>HttpServlet</code> æ˜¯ä¸€ä¸ª Servletï¼Œç»§æ‰¿è‡ª <code>GenericServlet</code>ã€‚é’ˆå¯¹äº HTTP åè®®æ‰€å®šåˆ¶ã€‚</p> <p>åœ¨ <code>service()</code> æ–¹æ³•ä¸­ç›´æ¥æŠŠ <code>ServletReuqest</code> å’Œ <code>ServletResponse</code> è½¬ä¸º <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code>ã€‚å¹¶è°ƒç”¨äº†é‡è½½çš„ <code>service(HttpServletRequest, HttpServletResponse)</code></p> <p>åœ¨ <code>service(HttpServletRequest, HttpServletResponse)</code> è·å–äº†è¯·æ±‚æ–¹å¼ï¼š<code>request.getMethod()</code>ï¼Œæ ¹æ®è¯·æ±‚æ–¹å¼æœ‰åˆ›å»ºäº†<code>doXxx()</code> æ–¹æ³•ï¼ˆxxx ä¸ºå…·ä½“çš„è¯·æ±‚æ–¹å¼ï¼Œæ¯”å¦‚ doGetã€doPostï¼‰</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nd">@Override</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">service</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">res</span><span class="p">)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="n">HttpServletRequest</span><span class="w">  </span><span class="n">request</span><span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="p">)</span><span class="w"> </span><span class="n">req</span><span class="p">;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">HttpServletResponse</span><span class="p">)</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ClassCastException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ServletException</span><span class="p">(</span><span class="s">"non-HTTP request or response"</span><span class="p">);</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span><span class="n">service</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="p">}</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">service</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">        </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="c1">//1. è·å–è¯·æ±‚æ–¹å¼.</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getMethod</span><span class="p">();</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">    </span><span class="c1">//2. æ ¹æ®è¯·æ±‚æ–¹å¼å†è°ƒç”¨å¯¹åº”çš„å¤„ç†æ–¹æ³•</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="s">"GET"</span><span class="p">.</span><span class="na">equalsIgnoreCase</span><span class="p">(</span><span class="n">method</span><span class="p">)){</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">        </span><span class="n">doGet</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="s">"POST"</span><span class="p">.</span><span class="na">equalsIgnoreCase</span><span class="p">(</span><span class="n">method</span><span class="p">)){</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="p">}</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">        </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="p">{</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">    </span><span class="c1">// TODO Auto-generated method stub</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="p">}</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="w">        </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="w">    </span><span class="c1">// TODO Auto-generated method stub</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="p">}</span>
</span></code></pre></div> <p>å®é™…å¼€å‘ä¸­ï¼Œç›´æ¥ç»§æ‰¿ <code>HttpServlet</code>ï¼Œå¹¶æ ¹æ®è¯·æ±‚æ–¹å¼å¤å†™ <code>doXxx()</code> æ–¹æ³•å³å¯ã€‚</p> <p>å¥½å¤„ï¼šç›´æ¥ç”±é’ˆå¯¹æ€§çš„è¦†ç›– <code>doXxx()</code> æ–¹æ³•ï¼›ç›´æ¥ä½¿ç”¨ <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code>ï¼Œä¸å†éœ€è¦å¼ºè½¬ã€‚</p> <h3 id="15servlet-çš„é…ç½®">1.5ã€Servlet çš„é…ç½®<a class="headerlink" href="#15servlet-çš„é…ç½®" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>é…ç½® Servlet è‡ªåŠ¨åŠ è½½</strong></p> <p>å¦‚æœåœ¨ <code>&lt;servlet&gt;</code> å…ƒç´ ä¸­é…ç½®äº†ä¸€ä¸ª <code>&lt;load-on-startup&gt;</code> å…ƒç´ ï¼Œé‚£ä¹ˆ Web åº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶ï¼Œå°±ä¼šè£…è½½å¹¶åˆ›å»º Servlet çš„å®ä¾‹å¯¹è±¡ã€ä»¥åŠè°ƒç”¨Servlet å®ä¾‹å¯¹è±¡çš„ <code>init()</code> æ–¹æ³•ã€‚ è‹¥ä¸ºè´Ÿæ•°ï¼Œåˆ™åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶è¢«åˆ›å»ºï¼Œè‹¥ä¸º 0 æˆ–æ­£æ•°ï¼Œåˆ™åœ¨å½“å‰ WEB åº”ç”¨è¢« Serlvet å®¹å™¨åŠ è½½æ—¶åˆ›å»ºå®ä¾‹ï¼Œä¸”æ•°è¶Šå°è¶Šæ—©è¢«åˆ›å»ºã€‚</p> <p>ä¸¾ä¾‹ï¼Œä¸º Web åº”ç”¨å†™ä¸€ä¸ª InitServletï¼Œè¿™ä¸ª Servlet é…ç½®ä¸ºå¯åŠ¨æ—¶è£…è½½ï¼Œä¸ºæ•´ä¸ª Web åº”ç”¨åˆ›å»ºå¿…è¦çš„æ•°æ®åº“è¡¨å’Œæ•°æ®ï¼š</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&lt;servlet&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>invoker<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nt">&lt;servlet-class&gt;</span>org.apache.catalina.servlets.InvokerServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="nt">&lt;load-on-startup&gt;</span>2<span class="nt">&lt;/load-on-startup&gt;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nt">&lt;/servlet&gt;</span>
</span></code></pre></div> <p><strong>é…ç½® Servlet è·¯å¾„æ˜ å°„é…ç½®</strong></p> <p>ç”±äºå®¢æˆ·ç«¯æ˜¯é€šè¿‡ URL åœ°å€è®¿é—® Web æœåŠ¡å™¨ä¸­çš„èµ„æºï¼Œæ‰€ä»¥ Servlet ç¨‹åºè‹¥æƒ³è¢«å¤–ç•Œè®¿é—®ï¼Œå¿…é¡»æŠŠ Servlet ç¨‹åºæ˜ å°„åˆ°ä¸€ä¸ª URL åœ°å€ä¸Šï¼Œè¿™ä¸ªå·¥ä½œåœ¨ web.xml æ–‡ä»¶ä¸­ä½¿ç”¨ <code>&lt;servlet&gt;</code> å…ƒç´ å’Œ <code>&lt;servlet-mapping&gt;</code> å…ƒç´ å®Œæˆã€‚</p> <p><code>&lt;servlet&gt;</code> å…ƒç´ ç”¨äºæ³¨å†Œ Servletï¼Œå®ƒåŒ…å«æœ‰ä¸¤ä¸ªä¸»è¦çš„å­å…ƒç´ ï¼š<code>&lt;servlet-name&gt;</code> å’Œ <code>&lt;servlet-class&gt;</code>ï¼Œåˆ†åˆ«ç”¨äºè®¾ç½® Servlet çš„æ³¨å†Œåç§°å’Œ Servlet çš„å®Œæ•´ç±»åã€‚ </p> <p>ä¸€ä¸ª <code>&lt;servlet-mapping&gt;</code> å…ƒç´ ç”¨äºæ˜ å°„ä¸€ä¸ªå·²æ³¨å†Œçš„ Servlet çš„ä¸€ä¸ªå¯¹å¤–è®¿é—®è·¯å¾„ï¼Œå®ƒåŒ…å«æœ‰ä¸¤ä¸ªå­å…ƒç´ ï¼š<code>&lt;servlet-name&gt;</code> å’Œ <code>&lt;url-pattern&gt;</code>ï¼Œåˆ†åˆ«ç”¨äºæŒ‡å®š Servlet çš„æ³¨å†Œåç§°å’Œ Servlet çš„å¯¹å¤–è®¿é—®è·¯å¾„ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">&lt;web-app&gt;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nt">&lt;servlet&gt;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="nt">&lt;servlet-name&gt;</span>AnyName<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">        </span><span class="nt">&lt;servlet-class&gt;</span>HelloServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="nt">&lt;/servlet&gt;</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="nt">&lt;servlet-mapping&gt;</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">        </span><span class="nt">&lt;servlet-name&gt;</span>AnyName<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">        </span><span class="nt">&lt;url-pattern&gt;</span>/demo/hello.html<span class="nt">&lt;/url-pattern&gt;</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="nt">&lt;/servlet-mapping&gt;</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="nt">&lt;/web-app&gt;</span>
</span></code></pre></div> <p>åŒä¸€ä¸ª Servlet å¯ä»¥è¢«æ˜ å°„åˆ°å¤šä¸ªURLä¸Šï¼Œå³å¤šä¸ª <code>&lt;servlet-mapping&gt;</code> å…ƒç´ çš„ <code>&lt;servlet-name&gt;</code> å­å…ƒç´ çš„è®¾ç½®å€¼å¯ä»¥æ˜¯åŒä¸€ä¸ª Servlet çš„æ³¨å†Œåã€‚ </p> <p>åœ¨ Servlet æ˜ å°„åˆ°çš„ URL ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>*</code> é€šé…ç¬¦ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸¤ç§å›ºå®šçš„æ ¼å¼ï¼šä¸€ç§æ ¼å¼æ˜¯ <code>*.æ‰©å±•å</code>ï¼Œå¦ä¸€ç§æ ¼å¼æ˜¯ä»¥æ­£æ–œæ  <code>/</code> å¼€å¤´å¹¶ä»¥ <code>/*</code> ç»“å°¾ã€‚</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&lt;servlet-mapping&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>AnyName<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="nt">&lt;url-pattern&gt;</span>/action/*<span class="nt">&lt;/url-pattern&gt;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nt">&lt;/servlet-mapping&gt;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nt">&lt;servlet-mapping&gt;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>AnyName<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="nt">&lt;url-pattern&gt;</span>/action/*<span class="nt">&lt;/url-pattern&gt;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="nt">&lt;/servlet-mapping&gt;</span>
</span></code></pre></div> <p><strong>Servlet è·¯å¾„æ˜ å°„ä¸¾ä¾‹</strong></p> <ul> <li>Servlet1 æ˜ å°„åˆ° <code>/abc/*</code></li> <li>Servlet2 æ˜ å°„åˆ° <code>/*</code></li> <li>Servlet3 æ˜ å°„åˆ° <code>/abc</code></li> <li>Servlet4 æ˜ å°„åˆ° <code>*.do</code></li> </ul> <p>å½“è¯·æ±‚URLä¸º <code>/abc/a.html</code>ï¼Œ<code>/abc/*</code> å’Œ <code>/*</code> éƒ½åŒ¹é…ï¼Œå“ªä¸ª Servlet å“åº”ï¼Ÿ</p> <ul> <li>Servlet å¼•æ“å°†è°ƒç”¨ Servlet1ã€‚</li> </ul> <p>å½“è¯·æ±‚ URL ä¸º <code>/abc</code> æ—¶ï¼Œ<code>/abc/*</code> å’Œ <code>/abc</code> éƒ½åŒ¹é…ï¼Œå“ªä¸ª Servlet å“åº”</p> <ul> <li>Servlet å¼•æ“å°†è°ƒç”¨ Servlet3ã€‚</li> </ul> <p>å½“è¯·æ±‚ URL ä¸º <code>/abc/a.do</code> æ—¶ï¼Œ<code>/abc/*</code> å’Œ <code>*.do</code> éƒ½åŒ¹é…ï¼Œå“ªä¸ª Servletå“åº”</p> <ul> <li>Servlet å¼•æ“å°†è°ƒç”¨ Servlet1ã€‚</li> </ul> <p>å½“è¯·æ±‚ URL ä¸º <code>/a.do</code> æ—¶ï¼Œ<code>/*</code> å’Œ <code>*.do</code> éƒ½åŒ¹é…ï¼Œå“ªä¸ª Servlet å“åº”</p> <ul> <li>Servlet å¼•æ“å°†è°ƒç”¨ Servlet2ã€‚</li> </ul> <p>å½“è¯·æ±‚ URL ä¸º <code>/xxx/yyy/a.do</code> æ—¶ï¼Œ<code>/*</code> å’Œ <code>*.do</code> éƒ½åŒ¹é…ï¼Œå“ªä¸ª Servlet å“åº”</p> <ul> <li>Servlet å¼•æ“å°†è°ƒç”¨ Servlet2ã€‚</li> </ul> <p><strong><code>init</code> æ–¹æ³•ä¸­çš„ ServletConfig å¯¹è±¡</strong></p> <p>ç»§æ‰¿äº† <code>GenericServlet</code> çš„ç±»å¯ä»¥ç›´æ¥é€šè¿‡ <code>getServletConfig()</code> æ–¹æ³•è·å–ã€‚</p> <p>åœ¨ Servlet çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª <code>&lt;init-param&gt;</code> æ ‡ç­¾ä¸º Servlet é…ç½®ä¸€äº›åˆå§‹åŒ–å‚æ•°ã€‚</p> <p>å½“ Servlet é…ç½®äº†åˆå§‹åŒ–å‚æ•°åï¼ŒWeb å®¹å™¨åœ¨åˆ›å»º Servlet å®ä¾‹å¯¹è±¡æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¿™äº›åˆå§‹åŒ–å‚æ•°å°è£…åˆ° <code>ServletConfig</code> å¯¹è±¡ä¸­ï¼Œå¹¶åœ¨è°ƒç”¨ Servlet çš„ in<code>i</code>t æ–¹æ³•æ—¶ï¼Œå°† <code>ServletConfig</code> å¯¹è±¡ä¼ é€’ç»™ Servletã€‚è¿›è€Œï¼Œç¨‹åºå‘˜é€šè¿‡ <code>ServletConfig</code> å¯¹è±¡å°±å¯ä»¥å¾—åˆ°å½“å‰ Servlet çš„åˆå§‹åŒ–å‚æ•°ä¿¡æ¯ã€‚</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">&lt;servlet&gt;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>helloServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="nt">&lt;servlet-class&gt;</span>com.atguigu.javaweb.HelloServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="cm">&lt;!-- é…ç½® Serlvet çš„åˆå§‹åŒ–å‚æ•°ã€‚ ä¸”èŠ‚ç‚¹å¿…é¡»åœ¨ load-on-startup èŠ‚ç‚¹çš„å‰é¢ --&gt;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="nt">&lt;init-param&gt;</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">        </span><span class="cm">&lt;!-- å‚æ•°å --&gt;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">        </span><span class="nt">&lt;param-name&gt;</span>user<span class="nt">&lt;/param-name&gt;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">        </span><span class="cm">&lt;!-- å‚æ•°å€¼ --&gt;</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">        </span><span class="nt">&lt;param-value&gt;</span>root<span class="nt">&lt;/param-value&gt;</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="nt">&lt;/init-param&gt;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">    </span><span class="nt">&lt;init-param&gt;</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">        </span><span class="nt">&lt;param-name&gt;</span>password<span class="nt">&lt;/param-name&gt;</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">        </span><span class="nt">&lt;param-value&gt;</span>1230<span class="nt">&lt;/param-value&gt;</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">    </span><span class="nt">&lt;/init-param&gt;</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">    </span><span class="nt">&lt;load-on-startup&gt;</span>-1<span class="nt">&lt;/load-on-startup&gt;</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="nt">&lt;/servlet&gt;</span>
</span></code></pre></div> <p><code>getInitParameter(String name)</code>ï¼šè·å–æŒ‡å®šå‚æ•°åçš„åˆå§‹åŒ–å‚æ•°</p> <p><code>getInitParameterNames()</code>ï¼šè·å–å‚æ•°åç»„æˆçš„ Enumeration å¯¹è±¡. </p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">String</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getInitParameter</span><span class="p">(</span><span class="s">"user"</span><span class="p">);</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"userï¼š "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">Enumeration</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getInitParameterNames</span><span class="p">();</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="k">while</span><span class="p">(</span><span class="n">names</span><span class="p">.</span><span class="na">hasMoreElements</span><span class="p">()){</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">names</span><span class="p">.</span><span class="na">nextElement</span><span class="p">();</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getInitParameter</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"^^"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">": "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="p">}</span>
</span></code></pre></div> <h3 id="16servletcontext">1.6ã€ServletContext<a class="headerlink" href="#16servletcontext" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><code>ServletContext</code> å¯¹è±¡çš„ç®€ä»‹</p> <ul> <li>ä¸€ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª <code>ServletContext</code> å¯¹è±¡ï¼</li> <li>æˆ‘ä»¬å¯ä»¥åœ¨ N ä¸ª Servlet ä¸­æ¥è·å–è¿™ä¸ªå”¯ä¸€çš„å¯¹è±¡ï¼Œä½¿ç”¨å®ƒå¯ä»¥ç»™å¤šä¸ª Servlet ä¼ é€’æ•°æ®ã€‚ï¼ˆç›¸å½“äºåªæœ‰è¿™ä¹ˆä¸€ä¸ªå¿«é€’å‘˜ï¼‰</li> <li>ä¸å¤©åœ°åŒå¯¿ï¼šè¿™ä¸ªå¯¹è±¡åœ¨ Tomcat å¯åŠ¨æ—¶åˆ›å»ºï¼Œåœ¨ Tomcat å…³é—­æ—¶é”€æ¯ã€‚</li> </ul> <p>Web å®¹å™¨åœ¨å¯åŠ¨æ—¶ï¼Œå®ƒä¼šä¸ºæ¯ä¸ª Web åº”ç”¨ç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ <code>ServletContext</code> å¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰ Web åº”ç”¨ã€‚</p> <p>å¦‚ä½•è·å– <code>ServletContext</code> å¯¹è±¡</p> <ul> <li>é€šè¿‡ <code>ServletConfig</code> å¯¹è±¡è·å–</li> <li>ç»§æ‰¿äº† <code>GenericServlet</code> ç±»å¯ä»¥ç›´æ¥è·å–</li> </ul> <p>è®¾ç½®åˆå§‹åŒ–å‚æ•°ï¼šå¯ä»¥ä¸ºæ‰€æœ‰çš„ Servlet æ‰€è·å–ï¼Œè€Œ Servlet çš„åˆå§‹åŒ–å‚æ•°åªç”¨é‚£ä¸ª Serlvet å¯ä»¥è·å–ã€‚</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="cm">&lt;!-- é…ç½®å½“å‰ WEB åº”ç”¨çš„åˆå§‹åŒ–å‚æ•° --&gt;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nt">&lt;context-param&gt;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">ã€€ã€€</span><span class="nt">&lt;param-name&gt;</span>driver<span class="nt">&lt;/param-name&gt;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">ã€€ã€€</span><span class="nt">&lt;param-value&gt;</span>com.mysql.jdbc.Driver<span class="nt">&lt;/param-value&gt;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="nt">&lt;/context-param&gt;</span>
</span></code></pre></div> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">ServletContext</span><span class="w"> </span><span class="n">servletContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletConfig</span><span class="p">.</span><span class="na">getServletContext</span><span class="p">();</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">String</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletContext</span><span class="p">.</span><span class="na">getInitParameter</span><span class="p">(</span><span class="s">"driver"</span><span class="p">);</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"driver:"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">driver</span><span class="p">);</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="n">Enumeration</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">names2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletContext</span><span class="p">.</span><span class="na">getInitParameterNames</span><span class="p">();</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="k">while</span><span class="p">(</span><span class="n">names2</span><span class="p">.</span><span class="na">hasMoreElements</span><span class="p">()){</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">ã€€ã€€</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">names2</span><span class="p">.</span><span class="na">nextElement</span><span class="p">();</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">ã€€ã€€</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">"--&gt;"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w"> </span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
</span></code></pre></div> <p>è·å–å½“å‰ Web åº”ç”¨çš„æŸä¸€ä¸ªæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ç»å¯¹è·¯å¾„ï¼Œè€Œä¸æ˜¯éƒ¨ç½²å‰çš„è·¯å¾„ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">String</span><span class="w"> </span><span class="n">realPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletContext</span><span class="p">.</span><span class="na">getRealPath</span><span class="p">(</span><span class="s">"/note.txt"</span><span class="p">);</span>
</span></code></pre></div> <p>è·å–å½“å‰ Web åº”ç”¨çš„åç§°ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">String</span><span class="w"> </span><span class="n">contextPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletContext</span><span class="p">.</span><span class="na">getContextPath</span><span class="p">();</span>
</span></code></pre></div> <p>è·å–å½“å‰ Web åº”ç”¨çš„æŸä¸€ä¸ªæ–‡ä»¶å¯¹åº”çš„è¾“å…¥æµï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">InputStream</span><span class="w"> </span><span class="n">is2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servletContext</span><span class="p">.</span><span class="na">getResourceAsStream</span><span class="p">(</span><span class="s">"/WEB-INF/classes/jdbc.properties"</span><span class="p">);</span>
</span></code></pre></div> <h3 id="17åŸŸå¯¹è±¡æ¦‚è¿°">1.7ã€åŸŸå¯¹è±¡æ¦‚è¿°<a class="headerlink" href="#17åŸŸå¯¹è±¡æ¦‚è¿°" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åŸŸå¯¹è±¡ï¼šåŸŸå¯¹è±¡å¯ä»¥ç”¨æ¥åœ¨å¤šä¸ª Servlet ä¸­è¿›è¡Œæ•°æ®çš„ä¼ é€’ã€‚</p> <ul> <li>åŸŸå¯¹è±¡å¿…é¡»æœ‰å­˜å‚¨æ•°æ®åŠŸèƒ½</li> <li>åŸŸå¯¹è±¡å¿…é¡»æœ‰è·å–æ•°æ®åŠŸèƒ½</li> </ul> <p>ç”±äºä¸€ä¸ª Web åº”ç”¨ä¸­çš„æ‰€æœ‰ Servlet å…±äº«åŒä¸€ä¸ª <code>ServletContext</code> å¯¹è±¡ï¼Œå› æ­¤ Servlet å¯¹è±¡ä¹‹é—´å¯ä»¥é€šè¿‡ <code>ServletContext</code> å¯¹è±¡æ¥å®ç°é€šè®¯ã€‚<code>ServletContext</code> å¯¹è±¡é€šå¸¸ä¹Ÿè¢«ç§°ä¹‹ä¸º context åŸŸå¯¹è±¡ã€‚</p> <p>æ‰€æœ‰åŸŸå¯¹è±¡éƒ½æœ‰å­˜å–æ•°æ®çš„åŠŸèƒ½ï¼Œå› ä¸ºåŸŸå¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ª Mapï¼Œç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œä¸‹é¢æ˜¯ <code>ServletContext</code> å¯¹è±¡ç”¨æ¥æ“ä½œæ•°æ®çš„æ–¹æ³•ï¼š</p> <ul> <li> <p><code>void setAttribute(String name, Object value)</code>ï¼šç”¨æ¥å­˜å‚¨ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå­˜å‚¨ä¸€ä¸ªåŸŸå±æ€§ï¼Œ</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">servletContext</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">"xxx"</span><span class="p">,</span><span class="w"> </span><span class="s">"XXX"</span><span class="p">);</span>
</span></code></pre></div> <p>åœ¨ <code>ServletContext</code>ä¸­ ä¿å­˜äº†ä¸€ä¸ªåŸŸå±æ€§ï¼ŒåŸŸå±æ€§åç§°ä¸º <em>xxx</em>ï¼ŒåŸŸå±æ€§çš„å€¼ä¸º <em>XXX</em>ã€‚</p> <p>è¯·æ³¨æ„ï¼Œå¦‚æœå¤šæ¬¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨ç›¸åŒçš„ <em>name</em>ï¼Œé‚£ä¹ˆä¼šè¦†ç›–ä¸Šä¸€æ¬¡çš„å€¼ï¼Œè¿™ä¸€ç‰¹æ€§ä¸ Map ç›¸åŒï¼›</p> </li> <li> <p><code>Object getAttribute(String name)</code>ï¼šç”¨æ¥è·å– <code>ServletContext</code> ä¸­çš„æ•°æ®ï¼Œå½“å‰åœ¨è·å–ä¹‹å‰éœ€è¦å…ˆå»å­˜å‚¨æ‰è¡Œï¼Œ</p> <p>ä¾‹å¦‚ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="n">servletContext</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">"xxx"</span><span class="p">);</span>
</span></code></pre></div> <p>è·å–åä¸º <em>xxx</em> çš„åŸŸå±æ€§ï¼›</p> </li> <li> <p><code>void removeAttribute(String name)</code>ï¼šç”¨æ¥ç§»é™¤ <code>ServletContext</code> ä¸­çš„åŸŸå±æ€§ï¼Œå¦‚æœå‚æ•° <em>name</em> æŒ‡å®šçš„åŸŸå±æ€§ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœ¬æ–¹æ³•ä»€ä¹ˆéƒ½ä¸åšï¼›</p> </li> <li> <p><code>Enumeration getAttributeNames()</code>ï¼šè·å–æ‰€æœ‰åŸŸå±æ€§çš„åç§°ï¼›</p> </li> </ul> <h3 id="18httpservletresponse">1.8ã€HttpServletResponse<a class="headerlink" href="#18httpservletresponse" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>Web æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ HTTP è¯·æ±‚ï¼Œä¼šé’ˆå¯¹æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªç”¨äºä»£è¡¨è¯·æ±‚çš„ <code>Request</code> å¯¹è±¡ã€å’Œä»£è¡¨å“åº”çš„ <code>Response</code> å¯¹è±¡ã€‚</p> <p><code>Request</code> å’Œ <code>Response</code> å¯¹è±¡æ—¢ç„¶ä»£è¡¨è¯·æ±‚å’Œå“åº”ï¼Œé‚£æˆ‘ä»¬è¦è·å–å®¢æˆ·æœºæäº¤è¿‡æ¥çš„æ•°æ®ï¼Œåªéœ€è¦æ‰¾ <code>Request</code> å¯¹è±¡å°±è¡Œäº†ã€‚è¦å‘å®¢æˆ·æœºè¾“å‡ºæ•°æ®ï¼Œåªéœ€è¦æ‰¾ <code>Response</code> å¯¹è±¡å°±è¡Œäº†ã€‚</p> <p><code>HttpServletResponse</code> å¯¹è±¡æœåŠ¡å™¨çš„å“åº”ã€‚è¿™ä¸ªå¯¹è±¡ä¸­å°è£…äº†å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€å‘é€å“åº”å¤´ï¼Œå‘é€å“åº”çŠ¶æ€ç çš„æ–¹æ³•ã€‚</p> <p><code>ServletResponse</code>ï¼šå°è£…äº†å“åº”ä¿¡æ¯ï¼Œå¦‚æœæƒ³ç»™ç”¨æˆ·ä»€ä¹ˆå“åº”ï¼Œå…·ä½“å¯ä»¥ä½¿ç”¨è¯¥æ¥å£çš„æ–¹æ³•å®ç°</p> <ul> <li><code>getWriter()</code>ï¼šè¿”å› <code>PrintWriter</code> å¯¹è±¡ã€‚è°ƒç”¨è¯¥å¯¹è±¡çš„ <code>print()</code> æ–¹æ³•ï¼Œå°†æŠŠ <code>print()</code> ä¸­çš„å‚æ•°ç›´æ¥æ‰“å°åˆ°å®¢æˆ·çš„æµè§ˆå™¨ä¸Šã€‚</li> <li><code>getOutputStream()</code>ï¼šè¿”å› <code>ServletOutputStream</code> å¯¹è±¡ã€‚</li> <li>è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ï¼š<code>response.setContentType("application/msword")</code>ã€‚</li> <li><code>sendRedirect(String location)</code>ï¼šè¯·æ±‚çš„é‡å®šå‘ï¼ˆæ­¤æ–¹æ³•ä¸º <code>HttpServletResponse</code> ä¸­å®šä¹‰ï¼‰ã€‚</li> </ul> <p><strong>getWriter() å’Œ getOutputStream() è¯¦è§£</strong></p> <ul> <li> <p><code>java PrintWriter out = response.getWriter()</code></p> <p><em>out</em> å¯¹è±¡ç”¨äºå¤„ç†å­—ç¬¦æµæ•°æ®ã€‚</p> </li> <li> <p><code>java ServletOutputStream os = response.getOutputStream();</code></p> <p><em>os</em> ç”¨äºè¾“å‡ºå­—ç¬¦æµæ•°æ®æˆ–è€…äºŒè¿›åˆ¶çš„å­—èŠ‚æµæ•°æ®éƒ½å¯ä»¥ã€‚</p> </li> </ul> <p><code>getOutputStream()</code> å’Œ <code>getWriter()</code> è¿™ä¸¤ä¸ªæ–¹æ³•äº’ç›¸æ’æ–¥ï¼Œè°ƒç”¨äº†å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•åï¼Œå°±ä¸èƒ½å†è°ƒç”¨å¦ä¸€æ–¹æ³•ã€‚ </p> <p>Servlet ç¨‹åºå‘ <code>ServletOutputStream</code> æˆ– <code>PrintWriter</code> å¯¹è±¡ä¸­å†™å…¥çš„æ•°æ®å°†è¢« Servlet å¼•æ“ä» <code>Response</code> é‡Œé¢è·å–ï¼ŒServlet å¼•æ“å°†è¿™äº›æ•°æ®å½“ä½œå“åº”æ¶ˆæ¯çš„æ­£æ–‡ï¼Œç„¶åå†ä¸å“åº”çŠ¶æ€è¡Œå’Œå„å“åº”å¤´ç»„åˆåè¾“å‡ºåˆ°å®¢æˆ·ç«¯ã€‚</p> <p>Serlvet çš„ <code>service()</code> æ–¹æ³•ç»“æŸåï¼ŒServlet å¼•æ“å°†æ£€æŸ¥ <code>getWriter()</code> æˆ– <code>getOutputStream()</code> æ–¹æ³•è¿”å›çš„è¾“å‡ºæµå¯¹è±¡æ˜¯å¦å·²ç»è°ƒç”¨è¿‡ <code>close()</code> æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ï¼ŒServlet å¼•æ“ Tomcat å°†è°ƒç”¨ <code>close()</code> æ–¹æ³•å…³é—­è¯¥è¾“å‡ºæµå¯¹è±¡ã€‚è°ƒç”¨ <code>close()</code> çš„æ—¶å€™ï¼Œåº”è¯¥ä¼šè°ƒç”¨ <code>flushBuffer()</code>ã€‚</p> <p><strong>è¾“å‡ºéªŒè¯ç å›¾ç‰‡</strong></p> <p>å»ºç«‹ <code>BufferedImage</code> å¯¹è±¡ï¼šæŒ‡å®šå›¾ç‰‡çš„é•¿åº¦å®½åº¦å’Œç±»å‹ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">BufferedImage</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedImage</span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="n">BufferedImage</span><span class="p">.</span><span class="na">TYPE_INT_RGB</span><span class="p">);</span>
</span></code></pre></div> <p>å–å¾— <code>Graphics</code> å¯¹è±¡ï¼Œç”¨æ¥ç»˜åˆ¶å›¾ç‰‡ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">Graphics</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">image</span><span class="p">.</span><span class="na">getGraphics</span><span class="p">();</span>
</span></code></pre></div> <p>ç»˜åˆ¶èƒŒæ™¯é¢œè‰²ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">graphics</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">WHITE</span><span class="p">);</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">graphics</span><span class="p">.</span><span class="na">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">);</span>
</span></code></pre></div> <p>ç»˜åˆ¶è¾¹ç•Œï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">graphics</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="n">graphics</span><span class="p">.</span><span class="na">drawRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span></code></pre></div> <p>ç”Ÿæˆéšæœºæ•°ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Random</span><span class="p">();</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">random</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span><span class="w"> </span><span class="c1">// ç”Ÿæˆ0 åˆ° nçš„éšæœºæ•° å‰é—­åå¼€</span>
</span></code></pre></div> <p>ç»˜åˆ¶å¹²æ‰°çº¿</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">graphics</span><span class="p">.</span><span class="na">drawLine</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">);</span>
</span></code></pre></div> <p>è®¾ç½®å­—ä½“ ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">graphics</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Font</span><span class="p">(</span><span class="s">"Times New Roman"</span><span class="p">,</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="o">*</span><span class="n">PLAIN</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">));</span>
</span></code></pre></div> <p>å¦‚æœéªŒè¯ç æ˜¯ä¸­æ–‡ï¼Œè¦ä½¿ç”¨ä¸­æ–‡çš„å­—ä½“åº“ï¼Œé€šè¿‡è¯åº“ç”ŸæˆéšæœºéªŒè¯ç å†…å®¹ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890"</span><span class="p">;</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">graphics</span><span class="p">.</span><span class="na">drawString</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
</span></code></pre></div> <p>è®¾ç½®æ—‹è½¬ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">Graphics2D</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Graphics2D</span><span class="p">)</span><span class="w"> </span><span class="n">image</span><span class="p">.</span><span class="na">getGraphics</span><span class="p">();</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">jiaodu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="na">nextInt</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="kt">double</span><span class="w"> </span><span class="n">hudu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jiaodu</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">180</span><span class="p">;</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="n">graphics</span><span class="p">.</span><span class="na">rotate</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="n">graphics</span><span class="p">.</span><span class="na">rotate</span><span class="p">(</span><span class="o">-</span><span class="n">theta</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
</span></code></pre></div> <p>é‡Šæ”¾æ­¤å›¾å½¢çš„ä¸Šä¸‹æ–‡ä»¥åŠå®ƒä½¿ç”¨çš„æ‰€æœ‰ç³»ç»Ÿèµ„æºï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">graphics</span><span class="p">.</span><span class="na">dispose</span><span class="p">();</span>
</span></code></pre></div> <p>é€šè¿‡ <code>ImageIO</code> å¯¹è±¡çš„ <code>write</code> é™æ€æ–¹æ³•å°†å›¾ç‰‡è¾“å‡º ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">ImageIO</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="s">"jpg"</span><span class="p">,</span><span class="w"> </span><span class="n">resp</span><span class="p">.</span><span class="na">getOutputStream</span><span class="p">());</span>
</span></code></pre></div> <h3 id="19httpservletrequest">1.9ã€HttpServletRequest<a class="headerlink" href="#19httpservletrequest" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><code>HttpServletRequest</code> å¯¹è±¡ä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡ HTTP åè®®è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒHTTP è¯·æ±‚ä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½å°è£…åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œå¼€å‘äººå‘˜é€šè¿‡è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å®¢æˆ·è¿™äº›ä¿¡æ¯ã€‚</p> <p><code>HttpServletRequest</code> æ˜¯ <code>SerlvetRequest</code> çš„å­æ¥å£ï¼Œé’ˆå¯¹äº HTTP è¯·æ±‚æ‰€å®šä¹‰ï¼Œé‡Œè¾¹åŒ…å«äº†å¤§é‡è·å– HTTP è¯·æ±‚ç›¸å…³çš„æ–¹æ³•ã€‚</p> <p><strong>Request è·å–å®¢æˆ·æœºä¿¡æ¯</strong></p> <p><code>http://localhost:8080/day10/AServlet?username=xxx&amp;password=yyy</code></p> <table> <thead> <tr> <th>æ–¹æ³•</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td><code>String getScheme()</code></td> <td>è·å–åè®®ï¼Œhttp</td> </tr> <tr> <td><code>String getServerName()</code></td> <td>è·å–æœåŠ¡å™¨åï¼Œlocalhost</td> </tr> <tr> <td><code>String getServerPort()</code></td> <td>è·å–æœåŠ¡å™¨ç«¯å£ï¼Œ8080</td> </tr> <tr> <td><code>String getContextPath()</code></td> <td>è·å–é¡¹ç›®åï¼Œ/day10</td> </tr> <tr> <td><code>String getServletPath()</code></td> <td>è·å– Servlet è·¯å¾„ï¼Œ/AServlet</td> </tr> <tr> <td><code>String getQueryString()</code></td> <td>è·å–å‚æ•°éƒ¨åˆ†ï¼Œå³é—®å·åé¢çš„éƒ¨åˆ†ã€‚username=xxx&amp;password=yyy</td> </tr> <tr> <td><code>String getRequestURI()</code></td> <td>è·å–è¯·æ±‚ URIï¼Œç­‰äº é¡¹ç›®å+Servlet è·¯å¾„ã€‚/day10/AServlet</td> </tr> <tr> <td><code>String getRequestURL()</code></td> <td>è·å–è¯·æ±‚ URLï¼Œç­‰äºä¸åŒ…å«å‚æ•°çš„æ•´ä¸ªè¯·æ±‚è·¯å¾„ã€‚<code>http://localhost:8080/day10/AServlet</code></td> </tr> </tbody> </table> <p><strong>Request è·å–è¯·æ±‚å‚æ•°</strong></p> <table> <thead> <tr> <th>æ–¹æ³•</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td><code>String getParameter(name)</code></td> <td>é€šè¿‡ <em>name</em> è·å¾—å€¼</td> </tr> <tr> <td><code>String[ ] getParameterValues</code></td> <td>é€šè¿‡ <em>name</em> è·å¾—å¤šå€¼ï¼šcheckbox</td> </tr> <tr> <td><code>Enumeration&lt;String&gt; getParameterNames</code></td> <td>è·å¾—æ‰€æœ‰ <em>name</em></td> </tr> <tr> <td><code>getParameterMap Map&lt;String,String[ ]&gt;</code></td> <td>key :name value: å¤šå€¼</td> </tr> </tbody> </table> <p><strong>Request åˆ©ç”¨è¯·æ±‚åŸŸä¼ é€’å¯¹è±¡</strong></p> <p><code>Request</code> å¯¹è±¡åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡ï¼Œå¼€å‘äººå‘˜é€šè¿‡ <code>Request</code> å¯¹è±¡åœ¨å®ç°è½¬å‘æ—¶ï¼ŒæŠŠæ•°æ®é€šè¿‡ <code>Request</code> å¯¹è±¡å¸¦ç»™å…¶å®ƒ Web èµ„æºå¤„ç†</p> <ul> <li><code>setAttribute</code> æ–¹æ³• </li> <li><code>getAttribute</code> æ–¹æ³• </li> <li><code>removeAttribute</code> æ–¹æ³•</li> <li><code>getAttributeNames</code> æ–¹æ³•</li> </ul> <p><code>Request</code> å¯¹è±¡æä¾›äº†ä¸€ä¸ª <code>getRequestDispatcher</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª <code>RequestDispatcher</code> å¯¹è±¡ï¼Œè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>forward</code> æ–¹æ³•å¯ä»¥å®ç°è¯·æ±‚è½¬å‘ï¼Œä»è€Œå…±äº«è¯·æ±‚ä¸­çš„æ•°æ®ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">RequestDispatcher</span><span class="w"> </span><span class="n">dispatcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">"/request2"</span><span class="p">);</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="n">dispatcher</span><span class="p">.</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span></code></pre></div> <h3 id="110é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«">1.10ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«<a class="headerlink" href="#110é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>redirect å’Œ forward æ˜¯ Servlet ä¸­çš„ä¸¤ç§ä¸»è¦çš„è·³è½¬æ–¹å¼ï¼šredirect å«åšé‡å®šå‘ï¼Œforward å«åšè½¬å‘ã€‚</p> <p><strong>ä»åœ°å€æ æ˜¾ç¤ºæ¥è¯´ï¼š</strong></p> <ul> <li>forword æ˜¯æœåŠ¡å™¨å†…éƒ¨çš„é‡å®šå‘ï¼ŒæœåŠ¡å™¨ç›´æ¥è®¿é—®ç›®æ ‡åœ°å€çš„ URL ç½‘å€ï¼ŒæŠŠé‡Œé¢çš„ä¸œè¥¿è¯»å–å‡ºæ¥ï¼Œä½†æ˜¯å®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“ï¼Œå› æ­¤ç”¨ forward çš„è¯ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨çš„ç½‘å€æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ã€‚</li> <li>redirect æ˜¯æœåŠ¡å™¨æ ¹æ®é€»è¾‘ï¼Œå‘é€ä¸€ä¸ªçŠ¶æ€ç ï¼Œå‘Šè¯‰æµè§ˆå™¨é‡æ–°å»è¯·æ±‚é‚£ä¸ªåœ°å€ï¼Œæ‰€ä»¥åœ°å€æ æ˜¾ç¤ºçš„æ˜¯æ–°çš„åœ°å€ã€‚</li> </ul> <p><strong>ä»æ•°æ®å…±äº«æ¥è¯´ï¼š</strong></p> <ul> <li>ç”±äºåœ¨æ•´ä¸ªé‡å®šå‘çš„è¿‡ç¨‹ä¸­ç”¨çš„æ˜¯åŒä¸€ä¸ª Requestï¼Œå› æ­¤ forward ä¼šå°† Request çš„ä¿¡æ¯å¸¦åˆ°è¢«é‡å®šå‘çš„ JSP æˆ–è€… Servlet ä¸­ä½¿ç”¨ã€‚å³å¯ä»¥å…±äº«æ•°æ®ã€‚</li> <li>redirect ä¸èƒ½å…±äº«ã€‚</li> </ul> <p><strong>ä»è¿ç”¨çš„åœ°æ–¹æ¥è¯´ï¼š</strong></p> <ul> <li>forword ä¸€èˆ¬ç”¨äºç”¨æˆ·ç™»å½•çš„æ—¶å€™ï¼Œæ ¹æ®è§’è‰²è½¬å‘åˆ°ç›¸åº”çš„æ¨¡å—ã€‚</li> <li>redirect ä¸€èˆ¬ç”¨äºç”¨æˆ·æ³¨é”€ç™»å½•æ—¶è¿”å›ä¸»é¡µé¢æˆ–è€…è·³è½¬åˆ°å…¶ä»–ç½‘ç«™ã€‚</li> </ul> <p><strong>ä»æ•ˆç‡æ¥è¯´</strong>ï¼š</p> <ul> <li>forword æ•ˆç‡é«˜ï¼Œè€Œ redirect æ•ˆç‡ä½ã€‚</li> </ul> <p><strong>ä»æœ¬è´¨æ¥è¯´</strong>ï¼š</p> <ul> <li>forword è½¬å‘æ˜¯æœåŠ¡å™¨ä¸Šçš„è¡Œä¸ºï¼Œè€Œ redirect é‡å®šå‘æ˜¯å®¢æˆ·ç«¯çš„è¡Œä¸ºã€‚</li> </ul> <p><strong>ä»è¯·æ±‚çš„æ¬¡æ•°æ¥è¯´</strong>ï¼š</p> <ul> <li>forword åªæœ‰ä¸€æ¬¡è¯·æ±‚ï¼›è€Œ redirect æœ‰ä¸¤æ¬¡è¯·æ±‚ã€‚</li> </ul> <h2 id="2webservlet-æ³¨è§£è¯¦è§£">2ã€@webservlet æ³¨è§£è¯¦è§£<a class="headerlink" href="#2webservlet-æ³¨è§£è¯¦è§£" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <p><strong>ä½œç”¨</strong>ï¼šç”¨äºå°†ä¸€ä¸ªç±»å£°æ˜ä¸º Servlet</p> <p>è¯¥æ³¨è§£åœ¨éƒ¨ç½²æ—¶ä¼šè¢«å®¹å™¨å¤„ç†ï¼Œå®¹å™¨å°†æ ¹æ®å…·ä½“çš„å±æ€§é…ç½®å°†ç›¸åº”çš„ç±»éƒ¨ç½²ä¸º Servlet</p> <p><strong>å±æ€§</strong>ï¼šä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨å±æ€§ï¼Œvalue å’Œ url ä¸€èˆ¬æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯äºŒè€…ä¸èƒ½å…±å­˜ï¼Œè‹¥åŒæ—¶æŒ‡å®šï¼Œä¸€èˆ¬è‡ªåŠ¨å¿½ç•¥ value</p> <table> <thead> <tr> <th>å±æ€§å</th> <th>ç±»å</th> <th>å±æ€§æè¿°</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>String</td> <td>æŒ‡å®š Servlet çš„ name å±æ€§ï¼Œç­‰ä»·äº <code>&lt;servlet-name&gt;</code>ï¼Œè‹¥æ²¡æœ‰æŒ‡å®šï¼Œåˆ™é»˜è®¤æ˜¯ç±»çš„å…¨é™å®šå</td> </tr> <tr> <td>value</td> <td>String[]</td> <td>ç­‰ä»·äº urlPatternsï¼Œä¸¤è€…ä¸èƒ½å…±å­˜</td> </tr> <tr> <td>urlPatterns</td> <td>String[]</td> <td>æŒ‡å®šä¸€ç»„ Servlet çš„ url çš„åŒ¹é…æ¨¡å¼ï¼Œç­‰ä»·äº <code>&lt;url-pattern&gt;</code></td> </tr> <tr> <td>loadOnStartup</td> <td>int</td> <td>æŒ‡å®š Servlet çš„åŠ è½½é¡ºåºï¼Œç­‰ä»·äº <code>&lt;load-on-startup&gt;</code></td> </tr> <tr> <td>initParams</td> <td>WebinitParams[]</td> <td>æŒ‡å®šä¸€ç»„åˆå§‹åŒ–å‚æ•°ï¼Œç­‰ä»·äº <code>&lt;init-params&gt;</code></td> </tr> <tr> <td>asyncSupported</td> <td>boolean</td> <td>ç”³æ˜ Servlet æ˜¯å¦æ”¯æŒå¼‚æ­¥æ“ä½œæ¨¡å¼ï¼Œç­‰ä»·äº <code>&lt;async-supported&gt;</code></td> </tr> <tr> <td>displayName</td> <td>String</td> <td>Servlet çš„æ˜¾ç¤ºåï¼Œç­‰ä»·äº <code>&lt;display-name&gt;</code></td> </tr> <tr> <td>description</td> <td>String</td> <td>Servlet çš„æè¿°ä¿¡æ¯ï¼Œç­‰ä»·äº <code>&lt;description&gt;</code></td> </tr> </tbody> </table> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">//æ³¨è§£é…ç½®</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="nd">@WebServlet</span><span class="p">(</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="n">displayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"UserServlet"</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="c1">//æè¿°</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"UserServlet"</span><span class="p">,</span><span class="w"> </span><span class="c1">//servletåç§°</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="n">urlPatterns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">"/user"</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">//url</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="n">loadOnStartup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="c1">//å¯åŠ¨é¡¹</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="n">initParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nd">@WebInitParam</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"username"</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"å¼ ä¸‰"</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="p">)</span><span class="c1">//åˆå§‹åŒ–å‚æ•°</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">;</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"> </span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">ServletConfig</span><span class="w"> </span><span class="n">config</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">      </span><span class="c1">//è·å–åˆå§‹åŒ–ä¿¡æ¯ï¼šå¼ ä¸‰  </span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">      </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">.</span><span class="na">getInitParameter</span><span class="p">(</span><span class="s">"username"</span><span class="p">);</span><span class="w"> </span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"> </span><span class="kd">protected</span><span class="w"> </span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">resp</span><span class="p">)</span><span class="w">   </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">        </span><span class="c1">//ä¸»è¦å†…å®¹æ“ä½œ </span>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="p">}</span>
</span></code></pre></div> <h2 id="3jsp">3ã€JSP<a class="headerlink" href="#3jsp" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="31jsp-ç®€ä»‹">3.1ã€JSP ç®€ä»‹<a class="headerlink" href="#31jsp-ç®€ä»‹" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>JSPï¼ˆJava Server Pagesï¼‰ä¸ Java Servlet ä¸€æ ·ï¼Œæ˜¯åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œçš„ï¼Œä¸åŒçš„æ˜¯å…ˆç”±æœåŠ¡å™¨ç¼–è¯‘éƒ¨ç½²æˆ Servlet æ‰§è¡Œ</p> <p>JSP çš„ç»„æˆ</p> <ul> <li>JSP = HTML + Javaè„šæœ¬ + JSP æ ‡ç­¾ï¼ˆæŒ‡ä»¤ï¼‰</li> <li>JSP ä¸­æ— éœ€åˆ›å»ºå³å¯ä½¿ç”¨çš„å¯¹è±¡ä¸€å…±æœ‰ 9 ä¸ªï¼Œè¢«ç§°ä¹‹ä¸º 9 å¤§å†…ç½®å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šrequestå¯¹è±¡ã€out å¯¹è±¡ </li> </ul> <p>JSP çš„è„šæœ¬å…ƒç´ </p> <ul> <li><code>&lt;% ç¨‹åºä»£ç  %&gt;</code>ï¼šç¼–å†™ Java ä»£ç ç‰‡æ®µï¼Œä½†æ˜¯ä¸å¯ä»¥å®šä¹‰æ–¹æ³•ã€‚</li> <li><code>&lt;%= è¡¨è¾¾å¼ %&gt;</code>ï¼šJava è¡¨è¾¾å¼ï¼Œç”¨äºè¾“å‡º Java ä¸­å˜é‡æˆ–è€…è¡¨è¾¾å¼çš„å€¼åˆ°é¡µé¢ä¸Šï¼ˆåé¢ä¸èƒ½æœ‰åˆ†å· <code>;</code>ï¼‰ã€‚</li> <li><code>&lt;%! å˜é‡æˆ–æ–¹æ³•å£°æ˜ %&gt;</code>ï¼šå£°æ˜ï¼Œç”¨æ¥åˆ›å»ºç±»çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ã€‚</li> </ul> <p>JSP é¡µé¢æ³¨é‡Š</p> <p>JSP æ³¨é‡Šï¼š<code>&lt;%-- â€¦ --%&gt;</code>ï¼Œè½¬åŒ–é˜¶æ®µæ¶ˆå¤±ï¼Œåªèƒ½è¢«å¼€å‘äººå‘˜çœ‹åˆ°</p> <p>Java æ³¨é‡Šï¼š<code>//</code>ã€<code>/**/</code>ã€<code>/***/</code>ï¼Œç¼–è¯‘é˜¶æ®µæ¶ˆå¤±</p> <p>HTML æ³¨é‡Šï¼š<code>&lt;!-- â€¦ --&gt;</code>, ä¸ä¼šæ¶ˆå¤±ï¼Œåœ¨é¡µé¢ä¸­ä¹Ÿèƒ½çœ‹åˆ°</p> <h3 id="32jsp-çš„è¿è¡ŒåŸç†">3.2ã€JSP çš„è¿è¡ŒåŸç†<a class="headerlink" href="#32jsp-çš„è¿è¡ŒåŸç†" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>JSP å…¶å®æ˜¯ä¸€ç§ç‰¹æ®Šçš„ Servletï¼Œå½“ JSP é¡µé¢ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæŠŠ JSP ç¼–è¯‘æˆ Java æ–‡ä»¶ï¼ˆè¿™ä¸ª Java å…¶å®æ˜¯ä¸€ä¸ª Servlet ç±»ï¼‰ï¼Œç„¶åå†æŠŠ Java ç¼–è¯‘æˆ <code>.class</code>ï¼Œç„¶ååˆ›å»ºè¯¥ç±»å¯¹è±¡ï¼Œæœ€åè°ƒç”¨å®ƒçš„ <code>service()</code> æ–¹æ³•ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚åŒä¸€ JSP æ—¶ï¼Œç›´æ¥è°ƒç”¨ <code>service()</code> æ–¹æ³•ã€‚</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/image-20200603004751826.png" data-desc-position="bottom"><img src="!assets/JavaWeb/image-20200603004751826.png" alt="image-20200603004751826" style="width:50%;"></a></p> <h3 id="33jsp-æŒ‡ä»¤å…ƒç´ ">3.3ã€JSP æŒ‡ä»¤å…ƒç´ <a class="headerlink" href="#33jsp-æŒ‡ä»¤å…ƒç´ " title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>è¯­æ³•æ ¼å¼ï¼š</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="o">=</span><span class="s">"value"</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">%&gt;</span>
</span></code></pre></div> <p>åˆ†ç±»</p> <ul> <li>page æŒ‡ä»¤æ ‡è®°</li> <li>include æŒ‡ä»¤æ ‡è®°</li> <li>taglib æŒ‡ä»¤æ ‡è®°</li> </ul> <p><strong>page æŒ‡ä»¤æ ‡è®°</strong></p> <p>page å±æ€§åŒ…å«åœ¨ <code>&lt;%@ page</code> å’Œ <code>%&gt;</code> ä¹‹é—´ï¼Œè¿™äº›å±æ€§å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å‡ ä¸ªæˆ–å¤šä¸ªåŒæ—¶ä½¿ç”¨ã€‚</p> <p>page æŒ‡ä»¤ç”¨æ¥å®šä¹‰ JSP æ–‡ä»¶çš„å…¨å±€å±æ€§</p> <p>åœ¨ JSP é¡µé¢ä¸­ï¼Œåªæœ‰ <code>import</code> å¯ä»¥å‡ºç°å¤šæ¬¡ï¼Œå…¶å®ƒå±æ€§éƒ½åªèƒ½å‡ºç°ä¸€æ¬¡</p> <table> <thead> <tr> <th>å±æ€§</th> <th>è¯´æ˜</th> <th>ä¸¾ä¾‹</th> </tr> </thead> <tbody> <tr> <td>language</td> <td>å£°æ˜ä½¿ç”¨è„šæœ¬çš„ç§ç±»</td> <td><code>language="java"</code></td> </tr> <tr> <td>import</td> <td>ç”¨äºå¯¼å…¥ Java åŒ…æˆ–å†…çš„åˆ—è¡¨</td> <td><code>import="java.util.Date"</code></td> </tr> <tr> <td>buffer</td> <td>æŒ‡å®š JSP å®¢æˆ·ç«¯è¾“å‡ºç¼“å†²åŒºçš„å¤§å°</td> <td><code>buffer="8k"</code></td> </tr> <tr> <td>autoFlush</td> <td>å¦‚æœ buffer æº¢å‡ºï¼Œè®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œæ­£å¸¸è¾“å‡ºï¼›<br>è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œå‡ºç°å¼‚å¸¸</td> <td><code>autoFlush="true"</code></td> </tr> <tr> <td>errorPage</td> <td>å¤„ç†å¼‚å¸¸äº‹ä»¶æ—¶è°ƒç”¨çš„ JSP é¡µé¢</td> <td><code>errorPage="error.jsp"</code></td> </tr> <tr> <td>contentType</td> <td>å®šä¹‰ JSP é¡µé¢å“åº”çš„ MIME ç±»å‹</td> <td><code>contentType="text/html;charset=utf-8"</code></td> </tr> <tr> <td>isErrorPage</td> <td>è®¾ç½®æ­¤é¡µæ˜¯å¦å¯ä»¥ä¸ºå…¶å®ƒé¡µé¢çš„ errorPage ç›®æ ‡</td> <td><code>isErrorPage="true"</code></td> </tr> <tr> <td>isELIgnored</td> <td>ç”¨æ¥æŒ‡å®š EL æ˜¯å¦è¢«å¿½ç•¥ã€‚<code>ture</code> åˆ™å¿½ç•¥ï¼Œ<code>false</code> åˆ™è®¡ç®—è¡¨è¾¾å¼çš„å€¼</td> <td><code>isELIgnored="false"</code></td> </tr> <tr> <td>pageEncoding</td> <td>JSP é¡µé¢å­—ç¬¦ç¼–ç ï¼Œå…¶ä¼˜å…ˆæƒé«˜äº contentType</td> <td><code>pageEncoding="utf-8"</code></td> </tr> </tbody> </table> <p><strong>include æŒ‡ä»¤æ ‡è®°</strong></p> <p>include æŒ‡ä»¤çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="err">â€œ</span><span class="n">filename</span><span class="err">â€</span><span class="w"> </span><span class="k">%&gt;</span>
</span></code></pre></div> <p>include æŒ‡ä»¤çš„ä½œç”¨æ˜¯åœ¨ JSP é¡µé¢ä¸­é™æ€åŒ…å«ä¸€ä¸ªæ–‡ä»¶ï¼ŒåŒæ—¶ç”± JSP è§£æåŒ…å«çš„æ–‡ä»¶å†…å®¹</p> <p>é™æ€åŒ…å«çš„å«ä¹‰ï¼š</p> <ul> <li> <p>file ä¸èƒ½ä¸ºä¸€å˜é‡</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="k">&lt;%</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="o">=</span><span class="s">"index.html"</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"&lt;%= url </span><span class="k">%&gt;</span>"<span class="w"> </span>%&gt;
</span></code></pre></div> </li> <li> <p>ä¸å¯ä»¥åœ¨ file æ‰€æŒ‡å®šçš„æ–‡ä»¶åæ¥ä»»ä½•å‚æ•°</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"jw.jsp?nm=browser"</span><span class="w"> </span><span class="k">%&gt;</span>
</span></code></pre></div> </li> </ul> <p><strong>taglib æŒ‡ä»¤æ ‡è®°</strong></p> <p>taglib æŒ‡ä»¤ç”¨äºåœ¨ JSP é¡µé¢ä¸­å¯¼å…¥æ ‡ç­¾åº“</p> <p>å¸¸ç”¨æ ‡ç­¾åº“ JSTL</p> <p>å¸¸ç”¨å±æ€§ï¼š</p> <ul> <li>uriï¼šæ ‡ç­¾æ–‡ä»¶çš„ URI åœ°å€</li> <li>prefixï¼šæ ‡ç­¾ç»„çš„å‘½åç©ºé—´å‰ç¼€</li> </ul> <h3 id="34jsp-å†…ç½®å¯¹è±¡">3.4ã€JSP å†…ç½®å¯¹è±¡<a class="headerlink" href="#34jsp-å†…ç½®å¯¹è±¡" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>ä¹å¤§éšå¼å¯¹è±¡</p> <table> <thead> <tr> <th>å†…ç½®å¯¹è±¡</th> <th>ä»£è¡¨å†…å®¹</th> <th>ç±»å‹</th> <th>èŒƒå›´</th> </tr> </thead> <tbody> <tr> <td>request</td> <td>è§¦å‘æœåŠ¡å™¨è°ƒç”¨çš„è¯·æ±‚</td> <td>HttpServletRequest</td> <td>request</td> </tr> <tr> <td>response</td> <td>å¯¹è¯·æ±‚çš„åº”ç­”</td> <td>HttpServletResponse</td> <td>page</td> </tr> <tr> <td>session</td> <td>ä¸ºè¯·æ±‚çš„å®¢æˆ·ç«¯åˆ›å»ºçš„ session å¯¹è±¡</td> <td>HttpSession</td> <td>session</td> </tr> <tr> <td>application</td> <td>ä» Servlet é…ç½®å¯¹è±¡è·å¾—çš„ Servlet ä¸Šä¸‹æ–‡</td> <td>ServletContext</td> <td>application</td> </tr> <tr> <td>out</td> <td>å‘è¾“å‡ºæµå†™å…¥å†…å®¹çš„å¯¹è±¡</td> <td>ServletConfig</td> <td>page</td> </tr> <tr> <td>pageContext</td> <td>æœ¬ JSP å†…å®¹çš„ä¸Šä¸‹æ–‡</td> <td>this(HttpServlet)</td> <td>page</td> </tr> <tr> <td>page</td> <td>å®ç°å¤„ç†æœ¬é¡µå½“å‰è¯·æ±‚çš„ç±»çš„å®ä¾‹</td> <td>PageContext</td> <td>page</td> </tr> <tr> <td>config</td> <td>æœ¬ JSP çš„ ServletConfig</td> <td>Throwable</td> <td>page</td> </tr> <tr> <td>exception</td> <td>è¡¨ç¤º JSP é¡µé¢è¿è¡Œæ—¶äº§ç”Ÿçš„å¼‚å¸¸</td> <td>JspWriter</td> <td>page</td> </tr> </tbody> </table> <p><strong>å››å¤§åŸŸå¯¹è±¡</strong></p> <p>PageContextã€Requestã€Sessionã€ServletConext</p> <ul> <li> <p><strong>ServletContextï¼ˆServletContextç±»ï¼‰</strong></p> <blockquote> <p>åœ¨ JSP ä¸­ä¸º application</p> <p>ç”Ÿå‘½å‘¨æœŸ:</p> <ul> <li>å¼€å§‹ï¼šWeb åº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºæ•´ä¸ª Webä¸­ çš„ <code>ServletContext</code> å¯¹è±¡ã€‚</li> <li>æ­»äº¡ï¼šæœåŠ¡å™¨å…³é—­æˆ– Web åº”ç”¨è¢«ç§»é™¤æ—¶ï¼Œ<code>ServletContext</code> è·Ÿç€é”€æ¯ã€‚</li> </ul> <p>ä½œç”¨èŒƒå›´ï¼šæ•´ä¸ª Web åº”ç”¨ä¸­ã€‚</p> <p>ä½œç”¨ï¼ˆç”¨é€”ï¼‰ï¼š</p> <ol> <li>èº«ä¸ºä½œç”¨åŸŸï¼Œå­˜å‚¨å¯ä»¥ä½œç”¨äºæ•´ä¸ª Web åº”ç”¨èŒƒå›´çš„æ•°æ®ã€‚</li> <li>ç”¨äºè·å–ç»å¯¹è·¯å¾„ï¼šè·å– WEB-INF ä¸‹çš„ properties çš„ç»å¯¹è·¯å¾„ï¼š <code>this.getServletContext().getRealPath("WEB-INF/1.properties");</code></li> </ol> </blockquote> </li> <li> <p><strong>Requestï¼ˆHttpServletRequestï¼‰</strong></p> <blockquote> <p>åœ¨ JSP ä¸­ä¸º request ç”Ÿå‘½å‘¨æœŸï¼š</p> <ul> <li>å¼€å§‹ï¼šåœ¨ <code>service</code> æ–¹æ³•è°ƒç”¨ä¹‹å‰ç”±æœåŠ¡å™¨åˆ›å»ºï¼Œä¼ å…¥ <code>service</code> æ–¹æ³•ã€‚</li> <li>æ­»äº¡ï¼šæ•´ä¸ªè¯·æ±‚ç»“æŸ request æ­»äº¡ã€‚</li> </ul> <p>ä½œç”¨èŒƒå›´ï¼šæ•´ä¸ªè¯·æ±‚é“¾ï¼ˆè¯·æ±‚è½¬å‘ <code>forward()</code> ä¹Ÿç®—ï¼‰ ä½œç”¨ï¼ˆç”¨é€”ï¼‰ï¼š</p> <ol> <li>åœ¨è¯·æ±‚é“¾ä¸­å…±äº«æ•°æ®ï¼Œæœ€å¸¸ç”¨äºä» Servlet ä¸­å°†å¤„ç†å¥½çš„æ•°æ®é€šè¿‡å­˜å…¥ request äº¤ç»™ JSP æ˜¾ç¤ºï¼š <code>request.setAttribute("x",x);request.getAttribute("x");</code></li> </ol> </blockquote> </li> <li> <p><strong>RageContextï¼ˆPageContextï¼‰</strong></p> <blockquote> <p>åœ¨ JSP ä¸­ä¸º PageContext</p> <p>ç”Ÿå‘½å‘¨æœŸï¼šå½“å¯¹ä¸€ä¸ª JSP è¯·æ±‚å¼€å§‹,å½“ç›¸åº”ç»“æŸæ—¶é”€æ¯ã€‚</p> <p>ä½œç”¨èŒƒå›´ï¼šæ•´ä¸ª JSP é¡µé¢ï¼Œæ˜¯å››å¤§ä½œç”¨åŸŸä¸­æœ€å°çš„ä¸€ä¸ªã€‚</p> <p>ä½œç”¨(ç”¨é€”):</p> <ol> <li>è·å–å…¶å®ƒå…«å¤§éšå¼å¯¹è±¡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå…¥å£å¯¹è±¡ã€‚</li> <li>è·å–å…¶æ‰€æœ‰åŸŸä¸­çš„æ•°æ®ï¼š <code>pageContext.findAttribute("x");</code> ä¼šåœ¨å››å¤§ä½œç”¨åŸŸä¸­è‡ªåŠ¨æœç´¢å±æ€§ï¼Œé¡ºåºä»ä½åˆ°é«˜ï¼špageã€requestã€sessionã€applicationã€‚å¦‚æœæœç´¢åˆ°å°±ç›´æ¥è·å–è¯¥å€¼ï¼Œå¦‚æœæ‰€æœ‰åŸŸä¸­éƒ½æ‰¾ä¸åˆ°ï¼Œè¿”å›ä¸€ä¸ª <code>null</code>ã€‚</li> </ol> </blockquote> </li> </ul> <p><strong>é€šè¿‡ pageContext è·å¾—å…¶ä»–å¯¹è±¡</strong></p> <ul> <li><code>getException</code> æ–¹æ³•è¿”å› exception éšå¼å¯¹è±¡ </li> <li><code>getPage</code> æ–¹æ³•è¿”å› page éšå¼å¯¹è±¡</li> <li><code>getRequest</code> æ–¹æ³•è¿”å› request éšå¼å¯¹è±¡ </li> <li><code>getResponse</code> æ–¹æ³•è¿”å› response éšå¼å¯¹è±¡ </li> <li><code>getServletConfig</code> æ–¹æ³•è¿”å› config éšå¼å¯¹è±¡</li> <li><code>getServletContext</code> æ–¹æ³•è¿”å› application éšå¼å¯¹è±¡</li> <li><code>getSession</code> æ–¹æ³•è¿”å› session éšå¼å¯¹è±¡ </li> <li><code>getOut</code> æ–¹æ³•è¿”å› out éšå¼å¯¹è±¡</li> </ul> <h2 id="4ä¼šè¯ç®¡ç†">4ã€ä¼šè¯ç®¡ç†<a class="headerlink" href="#4ä¼šè¯ç®¡ç†" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <p>ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Ÿ</p> <p>ä¼šè¯å¯ç®€å•ç†è§£ä¸ºï¼šç”¨æˆ·å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»å¤šä¸ªè¶…é“¾æ¥ï¼Œè®¿é—®æœåŠ¡å™¨å¤šä¸ª WEB èµ„æºï¼Œç„¶åå…³é—­æµè§ˆå™¨ï¼Œæ•´ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºä¸€ä¸ªä¼šè¯ã€‚</p> <p>ä¼šè¯è¿‡ç¨‹ä¸­è¦è§£å†³çš„ä¸€äº›é—®é¢˜ï¼Ÿ</p> <ul> <li>æ¯ä¸ªç”¨æˆ·ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œå„è‡ªä¼šæœ‰ä¸€äº›æ•°æ®ï¼Œç¨‹åºè¦æƒ³åŠæ³•ä¿å­˜æ¯ä¸ªç”¨æˆ·çš„æ•°æ®ã€‚</li> <li>ä¾‹å¦‚ï¼šç”¨æˆ·ç‚¹å‡»è¶…é“¾æ¥é€šè¿‡ä¸€ä¸ª Servlet è´­ä¹°äº†ä¸€ä¸ªå•†å“ï¼Œç¨‹åºåº”è¯¥ä¿å­˜ç”¨æˆ·è´­ä¹°çš„å•†å“ï¼Œä»¥ä¾¿äºç”¨æˆ·ç‚¹ç»“å¸ Servlet æ—¶ï¼Œç»“å¸ Servlet å¯ä»¥å¾—åˆ°ç”¨æˆ·å•†å“ä¸ºç”¨æˆ·ç»“å¸ã€‚</li> </ul> <p>ä¿å­˜ä¼šè¯æ•°æ®çš„ä¸¤ç§æŠ€æœ¯ï¼š</p> <ul> <li> <p>Cookie</p> <p>Cookie æ˜¯å®¢æˆ·ç«¯æŠ€æœ¯ï¼Œç¨‹åºæŠŠæ¯ä¸ªç”¨æˆ·çš„æ•°æ®ä»¥ cookie çš„å½¢å¼å†™ç»™ç”¨æˆ·å„è‡ªçš„æµè§ˆå™¨ã€‚å½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨å†å»è®¿é—®æœåŠ¡å™¨ä¸­çš„ Web èµ„æºæ—¶ï¼Œå°±ä¼šå¸¦ç€å„è‡ªçš„æ•°æ®å»ã€‚è¿™æ ·ï¼ŒWeb èµ„æºå¤„ç†çš„å°±æ˜¯ç”¨æˆ·å„è‡ªçš„æ•°æ®äº†ã€‚ - Session</p> <p>Session æ˜¯æœåŠ¡å™¨ç«¯æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼ŒæœåŠ¡å™¨åœ¨è¿è¡Œæ—¶å¯ä»¥ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·çš„æµè§ˆå™¨åˆ›å»ºä¸€ä¸ªå…¶ç‹¬äº«çš„ session å¯¹è±¡ï¼Œç”±äº session ä¸ºç”¨æˆ·æµè§ˆå™¨ç‹¬äº«ï¼Œæ‰€ä»¥ç”¨æˆ·åœ¨è®¿é—®æœåŠ¡å™¨çš„ Web èµ„æºæ—¶ï¼Œå¯ä»¥æŠŠå„è‡ªçš„æ•°æ®æ”¾åœ¨å„è‡ªçš„ session ä¸­ï¼Œå½“ç”¨æˆ·å†å»è®¿é—®æœåŠ¡å™¨ä¸­çš„å…¶å®ƒ Web èµ„æºæ—¶ï¼Œå…¶å®ƒ Web èµ„æºå†ä»ç”¨æˆ·å„è‡ªçš„ session ä¸­å–å‡ºæ•°æ®ä¸ºç”¨æˆ·æœåŠ¡ã€‚</p> </li> </ul> <h3 id="41cookie">4.1ã€Cookie<a class="headerlink" href="#41cookie" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><code>javax.servlet.http.Cookie</code> ç±»ç”¨äºåˆ›å»ºä¸€ä¸ª Cookieï¼Œ<code>Response</code> æ¥å£ä¹Ÿä¸­å®šä¹‰äº†ä¸€ä¸ª <code>addCookie</code> æ–¹æ³•ï¼Œå®ƒç”¨äºåœ¨å…¶å“åº”å¤´ä¸­å¢åŠ ä¸€ä¸ªç›¸åº”çš„ Set-Cookie å¤´å­—æ®µã€‚ åŒæ ·ï¼Œ<code>Request</code> æ¥å£ä¸­ä¹Ÿå®šä¹‰äº†ä¸€ä¸ª <code>getCookies</code> æ–¹æ³•ï¼Œå®ƒç”¨äºè·å–å®¢æˆ·ç«¯æäº¤çš„ Cookieã€‚</p> <p>Cookie ç±»çš„æ–¹æ³•ï¼š </p> <ul> <li><code>public Cookie(String name,String value)</code></li> <li><code>setValue</code> ä¸ <code>getValue</code>æ–¹æ³• </li> <li><code>setMaxAge</code> ä¸ <code>getMaxAge</code>æ–¹æ³• </li> <li><code>setPath</code> ä¸ <code>getPath</code>æ–¹æ³•</li> <li><code>setDomain</code> ä¸ <code>getDomain</code>æ–¹æ³•</li> <li><code>getName</code> æ–¹æ³•</li> </ul> <p>ä¸€ä¸ª Cookie åªèƒ½æ ‡è¯†ä¸€ç§ä¿¡æ¯ï¼Œå®ƒè‡³å°‘å«æœ‰ä¸€ä¸ªæ ‡è¯†è¯¥ä¿¡æ¯çš„åç§°ï¼ˆNAMEï¼‰å’Œè®¾ç½®å€¼ï¼ˆVALUEï¼‰ã€‚ </p> <p>ä¸€ä¸ª Web ç«™ç‚¹å¯ä»¥ç»™ä¸€ä¸ª Web æµè§ˆå™¨å‘é€å¤šä¸ª Cookieï¼Œä¸€ä¸ª Web æµè§ˆå™¨ä¹Ÿå¯ä»¥å­˜å‚¨å¤šä¸ª Web ç«™ç‚¹æä¾›çš„ Cookieã€‚</p> <p>æµè§ˆå™¨ä¸€èˆ¬åªå…è®¸å­˜æ”¾ 300 ä¸ª Cookieï¼Œæ¯ä¸ªç«™ç‚¹æœ€å¤šå­˜æ”¾ 20 ä¸ª Cookieï¼Œæ¯ä¸ª Cookie çš„å¤§å°é™åˆ¶ä¸º 4KBã€‚</p> <p><code>void setPath(java.lang.String uri)</code> ï¼šè®¾ç½® cookie çš„æœ‰æ•ˆè®¿é—®è·¯å¾„ã€‚æœ‰æ•ˆè·¯å¾„æŒ‡çš„æ˜¯ cookie çš„æœ‰æ•ˆè·¯å¾„ä¿å­˜åœ¨å“ªé‡Œï¼Œé‚£ä¹ˆæµ è§ˆå™¨åœ¨æœ‰æ•ˆè·¯å¾„ä¸‹è®¿é—®æœåŠ¡å™¨æ—¶å°±ä¼šå¸¦ç€ cookie ä¿¡æ¯ï¼Œå¦åˆ™ä¸å¸¦ cookie ä¿¡æ¯ã€‚</p> <p>å¦‚æœåˆ›å»ºäº†ä¸€ä¸ª cookieï¼Œå¹¶å°†ä»–å‘é€åˆ°æµè§ˆå™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯ä¸€ä¸ªä¼šè¯çº§åˆ«çš„ cookieï¼ˆå³å­˜å‚¨åœ¨æµè§ˆå™¨çš„å†…å­˜ä¸­ï¼‰ï¼Œç”¨æˆ·é€€å‡ºæµè§ˆå™¨ä¹‹åå³è¢«åˆ é™¤ã€‚è‹¥å¸Œæœ›æµè§ˆå™¨å°†è¯¥ cookie å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>maxAge</code>ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´ã€‚</p> <p>åˆ é™¤æŒä¹… cookieï¼Œå¯ä»¥å°† cookie æœ€å¤§æ—¶æ•ˆè®¾ä¸º0ï¼ˆç„¶å <code>addCookie()</code>ï¼‰ï¼Œæ³¨æ„ï¼Œåˆ é™¤ cookie æ—¶ï¼Œpath å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¸ä¼šåˆ é™¤ã€‚</p> <p><strong>æ¡ˆä¾‹-æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡è®¿é—®æ—¶é—´</strong></p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20180319145720896.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20180319145720896.png" alt="img" style="width:80%;"></a></p> <h3 id="42session">4.2ã€Session<a class="headerlink" href="#42session" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åœ¨ Web å¼€å‘ä¸­ï¼ŒæœåŠ¡å™¨å¯ä»¥ä¸ºæ¯ä¸ªç”¨æˆ·æµè§ˆå™¨åˆ›å»ºä¸€ä¸ªä¼šè¯å¯¹è±¡ï¼ˆsession å¯¹è±¡ï¼‰ï¼Œæ³¨æ„ï¼šä¸€ä¸ªæµè§ˆå™¨ç‹¬å ä¸€ä¸ª session å¯¹è±¡(é»˜è®¤æƒ…å†µä¸‹)ã€‚å› æ­¤ï¼Œåœ¨éœ€è¦ä¿å­˜ç”¨æˆ·æ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨ç¨‹åºå¯ä»¥æŠŠç”¨æˆ·æ•°æ®å†™åˆ°ç”¨æˆ·æµè§ˆå™¨ç‹¬å çš„ session ä¸­ï¼Œå½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨è®¿é—®å…¶å®ƒç¨‹åºæ—¶ï¼Œå…¶å®ƒç¨‹åºå¯ä»¥ä»ç”¨æˆ·çš„session ä¸­å–å‡ºè¯¥ç”¨æˆ·çš„æ•°æ®ï¼Œä¸ºç”¨æˆ·æœåŠ¡ã€‚</p> <p>Cookie çš„å±€é™</p> <ul> <li>Cookie åªèƒ½å­˜å­—ç¬¦ä¸²ç±»å‹ã€‚ä¸èƒ½ä¿å­˜å¯¹è±¡</li> <li>1ä¸ª Cookie çš„å®¹é‡ä¸è¶…è¿‡ 4 KBã€‚</li> </ul> <p>Session å’Œ Cookie çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š</p> <ul> <li>Cookie æ˜¯æŠŠç”¨æˆ·çš„æ•°æ®å†™ç»™ç”¨æˆ·çš„æµè§ˆå™¨ã€‚</li> <li>Session æŠŠç”¨æˆ·çš„æ•°æ®å†™åˆ°ç”¨æˆ·ç‹¬å çš„ session ä¸­ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ã€‚</li> <li>Session ç”±äºå­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œå®‰å…¨æ€§é«˜ï¼›æµè§ˆå™¨çš„ Cookie å¯èƒ½è¢«å…¶ä»–ç¨‹åºåˆ†æè·å–ï¼Œæ‰€ä»¥å®‰å…¨æ€§è¾ƒä½ã€‚</li> </ul> <p>Session å¯¹è±¡ç”±æœåŠ¡å™¨åˆ›å»ºï¼Œå¼€å‘äººå‘˜å¯ä»¥è°ƒç”¨ Request å¯¹è±¡çš„ <code>getSession</code> æ–¹æ³•å¾—åˆ° session å¯¹è±¡ã€‚</p> <p><code>getSession(true)</code> /<code>getSession()</code> ï¼šåˆ›å»ºæˆ–å¾—åˆ° session å¯¹è±¡ã€‚æ²¡æœ‰åŒ¹é…çš„ session ç¼–å·è‡ªåŠ¨åˆ›å»ºæ–°çš„ session å¯¹è±¡ã€‚</p> <p><code>getSession(false)</code>ï¼šå¾—åˆ° session å¯¹è±¡ã€‚æ²¡æœ‰åŒ¹é…çš„ session ç¼–å·ï¼Œè¿”å› <code>null</code>ã€‚</p> <p><code>void setMaxInactiveInterval(int interval)</code>ï¼šè®¾ç½® session çš„æœ‰æ•ˆæ—¶é—´ï¼Œé»˜è®¤æƒ…å†µ 30 åˆ†æœåŠ¡å™¨è‡ªåŠ¨å›æ”¶</p> <p><strong>session åŸç†</strong></p> <ol> <li> <p>ç¬¬ä¸€æ¬¡è®¿é—®åˆ›å»º session å¯¹è±¡ï¼Œç»™ session å¯¹è±¡åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ IDï¼Œå« JSESSIONID</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code>```java
new HttpSession();
```
</code></pre></div> </li> <li> <p>æŠŠ JSESSIONID ä½œä¸º Cookie çš„å€¼å‘é€ç»™æµè§ˆå™¨ä¿å­˜</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">Cookie</span><span class="w"> </span><span class="n">cookie</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Cookie</span><span class="p">(</span><span class="s">"JSESSIONID"</span><span class="p">,</span><span class="w"> </span><span class="n">sessionID</span><span class="p">);</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="n">response</span><span class="p">.</span><span class="na">addCookie</span><span class="p">(</span><span class="n">cookie</span><span class="p">);</span>
</span></code></pre></div> </li> <li> <p>ç¬¬äºŒæ¬¡è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¸¦ç€ JSESSIONID çš„ cookie è®¿é—®æœåŠ¡å™¨</p> </li> <li> <p>æœåŠ¡å™¨å¾—åˆ° JSESSIONIDï¼Œåœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­æœç´¢æ˜¯å¦å­˜æ”¾å¯¹åº”ç¼–å·çš„ session å¯¹è±¡ã€‚</p> </li> <li> <p>å¦‚æœæ‰¾åˆ°å¯¹åº”ç¼–å·çš„ session å¯¹è±¡ï¼Œç›´æ¥è¿”å›è¯¥å¯¹è±¡ï¼Œå¦‚æœæ‰¾ä¸åˆ°å¯¹åº”ç¼–å·çš„ session å¯¹è±¡ï¼Œåˆ›å»ºæ–°çš„ session å¯¹è±¡ï¼Œç»§ç»­èµ°1çš„æµç¨‹</p> </li> </ol> <p><strong>æ¡ˆä¾‹ åˆ›å»ºå’Œè·å– session</strong></p> <p>åˆ›å»º session </p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20180319164035404.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20180319164035404.png" alt="img" style="width:80%;"></a></p> <p>è·å– session</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/2018031916405859.png" data-desc-position="bottom"><img src="!assets/JavaWeb/2018031916405859.png" alt="img.png" style="width:80%;"></a></p> <h3 id="43è¡¨å•é‡å¤æäº¤">4.3ã€è¡¨å•é‡å¤æäº¤<a class="headerlink" href="#43è¡¨å•é‡å¤æäº¤" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>äº§ç”Ÿè¡¨å•é‡å¤æäº¤çš„åŸå› ï¼šç½‘ç»œå»¶è¿Ÿã€é‡æ–°åˆ·æ–°ã€ç‚¹å‡»ç½‘é¡µå›é€€åˆ°ä¹‹å‰é¡µé¢ç»§ç»­æäº¤...</p> <p>è§£å†³æ–¹å¼ï¼š</p> <p>åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„éšæœºæ ‡è¯†å·ï¼Œä¸“ä¸šæœ¯è¯­ç§°ä¸º Tokenï¼ˆä»¤ç‰Œï¼‰ï¼ŒåŒæ—¶åœ¨å½“å‰ç”¨æˆ·çš„ Session åŸŸä¸­ä¿å­˜è¿™ä¸ª Tokenã€‚ç„¶åå°† Token å‘é€åˆ°å®¢æˆ·ç«¯çš„ Form è¡¨å•ä¸­ï¼Œåœ¨ Form è¡¨å•ä¸­ä½¿ç”¨éšè—åŸŸæ¥å­˜å‚¨è¿™ä¸ª Tokenï¼Œè¡¨å•æäº¤çš„æ—¶å€™è¿åŒè¿™ä¸ª Token ä¸€èµ·æäº¤åˆ°æœåŠ¡å™¨ç«¯ï¼Œç„¶ååœ¨æœåŠ¡å™¨ç«¯åˆ¤æ–­å®¢æˆ·ç«¯æäº¤ä¸Šæ¥çš„ Token ä¸æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„ Token æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œé‚£å°±æ˜¯é‡å¤æäº¤äº†ï¼Œæ­¤æ—¶æœåŠ¡å™¨ç«¯å°±å¯ä»¥ä¸å¤„ç†é‡å¤æäº¤çš„è¡¨å•ã€‚å¦‚æœç›¸åŒåˆ™å¤„ç†è¡¨å•æäº¤ï¼Œå¤„ç†å®Œåæ¸…é™¤å½“å‰ç”¨æˆ·çš„ Session åŸŸä¸­å­˜å‚¨çš„æ ‡è¯†å·ã€‚</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20180320104403671.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20180320104403671.png" alt="img" style="width:80%;"></a></p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20180320111511238.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20180320111511238.png" alt="img" style="width:60%;"></a></p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20180320111547811.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20180320111547811.png" alt="img" style="width:80%;"></a></p> <h2 id="5è¿‡æ»¤å™¨">5ã€è¿‡æ»¤å™¨<a class="headerlink" href="#5è¿‡æ»¤å™¨" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <p>è¿‡æ»¤å™¨ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯èµ·åˆ°è¿‡æ»¤ç­›é€‰ä½œç”¨çš„ä¸€ç§äº‹ç‰©ï¼Œåªä¸è¿‡ç›¸è¾ƒäºç°å®ç”Ÿæ´»ä¸­çš„è¿‡æ»¤å™¨ï¼Œè¿™é‡Œçš„è¿‡æ»¤å™¨è¿‡æ»¤çš„å¯¹è±¡æ˜¯å®¢æˆ·ç«¯è®¿é—®çš„ Web èµ„æºï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ç§é¢„å¤„ç†æ‰‹æ®µï¼Œå¯¹èµ„æºè¿›è¡Œæ‹¦æˆªåï¼Œå°†å…¶ä¸­æˆ‘ä»¬è®¤ä¸ºçš„æ‚è´¨ï¼ˆç”¨æˆ·è‡ªå·±å®šä¹‰çš„ï¼‰è¿‡æ»¤ï¼Œç¬¦åˆæ¡ä»¶çš„æ”¾è¡Œï¼Œä¸ç¬¦åˆçš„åˆ™æ‹¦æˆªä¸‹æ¥</p> <p>å½“ç„¶ï¼Œè¿‡æ»¤å™¨æ—¢å¯ä»¥æ‹¦æˆª Requestï¼Œä¹Ÿå¯ä»¥æ‹¦æˆªè¿”å›çš„ Response</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/1693413-20190910104134290-43589150.png" data-desc-position="bottom"><img src="!assets/JavaWeb/1693413-20190910104134290-43589150.png" alt="img" style="width:60%;"></a></p> <p><strong>è¿‡æ»¤å™¨çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå®ç°äº† Filter æ¥å£çš„ Java ç±»</strong></p> <p>å…ˆè‡ªå·±åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç° <code>Filter</code> æ¥å£ï¼ˆjavax.servletï¼‰ï¼Œé‡å†™å…¶ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nd">@WebFilter</span><span class="p">(</span><span class="s">"/*"</span><span class="p">)</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FilterDemo1</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Filter</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">destroy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">resp</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">        </span><span class="c1">//æ”¾è¡Œä»£ç </span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">        </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">resp</span><span class="p">);</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">FilterConfig</span><span class="w"> </span><span class="n">config</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="p">}</span>
</span></code></pre></div> <h3 id="51filter-é…ç½®">5.1ã€Filter é…ç½®<a class="headerlink" href="#51filter-é…ç½®" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>web.xmlé…ç½®</strong></p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nt">&lt;filter&gt;</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="nt">&lt;filter-name&gt;</span>filterDemo1<span class="nt">&lt;/filter-name&gt;</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nt">&lt;filter-class&gt;</span>package<span class="w"> </span>cn.ideal.web.filter.FilterDemo1<span class="nt">&lt;/filter-class&gt;</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="nt">&lt;/filter&gt;</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="nt">&lt;filter-mapping&gt;</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span><span class="nt">&lt;filter-name&gt;</span>filterDemo1<span class="nt">&lt;/filter-name&gt;</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">    </span><span class="cm">&lt;!-- æ‹¦æˆªè·¯å¾„ --&gt;</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">    </span><span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="nt">&lt;/filter-mapping&gt;</span>
</span></code></pre></div> <p><code>&lt;filter-name&gt;&lt;/filter-name&gt;</code>ï¼šæŒ‡å®š Filteråå­—</p> <p><code>&lt;filter-class&gt;&lt;/filter-class&gt;</code>ï¼šæŒ‡å®š Filter å…¨ç±»åï¼ˆå¸¦åŒ…åï¼‰</p> <p><code>&lt;filter-name&gt;&lt;/filter-name&gt;</code>ï¼šè¿™é‡Œçš„æ ‡ç­¾æ˜¯ä¸ºäº†ä¸ä¸Šé¢ Filter ä¸­çš„åå­—å¯¹åº”ï¼Œä»è€ŒæŒ‡å‘åˆ°å¯¹åº”çš„æ–‡ä»¶ä¸­</p> <p><code>&lt;url-pattern&gt;&lt;/url-pattern&gt;</code>ï¼šè®¾ç½® Filter æ‰€æ‹¦æˆªçš„è·¯å¾„ï¼Œè¿™é‡Œå†³å®šäº†ä»€ä¹ˆæ ·çš„èµ„æºä¼šè¢«è¿‡æ»¤å™¨æ‹¦æˆªå¤„ç†</p> <p>æ‹¦æˆªè·¯å¾„è®¾ç½®:</p> <table> <thead> <tr> <th>æ ¼å¼</th> <th>è§£é‡Š</th> </tr> </thead> <tbody> <tr> <td><code>/test.jsp</code></td> <td>åªæœ‰è®¿é—® test.jsp è¿™ä¸ªèµ„æºçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œè¿‡æ»¤å™¨</td> </tr> <tr> <td><code>/test/*</code></td> <td>è®¿é—® test ä¸‹æ‰€æœ‰èµ„æºä½ çš„æ—¶å€™ï¼Œæ‰§è¡Œè¿‡æ»¤å™¨</td> </tr> <tr> <td><code>*.jsp</code></td> <td>æ‰€æœ‰ jsp æ ¼å¼çš„èµ„æºè¢«è®¿é—®çš„æ—¶å€™ï¼Œæ‰§è¡Œè¿‡æ»¤å™¨</td> </tr> <tr> <td><code>/*</code></td> <td>ä»»æ„èµ„æºè¢«è®¿é—®ï¼Œå‡æ‰§è¡Œè¿‡æ»¤å™¨</td> </tr> </tbody> </table> <p>æ‹¦æˆªæ–¹å¼é…ç½®ï¼šdispatcher</p> <p>æ‹¦æˆªæ–¹å¼é…ç½®ä¹Ÿå°±æ˜¯èµ„æºè¢«è®¿é—®çš„å½¢å¼ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªå±æ€§</p> <ul> <li>REQUESTï¼šé»˜è®¤å€¼ï¼Œæµè§ˆå™¨ç›´æ¥è¯·æ±‚èµ„æº</li> <li>FORWARDï¼šè½¬å‘è®¿é—®èµ„æºï¼š<code>RequestDispatcher.forward();</code></li> <li>INCLUDEï¼šåŒ…å«è®¿é—®èµ„æºï¼š<code>RequestDispatcher.include();</code></li> <li>ERRORï¼šé”™è¯¯è·³è½¬èµ„æºï¼šè¢«å£°æ˜å¼å¼‚å¸¸å¤„ç†æœºåˆ¶è°ƒç”¨çš„æ—¶å€™</li> </ul> <p><strong>ä½¿ç”¨æ³¨è§£é…ç½®</strong></p> <p>ä¸ Servlet ç›¸ä¼¼çš„é…ç½® ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå®ƒçš„åå­—å’Œæ‹¦æˆªè·¯å¾„ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nd">@WebFilter</span><span class="p">(</span><span class="n">filterName</span><span class="o">=</span><span class="s">"FilterDemo1"</span><span class="p">,</span><span class="n">urlPatters</span><span class="o">=</span><span class="s">"/*"</span><span class="p">)</span>
</span></code></pre></div> <p>ä½†æ˜¯ç›´æ¥åœ¨ç±»ä¸Šå£°æ˜æ³¨è§£ï¼Œæ˜¾ç„¶é‚£æ˜¯ä¸éœ€è¦æˆ‘ä»¬æŒ‡å®šå…¶åå­—çš„ï¼Œè€Œé€šè¿‡æŸ¥çœ‹æºç åˆå¯ä»¥çŸ¥é“ï¼ŒurlPatters åˆå¯ä»¥è¢« value æŒ‡å®šï¼Œè€Œ value åˆå¯ä»¥çœç•¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å†™ä¸ºï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nd">@WebFilter</span><span class="p">(</span><span class="s">"/*"</span><span class="p">)</span>
</span></code></pre></div> <p>è‹¥æƒ³åœ¨ Filter æ³¨è§£ä¸­é…ç½® dispatcherï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½® dispatcherTypes å±æ€§ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nd">@WebFilter</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"/*"</span><span class="p">,</span><span class="n">dispatcherTypes</span><span class="w"> </span><span class="o">=</span><span class="p">{</span><span class="n">DispatcherType</span><span class="p">.</span><span class="na">FORWARD</span><span class="p">,</span><span class="n">DispatcherType</span><span class="p">.</span><span class="na">FORWARD</span><span class="p">})</span>
</span></code></pre></div> <h3 id="52è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ">5.2ã€è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#52è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>é¦–å…ˆæ˜¯ <code>init(FilterConfig config)</code> æ–¹æ³•å’Œ <code>void destroy()</code> æ–¹æ³•ï¼ŒServlet ä¹Ÿæœ‰è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸¤è€…åˆ†åˆ«åœ¨æœåŠ¡å™¨å¯åŠ¨å’Œå…³é—­çš„æ—¶å€™è¢«åˆ›å»ºä»¥åŠé”€æ¯ï¼Œä¸¤è€…å‡æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºåŠ è½½ä»¥åŠé‡Šæ”¾èµ„æºã€‚</p> <p>å†è€…å°±æ˜¯è¿‡æ»¤å™¨çš„æ ¸å¿ƒæ–¹æ³•äº†ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">resp</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span>
</span></code></pre></div> <p><code>doFilter</code> æ–¹æ³•å°±æ˜¯çœŸæ­£è¿›è¡Œæ‹¦æˆªçš„æ–¹æ³•ï¼Œé€šè¿‡å‰ä¸¤ä¸ªå‚æ•°å¯ä»¥çŸ¥é“ï¼Œä¸è®ºæ˜¯ <code>Request</code> äº¦æˆ–æ˜¯ <code>Respone</code> éƒ½å¯ä»¥å¯¹å…¶è¿›è¡Œè¿‡æ»¤æ“ä½œï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p> <p>FilterChain çš„æºç :</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">FilterChain</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">var1</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">var2</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="p">;</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="p">}</span>
</span></code></pre></div> <p>å—¯ï¼<code>FilterChain</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ¥å£å†…ä¹Ÿå®šä¹‰äº†ä¸€ä¸ª <code>doFilter</code> æ–¹æ³•ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€å‘¢ï¼Ÿ</p> <p>è¿™æ˜¯ä¸€ç§é“¾å¼ç»“æ„ï¼Œåœ¨è¿™é‡Œç§°ä½œè¿‡æ»¤å™¨é“¾ï¼Œå…¶ä½œç”¨å°±æ˜¯ä¸ºäº†é…ç½®å¤šä¸ªè¿‡æ»¤å™¨ã€‚</p> <p>é‚£ä¹ˆï¼Œå¤šä¸ªè¿‡æ»¤å™¨è°å‰è°åå‘¢ï¼Ÿè¿™è¿˜ä¸å‰é¢çš„é…ç½®æœ‰å…³ï¼š</p> <ul> <li>æ³¨è§£é…ç½®ï¼šæŒ‰ç…§ç±»åå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œå€¼å°çš„å…ˆæ‰§è¡Œï¼ˆAFilterDemo ä¼˜å…ˆäº BFilterDemoï¼‰</li> <li>web.xml é…ç½®ï¼š<code>&lt;filter-mapping&gt;</code> ä¸­è°åœ¨ä¸Šé¢ï¼Œè°ä¼˜å…ˆæ‰§è¡Œ</li> </ul> <h2 id="6jsp-åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å«">6ã€JSP åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å«<a class="headerlink" href="#6jsp-åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å«" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <p>JSP ä¸­æœ‰ä¸¤ç§åŒ…å«ï¼š</p> <ul> <li>é™æ€åŒ…å«ï¼š<code>&lt;%@include file="è¢«åŒ…å«é¡µé¢"%&gt;</code></li> <li>åŠ¨æ€åŒ…å«ï¼š<code>&lt;jsp:include page="è¢«åŒ…å«é¡µé¢" flush="true"&gt;</code></li> </ul> <p>ä¸‹é¢ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨åŒ…å«</p> <p>é¡¹ç›®æ–‡ä»¶æ ‘ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20181212200247237.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20181212200247237.png" alt="img" style="style:60%;"></a></p> <p>header.jsp æ–‡ä»¶ä¸­å†…å®¹ï¼š</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="nt">&lt;head&gt;</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="nt">&lt;meta</span><span class="w"> </span><span class="na">http-equiv=</span><span class="s">"Content-Type"</span><span class="w"> </span><span class="na">content=</span><span class="s">"text/html; charset=GB18030"</span><span class="nt">&gt;</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="nt">&lt;title&gt;</span>Insert<span class="w"> </span>title<span class="w"> </span>here<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="nt">&lt;body&gt;</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="nt">&lt;h1&gt;</span>This<span class="w"> </span>is<span class="w"> </span>header<span class="err">&lt;</span>/<span class="nt">&lt;/h1&gt;</span>
</span></code></pre></div> <p>content.jsp æ–‡ä»¶ä¸­å†…å®¹ï¼š</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="nt">&lt;table</span><span class="w"> </span><span class="na">border=</span><span class="s">"1"</span><span class="nt">&gt;</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">        </span><span class="nt">&lt;td&gt;</span>col1<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">        </span><span class="nt">&lt;td&gt;</span>col2<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">        </span><span class="nt">&lt;td&gt;</span>col1<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">        </span><span class="nt">&lt;td&gt;</span>col2<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="nt">&lt;/table&gt;</span>
</span></code></pre></div> <p>footer.jsp æ–‡ä»¶ä¸­å†…å®¹ï¼š</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="nt">&lt;hr&gt;</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">    </span>copyright:<span class="w"> </span>1999-2010
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div> <p><strong>é™æ€åŒ…å«</strong></p> <p>index.jsp æ–‡ä»¶ä¸­å†…å®¹ï¼š</p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">"java"</span><span class="w"> </span><span class="n">import</span><span class="o">=</span><span class="s">"java.util.*"</span><span class="w"> </span><span class="n">pageEncoding</span><span class="o">=</span><span class="s">"GB18030"</span><span class="k">%&gt;</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="s">"/header.jsp"</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="s">"/content.jsp"</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="s">"/footer.jsp"</span><span class="w"> </span><span class="k">%&gt;</span>
</span></code></pre></div> <p>é¡µé¢æ˜¾ç¤ºç»“æœï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20181212200718992.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20181212200718992.png" alt="img" style="width:30%;"></a></p> <p>è¢«ç¼–è¯‘æˆçš„ Java æ–‡ä»¶ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20181212200734757.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20181212200734757.png" alt="img" style="width:35%;"></a></p> <p><strong>åŠ¨æ€åŒ…å«</strong></p> <div class="language-jsp highlight"><span class="filename">Java Server Page</span><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">"java"</span><span class="w"> </span><span class="n">import</span><span class="o">=</span><span class="s">"java.util.*"</span><span class="w"> </span><span class="n">pageEncoding</span><span class="o">=</span><span class="s">"GB18030"</span><span class="k">%&gt;</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="k">&lt;jsp:include page="/header.jsp"&gt;&lt;/jsp:include&gt;</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="k">&lt;jsp:include page="/content.jsp"&gt;&lt;/jsp:include&gt;</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="k">&lt;jsp:include page="/footer.jsp"&gt;&lt;/jsp:include&gt;</span>
</span></code></pre></div> <p>é¡µé¢æ˜¾ç¤ºç»“æœï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20181212200848170.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20181212200848170.png" alt="img" style="width:30%;"></a></p> <p>è¢«ç¼–è¯‘æˆçš„ Java æ–‡ä»¶ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/JavaWeb/20181212200858508.png" data-desc-position="bottom"><img src="!assets/JavaWeb/20181212200858508.png" alt="img" style="width:35%;"></a></p> <p>è¯´æ˜ï¼šä½¿ç”¨é™æ€åŒ…å«å’ŒåŠ¨æ€åŒ…å«æœ€ç»ˆçš„æ‰§è¡Œç»“æœç›¸åŒï¼Œä½†æ˜¯å®ç°è¿‡ç¨‹ä¸åŒï¼Œå¾ˆæ˜æ˜¾ç¼–è¯‘æˆçš„ Java æ–‡ä»¶æ•°ç›®ä¸åŒã€‚</p> <p><strong>é™æ€å’ŒåŠ¨æ€åŒ…å«çš„åŒºåˆ«ä¸è”ç³»</strong></p> <p>æ³¨ï¼šä¸‹æ–‡å°†åŒ…å«æœ‰å…¶å®ƒæ–‡ä»¶çš„ JSP æ–‡ä»¶ç§°ä¸ºä¸»ä½“æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸Šæ–‡ä¸­çš„ index.jsp æ–‡ä»¶ã€‚å°†è¢«åŒ…å«çš„æ–‡ä»¶ç§°ä¸ºåŒ…å«æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸Šæ–‡ä¸­çš„ header.jsp æ–‡ä»¶ã€‚</p> <ul> <li><code>&lt;%@ include file=""%&gt;</code> æ˜¯æŒ‡ä»¤å…ƒç´ ã€‚<code>&lt;jsp:include page=""/&gt;</code> æ˜¯è¡Œä¸ºå…ƒç´ </li> <li>æœ€ç»ˆç¼–è¯‘æˆ Java æ–‡ä»¶çš„æ•°ç›®ä¸åŒ<ul> <li>é™æ€åŒ…å«åœ¨è½¬æ¢æˆä¸º Java æ–‡ä»¶çš„æ—¶å€™å°†åŒ…å«æ–‡ä»¶çš„å†…å®¹ â€œå¤åˆ¶â€ åˆ°ä¸»ä½“æ–‡ä»¶ï¼Œç„¶åä½œä¸ºä¸€ä¸ª<strong>æ•´ä½“ç¼–è¯‘</strong>ï¼Œæœ€ç»ˆç¼–è¯‘ä¸ºä¸€ä¸ª Java æ–‡ä»¶ï¼›</li> <li>åŠ¨æ€åŒ…å«æ˜¯å„ä¸ª JSP æ–‡ä»¶åˆ†åˆ«è½¬æ¢ï¼Œ<strong>åˆ†åˆ«ç¼–è¯‘</strong>ã€‚æœ€ç»ˆç¼–è¯‘æˆå¤šä¸ª Java æ–‡ä»¶ã€‚</li> </ul> </li> <li>æ‰§è¡Œæ—¶é—´ä¸åŒ<ul> <li>é™æ€åŒ…å«å‘ç”Ÿåœ¨ï¼šJSP ==&gt; Java æ–‡ä»¶é˜¶æ®µã€‚</li> <li>åŠ¨æ€åŒ…å«å‘ç”Ÿåœ¨ï¼šæ‰§è¡Œ class æ–‡ä»¶é˜¶æ®µï¼ŒåŠ¨æ€åŠ å…¥ã€‚</li> </ul> </li> <li>é™æ€åŒ…å«åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­ä¸èƒ½æœ‰ç›¸åŒçš„å˜é‡ï¼ŒåŠ¨æ€åŒ…å«å…è®¸ã€‚<ul> <li>é™æ€åŒ…å«ç›¸å½“äºå°†åŒ…å«æ–‡ä»¶å†…å®¹ç›´æ¥å¤åˆ¶åˆ°ä¸»ä½“æ–‡ä»¶ä¸­ï¼Œå¦‚æœå‡ºç°ç›¸åŒçš„å˜é‡ï¼Œå°±ä¼šå‡ºç°è¦†ç›–ç­‰é—®é¢˜ï¼Œå¯¼è‡´æ–‡ä»¶å‡ºé”™ã€‚</li> <li>åŠ¨æ€åŒ…å«ç›¸å½“äºè°ƒç”¨ä¸åŒçš„ JSPï¼Œå˜é‡æ‰€åœ¨çš„ç©ºé—´ä¸åŒï¼Œè‡ªç„¶ä¸ä¼šå‡ºç°è¦†ç›–ç­‰ç°è±¡ã€‚</li> </ul> </li> <li>æ— è®ºæ˜¯åŠ¨æ€åŒ…å«è¿˜æ˜¯é™æ€åŒ…å«ï¼Œå…¶ Request å¯¹è±¡éƒ½æ˜¯ç›¸åŒçš„ã€‚<ul> <li>é™æ€åŒ…å«æœ€ç»ˆç¼–è¯‘æˆä¸€ä¸ª Java æ–‡ä»¶ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ª Request å¯¹è±¡ã€‚</li> <li>è€ŒåŠ¨æ€åŒ…å«æœ€ç»ˆç¼–è¯‘æˆå¤šä¸ª JSP æ–‡ä»¶ï¼Œ<strong>è¿™äº› JSP ç»„åˆçš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªè¯·æ±‚è½¬å‘çš„è¿‡ç¨‹</strong>ï¼Œè‡ªç„¶ä¹Ÿä½¿ç”¨åŒä¸€ä¸ª Request å¯¹è±¡äº†ã€‚</li> </ul> </li> </ul> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="æœ€åæ›´æ–°"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2026å¹´1æœˆ22æ—¥ 20:21:58 UTC">2026å¹´1æœˆ22æ—¥ 20:21:58</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="åˆ›å»ºæ—¥æœŸ"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2021å¹´4æœˆ26æ—¥ 11:39:30 UTC">2021å¹´4æœˆ26æ—¥ 11:39:30</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> å›åˆ°é¡µé¢é¡¶éƒ¨ </button> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.top", "navigation.tracking", "navigation.instant", "navigation.path", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src="../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../_javascripts/auto_title.js"></script> <script src="../_javascripts/search_boost.js"></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>