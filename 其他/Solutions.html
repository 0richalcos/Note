<!DOCTYPE html><html lang="zh" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://0richalcos.github.io/Note/%E5%85%B6%E4%BB%96/Solutions.html"><link rel="prev" href="Settings.html"><link rel="next" href="Weasel.html"><link rel="icon" href="../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Solutions - éšä¾¿è®°è®°</title><link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css"><link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../_stylesheets/extra.css"><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#1åç«¯" class="md-skip"> è·³è½¬è‡³ </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰"> <a href="../index.html" title="éšä¾¿è®°è®°" class="md-header__button md-logo" aria-label="éšä¾¿è®°è®°" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> éšä¾¿è®°è®° </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Solutions </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal" aria-label="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class="md-option" data-md-color-media data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal" aria-label="åˆ‡æ¢åˆ°äº®è‰²æ¨¡å¼" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="åˆ‡æ¢åˆ°äº®è‰²æ¨¡å¼" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class="md-header__source"> <a href="https://github.com/0richalcos/Note" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary" aria-label="å¯¼èˆªæ " data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../index.html" title="éšä¾¿è®°è®°" class="md-nav__button md-logo" aria-label="éšä¾¿è®°è®°" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> éšä¾¿è®°è®° </label> <div class="md-nav__source"> <a href="https://github.com/0richalcos/Note" title="å‰å¾€ä»“åº“" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> GitHub </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../index.html" class="md-nav__link"> <span class="md-ellipsis"> ğŸ  é¦–é¡µ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2"> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0"> <span class="md-ellipsis"> â™¨ï¸ Java </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> â™¨ï¸ Java </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../Java/Java.html" class="md-nav__link"> <span class="md-ellipsis"> Java </span> </a> </li> <li class="md-nav__item"> <a href="../Java/Java8.html" class="md-nav__link"> <span class="md-ellipsis"> Java 8 </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaBasics.html" class="md-nav__link"> <span class="md-ellipsis"> Java åŸºç¡€ </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaCollection.html" class="md-nav__link"> <span class="md-ellipsis"> Java é›†åˆ </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaObject.html" class="md-nav__link"> <span class="md-ellipsis"> Java ç±»å’Œå¯¹è±¡ </span> </a> </li> <li class="md-nav__item"> <a href="../Java/JavaWeb.html" class="md-nav__link"> <span class="md-ellipsis"> JavaWeb </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0"> <span class="md-ellipsis"> ğŸ§® æ•°æ®ç»“æ„åŠç®—æ³• </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> ğŸ§® æ•°æ®ç»“æ„åŠç®—æ³• </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/Algorithm.html" class="md-nav__link"> <span class="md-ellipsis"> Algorithm </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/DesignPattern.html" class="md-nav__link"> <span class="md-ellipsis"> DesignPattern </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-ellipsis"> ğŸƒ Spring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> ğŸƒ Spring </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../Spring/Spring.html" class="md-nav__link"> <span class="md-ellipsis"> Spring </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringBoot.html" class="md-nav__link"> <span class="md-ellipsis"> SpringBoot </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringCloud.html" class="md-nav__link"> <span class="md-ellipsis"> SpringCloud </span> </a> </li> <li class="md-nav__item"> <a href="../Spring/SpringMVC.html" class="md-nav__link"> <span class="md-ellipsis"> SpringMVC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0"> <span class="md-ellipsis"> ğŸ’¾ æŒä¹…å±‚æ¡†æ¶ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> ğŸ’¾ æŒä¹…å±‚æ¡†æ¶ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/MyBatis-Plus.html" class="md-nav__link"> <span class="md-ellipsis"> MyBatis-Plus </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/Mybatis.html" class="md-nav__link"> <span class="md-ellipsis"> Mybatis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0"> <span class="md-ellipsis"> ğŸ” è®¤è¯ä¸æˆæƒ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> ğŸ” è®¤è¯ä¸æˆæƒ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/SSO.html" class="md-nav__link"> <span class="md-ellipsis"> SSO </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/Sa-Token.html" class="md-nav__link"> <span class="md-ellipsis"> Sa-Token </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/Shiro.html" class="md-nav__link"> <span class="md-ellipsis"> Shiro </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7"> <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0"> <span class="md-ellipsis"> ğŸŒ å‰ç«¯ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> ğŸŒ å‰ç«¯ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/CSS.html" class="md-nav__link"> <span class="md-ellipsis"> CSS </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/JavaScript.html" class="md-nav__link"> <span class="md-ellipsis"> JavaScript </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/Vue.html" class="md-nav__link"> <span class="md-ellipsis"> Vue </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/jQuery.html" class="md-nav__link"> <span class="md-ellipsis"> jQuery </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/Thymeleaf.html" class="md-nav__link"> <span class="md-ellipsis"> Thymeleaf </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6"> <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0"> <span class="md-ellipsis"> ç»„ä»¶åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_6"> <span class="md-nav__icon md-icon"></span> ç»„ä»¶åº“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/AntV-X6.html" class="md-nav__link"> <span class="md-ellipsis"> AntV-X6 </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/ApacheECharts.html" class="md-nav__link"> <span class="md-ellipsis"> ApacheECharts </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/Axios.html" class="md-nav__link"> <span class="md-ellipsis"> Axios </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/BootstrapTable.html" class="md-nav__link"> <span class="md-ellipsis"> BootstrapTable </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/DHTMLXGantt.html" class="md-nav__link"> <span class="md-ellipsis"> DHTMLXGantt </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/Element.html" class="md-nav__link"> <span class="md-ellipsis"> Element </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/FullCalendar.html" class="md-nav__link"> <span class="md-ellipsis"> FullCalendar </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%89%8D%E7%AB%AF/%E7%BB%84%E4%BB%B6%E5%BA%93/X-editable.html" class="md-nav__link"> <span class="md-ellipsis"> X-editable </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8"> <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0"> <span class="md-ellipsis"> ğŸ“Š æ•°æ®åº“ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8"> <span class="md-nav__icon md-icon"></span> ğŸ“Š æ•°æ®åº“ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Dameng.html" class="md-nav__link"> <span class="md-ellipsis"> Dameng </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html" class="md-nav__link"> <span class="md-ellipsis"> MySQL </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/MySQLQuery.html" class="md-nav__link"> <span class="md-ellipsis"> MySQLQuery </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/OceanBase.html" class="md-nav__link"> <span class="md-ellipsis"> OceanBase </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle.html" class="md-nav__link"> <span class="md-ellipsis"> Oracle </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html" class="md-nav__link"> <span class="md-ellipsis"> Redis </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%95%B0%E6%8D%AE%E5%BA%93/Vastbase.html" class="md-nav__link"> <span class="md-ellipsis"> Vastbase </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/Elasticsearch.html" class="md-nav__link"> <span class="md-ellipsis"> Elasticsearch </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10"> <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0"> <span class="md-ellipsis"> ğŸ“‡ åˆ†å¸ƒå¼å­˜å‚¨ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_10"> <span class="md-nav__icon md-icon"></span> ğŸ“‡ åˆ†å¸ƒå¼å­˜å‚¨ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/FastDFS.html" class="md-nav__link"> <span class="md-ellipsis"> FastDFS </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8/MinIO.html" class="md-nav__link"> <span class="md-ellipsis"> MinIO </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11"> <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0"> <span class="md-ellipsis"> ğŸ›°ï¸ ç½‘ç»œé€šä¿¡ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_11"> <span class="md-nav__icon md-icon"></span> ğŸ›°ï¸ ç½‘ç»œé€šä¿¡ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/Encryption.html" class="md-nav__link"> <span class="md-ellipsis"> Encryption </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/HTTP.html" class="md-nav__link"> <span class="md-ellipsis"> HTTP </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/OpenVPN.html" class="md-nav__link"> <span class="md-ellipsis"> OpenVPN </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/VNC.html" class="md-nav__link"> <span class="md-ellipsis"> VNC </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/WebSocket.html" class="md-nav__link"> <span class="md-ellipsis"> WebSocket </span> </a> </li> <li class="md-nav__item"> <a href="../%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/frp.html" class="md-nav__link"> <span class="md-ellipsis"> frp </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12"> <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0"> <span class="md-ellipsis"> ğŸ—ƒï¸ æ–‡ä»¶å¤„ç† </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12"> <span class="md-nav__icon md-icon"></span> ğŸ—ƒï¸ æ–‡ä»¶å¤„ç† </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1"> <label class="md-nav__link" for="__nav_12_1" id="__nav_12_1_label" tabindex="0"> <span class="md-ellipsis"> Office </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_1_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_12_1"> <span class="md-nav__icon md-icon"></span> Office </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/ApachePOI.html" class="md-nav__link"> <span class="md-ellipsis"> ApachePOI </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/EasyExcel.html" class="md-nav__link"> <span class="md-ellipsis"> EasyExcel </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/OnlyOffice.html" class="md-nav__link"> <span class="md-ellipsis"> OnlyOffice </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/Poi-tl.html" class="md-nav__link"> <span class="md-ellipsis"> Poi-tl </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Office/Spire.OfficeForJava.html" class="md-nav__link"> <span class="md-ellipsis"> Spire.OfficeForJava </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/PDF/ApachePDFBox.html" class="md-nav__link"> <span class="md-ellipsis"> ApachePDFBox </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/XML/XMLParse.html" class="md-nav__link"> <span class="md-ellipsis"> XMLParse </span> </a> </li> <li class="md-nav__item"> <a href="../%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/ZIP/Zip4j.html" class="md-nav__link"> <span class="md-ellipsis"> Zip4j </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/XXL-JOB.html" class="md-nav__link"> <span class="md-ellipsis"> XXL-JOB </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14"> <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0"> <span class="md-ellipsis"> ğŸ§‘â€ğŸ”§ è¿ç»´ </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_14"> <span class="md-nav__icon md-icon"></span> ğŸ§‘â€ğŸ”§ è¿ç»´ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Docker.html" class="md-nav__link"> <span class="md-ellipsis"> Docker </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Linux.html" class="md-nav__link"> <span class="md-ellipsis"> Linux </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/NSSM.html" class="md-nav__link"> <span class="md-ellipsis"> NSSM </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Nginx.html" class="md-nav__link"> <span class="md-ellipsis"> Nginx </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/Tomcat.html" class="md-nav__link"> <span class="md-ellipsis"> Tomcat </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/TongWeb.html" class="md-nav__link"> <span class="md-ellipsis"> TongWeb </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/WSL.html" class="md-nav__link"> <span class="md-ellipsis"> WSL </span> </a> </li> <li class="md-nav__item"> <a href="../%E8%BF%90%E7%BB%B4/WebLogic.html" class="md-nav__link"> <span class="md-ellipsis"> WebLogic </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15"> <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0"> <span class="md-ellipsis"> ğŸ› ï¸ å¼€å‘å·¥å…· </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_15"> <span class="md-nav__icon md-icon"></span> ğŸ› ï¸ å¼€å‘å·¥å…· </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git.html" class="md-nav__link"> <span class="md-ellipsis"> Git </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Maven.html" class="md-nav__link"> <span class="md-ellipsis"> Maven </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Node.js.html" class="md-nav__link"> <span class="md-ellipsis"> Node.js </span> </a> </li> <li class="md-nav__item"> <a href="../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Swagger.html" class="md-nav__link"> <span class="md-ellipsis"> Swagger </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" checked> <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0"> <span class="md-ellipsis"> ğŸ‘» å…¶ä»– </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_16"> <span class="md-nav__icon md-icon"></span> ğŸ‘» å…¶ä»– </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="Settings.html" class="md-nav__link"> <span class="md-ellipsis"> Settings </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Solutions </span> <span class="md-nav__icon md-icon"></span> </label> <a href="Solutions.html" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> Solutions </span> </a> <nav class="md-nav md-nav--secondary" aria-label="ç›®å½•"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#1åç«¯" class="md-nav__link"> <span class="md-ellipsis"> 1ã€åç«¯ </span> </a> <nav class="md-nav" aria-label="1ã€åç«¯"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1java-é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°" class="md-nav__link"> <span class="md-ellipsis"> ã€1ã€‘Java é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•° </span> </a> <nav class="md-nav" aria-label="ã€1ã€‘Java é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#11bufferedreader" class="md-nav__link"> <span class="md-ellipsis"> 1.1ã€BufferedReader </span> </a> </li> <li class="md-nav__item"> <a href="#12linenumberreader" class="md-nav__link"> <span class="md-ellipsis"> 1.2ã€LineNumberReader </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2javanetunknownhostexception-å¼‚å¸¸" class="md-nav__link"> <span class="md-ellipsis"> ã€2ã€‘java.Net.UnknownHostException å¼‚å¸¸ </span> </a> </li> <li class="md-nav__item"> <a href="#3json-parse-error-invalid-utf-8-middle-byte-0x3f" class="md-nav__link"> <span class="md-ellipsis"> ã€3ã€‘JSON parse error: Invalid UTF-8 middle byte 0x3f </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2å‰ç«¯" class="md-nav__link"> <span class="md-ellipsis"> 2ã€å‰ç«¯ </span> </a> <nav class="md-nav" aria-label="2ã€å‰ç«¯"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1html-é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶" class="md-nav__link"> <span class="md-ellipsis"> ã€1ã€‘HTML é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶ </span> </a> </li> <li class="md-nav__item"> <a href="#2js-åˆ¤æ–­-nan-å’Œä¿ç•™ä¸¤ä½å°æ•°" class="md-nav__link"> <span class="md-ellipsis"> ã€2ã€‘JS åˆ¤æ–­ NaN å’Œä¿ç•™ä¸¤ä½å°æ•° </span> </a> </li> <li class="md-nav__item"> <a href="#3js-å›¾ç‰‡é¢„è§ˆ" class="md-nav__link"> <span class="md-ellipsis"> ã€3ã€‘JS å›¾ç‰‡é¢„è§ˆ </span> </a> </li> <li class="md-nav__item"> <a href="#4ajax-è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜" class="md-nav__link"> <span class="md-ellipsis"> ã€4ã€‘AJAX è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜ </span> </a> </li> <li class="md-nav__item"> <a href="#5è·å–éªŒè¯ç æŒ‰é’®" class="md-nav__link"> <span class="md-ellipsis"> ã€5ã€‘è·å–éªŒè¯ç æŒ‰é’® </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#3æ··åˆåŒæ‰“" class="md-nav__link"> <span class="md-ellipsis"> 3ã€æ··åˆåŒæ‰“ </span> </a> <nav class="md-nav" aria-label="3ã€æ··åˆåŒæ‰“"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1ajax-ä¸Šä¼ ä¸‹è½½æ–‡ä»¶" class="md-nav__link"> <span class="md-ellipsis"> ã€1ã€‘AJAX ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶ </span> </a> </li> <li class="md-nav__item"> <a href="#2è¿”å›å‰ç«¯-long-ä¸¢å¤±ç²¾åº¦" class="md-nav__link"> <span class="md-ellipsis"> ã€2ã€‘è¿”å›å‰ç«¯ Long ä¸¢å¤±ç²¾åº¦ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="Weasel.html" class="md-nav__link"> <span class="md-ellipsis"> Weasel </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="ç›®å½•"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> ç›®å½• </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#1åç«¯" class="md-nav__link"> <span class="md-ellipsis"> 1ã€åç«¯ </span> </a> <nav class="md-nav" aria-label="1ã€åç«¯"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1java-é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°" class="md-nav__link"> <span class="md-ellipsis"> ã€1ã€‘Java é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•° </span> </a> <nav class="md-nav" aria-label="ã€1ã€‘Java é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#11bufferedreader" class="md-nav__link"> <span class="md-ellipsis"> 1.1ã€BufferedReader </span> </a> </li> <li class="md-nav__item"> <a href="#12linenumberreader" class="md-nav__link"> <span class="md-ellipsis"> 1.2ã€LineNumberReader </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2javanetunknownhostexception-å¼‚å¸¸" class="md-nav__link"> <span class="md-ellipsis"> ã€2ã€‘java.Net.UnknownHostException å¼‚å¸¸ </span> </a> </li> <li class="md-nav__item"> <a href="#3json-parse-error-invalid-utf-8-middle-byte-0x3f" class="md-nav__link"> <span class="md-ellipsis"> ã€3ã€‘JSON parse error: Invalid UTF-8 middle byte 0x3f </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#2å‰ç«¯" class="md-nav__link"> <span class="md-ellipsis"> 2ã€å‰ç«¯ </span> </a> <nav class="md-nav" aria-label="2ã€å‰ç«¯"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1html-é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶" class="md-nav__link"> <span class="md-ellipsis"> ã€1ã€‘HTML é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶ </span> </a> </li> <li class="md-nav__item"> <a href="#2js-åˆ¤æ–­-nan-å’Œä¿ç•™ä¸¤ä½å°æ•°" class="md-nav__link"> <span class="md-ellipsis"> ã€2ã€‘JS åˆ¤æ–­ NaN å’Œä¿ç•™ä¸¤ä½å°æ•° </span> </a> </li> <li class="md-nav__item"> <a href="#3js-å›¾ç‰‡é¢„è§ˆ" class="md-nav__link"> <span class="md-ellipsis"> ã€3ã€‘JS å›¾ç‰‡é¢„è§ˆ </span> </a> </li> <li class="md-nav__item"> <a href="#4ajax-è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜" class="md-nav__link"> <span class="md-ellipsis"> ã€4ã€‘AJAX è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜ </span> </a> </li> <li class="md-nav__item"> <a href="#5è·å–éªŒè¯ç æŒ‰é’®" class="md-nav__link"> <span class="md-ellipsis"> ã€5ã€‘è·å–éªŒè¯ç æŒ‰é’® </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#3æ··åˆåŒæ‰“" class="md-nav__link"> <span class="md-ellipsis"> 3ã€æ··åˆåŒæ‰“ </span> </a> <nav class="md-nav" aria-label="3ã€æ··åˆåŒæ‰“"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1ajax-ä¸Šä¼ ä¸‹è½½æ–‡ä»¶" class="md-nav__link"> <span class="md-ellipsis"> ã€1ã€‘AJAX ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶ </span> </a> </li> <li class="md-nav__item"> <a href="#2è¿”å›å‰ç«¯-long-ä¸¢å¤±ç²¾åº¦" class="md-nav__link"> <span class="md-ellipsis"> ã€2ã€‘è¿”å›å‰ç«¯ Long ä¸¢å¤±ç²¾åº¦ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <nav class="md-path" aria-label="å¯¼èˆªæ "> <ol class="md-path__list"> <li class="md-path__item"> <a href="../index.html" class="md-path__link"> <span class="md-ellipsis"> ğŸ  é¦–é¡µ </span> </a> </li> <li class="md-path__item"> <a href="Settings.html" class="md-path__link"> <span class="md-ellipsis"> ğŸ‘» å…¶ä»– </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id="solutions">Solutions<a class="headerlink" href="#solutions" title="é”šç‚¹é“¾æ¥">Â¶</a></h1> <h2 id="1åç«¯">1ã€åç«¯<a class="headerlink" href="#1åç«¯" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="1java-é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°">ã€1ã€‘Java é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°<a class="headerlink" href="#1java-é«˜æ•ˆè·å–å¤§æ–‡ä»¶çš„è¡Œæ•°" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>æ–¹å¼ 1 : åˆ©ç”¨ LineNumberReader</strong></p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getFileLineNum</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">filePath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">LineNumberReader</span><span class="w"> </span><span class="n">lineNumberReader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LineNumberReader</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">))){</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">        </span><span class="n">lineNumberReader</span><span class="p">.</span><span class="na">skip</span><span class="p">(</span><span class="n">Long</span><span class="p">.</span><span class="na">MAX_VALUE</span><span class="p">);</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">lineNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lineNumberReader</span><span class="p">.</span><span class="na">getLineNumber</span><span class="p">();</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">lineNumber</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="c1">//å®é™…ä¸Šæ˜¯è¯»å–æ¢è¡Œç¬¦æ•°é‡ , æ‰€ä»¥éœ€è¦+1</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">}</span>
</span></code></pre></div> <p><strong>æ–¹å¼ 2 : Java 8 æ–°çš„å·¥å…·æ–¹æ³•</strong></p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">getFileLineNum</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">filePath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">lines</span><span class="p">(</span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">filePath</span><span class="p">)).</span><span class="na">count</span><span class="p">();</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">}</span>
</span></code></pre></div> <p>å®é™…ä¸Š , Java 8 çš„æ–°æ–¹æ³•æ—¶é—´ä¸Šå¹¶æ²¡æœ‰ LineNumberReader å¿«ã€‚ç»æµ‹è¯•å¦‚ä¸‹ï¼š</p> <table> <thead> <tr> <th>æ–‡ä»¶å¤§å°ï¼ˆè¡Œæ•°ï¼‰</th> <th>LineNumberReader è€—æ—¶</th> <th>Java 8 æ–¹æ³•è€—æ—¶</th> </tr> </thead> <tbody> <tr> <td>9656204</td> <td>1098 ms</td> <td>1385 ms</td> </tr> <tr> <td>29691684</td> <td>1512 ms</td> <td>2237 ms</td> </tr> </tbody> </table> <h4 id="11bufferedreader">1.1ã€BufferedReader<a class="headerlink" href="#11bufferedreader" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p>BufferedReader æä¾›äº†ä¸‹é¢ä¸¤ä¸ªåŠŸèƒ½ï¼š</p> <ol> <li>åœ¨æ™®é€š Reader çš„åŸºç¡€ä¸Šï¼Œæä¾›äº†ç¼“å†²åŠŸèƒ½ï¼Œå¯ä»¥æ›´åŠ é«˜æ•ˆçš„è¯»å–ï¼›</li> <li>æä¾›äº†è¯»å–ä¸€è¡Œçš„åŠŸèƒ½ï¼š<code>readLine()</code>ã€‚</li> </ol> <h4 id="12linenumberreader">1.2ã€LineNumberReader<a class="headerlink" href="#12linenumberreader" title="é”šç‚¹é“¾æ¥">Â¶</a></h4> <p><code>Java.io.LineNumberReader</code> ç±»æ˜¯ä¸€ä¸ªç¼“å†²çš„å­—ç¬¦è¾“å…¥æµï¼Œç”¨äºè·Ÿè¸ªè¡Œå·ã€‚è¡Œè¢«è§†ä¸ºç”±æ¢è¡Œç¬¦ <code>\n</code>ã€å›è½¦ç¬¦ <code>\r</code>æˆ–è€…å›è½¦åç«‹å³æ¢è¡Œã€‚</p> <p>LineNumberReader ç»§æ‰¿è‡ª BufferedReaderï¼Œå¹¶ä¸”å¢åŠ äº†ä¸‹é¢ä¸¤ä¸ªåŠŸèƒ½ï¼š</p> <ol> <li>è·å–è¡Œå·ï¼š<code>getLineNumber()</code></li> <li>è®¾ç½®è¡Œå·ï¼š<code>setLineNumber()</code></li> </ol> <p><strong>æ„é€ å‡½æ•°</strong></p> <table> <thead> <tr> <th>åºå·</th> <th>æ„é€ å‡½æ•°ä¸è¯´æ˜</th> </tr> </thead> <tbody> <tr> <td>1</td> <td><code>LineNumberReader(Reader in)</code><br>è¿™å°†ä½¿ç”¨é»˜è®¤çš„è¾“å…¥ç¼“å†²åŒºå¤§å°åˆ›å»ºä¸€ä¸ªæ–°çš„è¡Œå·è¯»å–å™¨ã€‚</td> </tr> <tr> <td>2</td> <td><code>LineNumberReader(Reader in, int sz)</code><br>è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„è¡Œå·è¯»å–å™¨ï¼Œå°†å­—ç¬¦è¯»å–åˆ°ç»™å®šå¤§å°çš„ç¼“å†²åŒºä¸­ã€‚</td> </tr> </tbody> </table> <p><strong>ç±»æ–¹æ³•</strong></p> <table> <thead> <tr> <th>åºå·</th> <th>æ–¹æ³•ä¸è¯´æ˜</th> </tr> </thead> <tbody> <tr> <td>1</td> <td><code>int getLineNumber()</code><br>æ­¤æ–¹æ³•è·å–å½“å‰è¡Œå·ã€‚</td> </tr> <tr> <td>2</td> <td><code>void mark(int readAheadLimit)</code><br>æ­¤æ–¹æ³•æ ‡è®°æµä¸­çš„å½“å‰ä½ç½®ã€‚</td> </tr> <tr> <td>3</td> <td><code>int read()</code><br>æ­¤æ–¹æ³•è¯»å–å•ä¸ªå­—ç¬¦ã€‚</td> </tr> <tr> <td>4</td> <td><code>int read(char[] cbuf, int off, int len)</code><br>æ­¤æ–¹æ³•å°†å­—ç¬¦è¯»å…¥æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚</td> </tr> <tr> <td>5</td> <td><code>String readLine()</code><br>æ­¤æ–¹æ³•è¯»å–ä¸€è¡Œæ–‡æœ¬ã€‚</td> </tr> <tr> <td>6</td> <td><code>void reset()</code><br>æ­¤æ–¹æ³•å°†æµé‡ç½®ä¸ºæœ€æ–°æ ‡è®°ã€‚</td> </tr> <tr> <td>7</td> <td><code>void setLineNumber(int lineNumber)</code><br>æ­¤æ–¹æ³•è®¾ç½®å½“å‰è¡Œå·ã€‚</td> </tr> <tr> <td>8</td> <td><code>long skip(long n)</code><br>æ­¤æ–¹æ³•è·³è¿‡ <em>n</em> ä¸ªå­—ç¬¦ï¼Œè¿”å›å®é™…è·³è¿‡çš„å­—ç¬¦æ•°ã€‚</td> </tr> </tbody> </table> <h3 id="2javanetunknownhostexception-å¼‚å¸¸">ã€2ã€‘java.Net.UnknownHostException å¼‚å¸¸<a class="headerlink" href="#2javanetunknownhostexception-å¼‚å¸¸" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>åœ¨ç»Ÿä¿¡ UOS ä¸Šå¯åŠ¨ SpringBoot é¡¹ç›®çš„æ—¶å€™å‡ºç°äº† [ Java.NET.UnknownHostExceptionï¼šåŸŸåè§£ææš‚æ—¶å¤±è´¥ ] å¼‚å¸¸ã€‚</p> <p>é—®é¢˜åŸå› æ˜¯åœ¨ç³»ç»Ÿçš„ <code>/etc/hostname</code> ä¸­é…ç½®äº†ä¸»æœºåï¼Œè€Œåœ¨ <code>/etc/hosts</code> æ–‡ä»¶ä¸­æ²¡æœ‰ç›¸åº”çš„é…ç½®ã€‚</p> <p>ç®€å•çš„è§£å†³åŠæ³•æ˜¯å¯¹åº”å…³ç³»é…å¥½å°±å¯ä»¥ï¼Œç”šè‡³åˆ é™¤ <code>/etc/Hostname</code> è¿™ä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥ã€‚</p> <p><strong>æ·±å±‚çš„åŸå› </strong></p> <p>åœ¨å¤§å¤šæ•° Linux æ“ä½œç³»ç»Ÿä¸­ï¼Œéƒ½æ˜¯ä»¥ <code>/etc/hosts</code> ä¸­çš„é…ç½®æŸ¥æ‰¾ä¸»æœºåçš„ï¼Œä½†æ˜¯ Detian ç­‰ä¸€äº›ç³»ç»Ÿä¹Ÿç”¨ <code>/etc/hostname</code> æ–‡ä»¶ä¸­çš„é…ç½®åšä¸»æœºåã€‚</p> <p>è€Œ Java çš„ <code>InetAddress</code> è°ƒç”¨ <code>InetAddressImpl</code> çš„ <code>public native String getLocalHostName() throws UnknownHostException;</code> æ¥è·å–æœ¬åœ°ä¸»æœºåï¼ŒJava çš„è¿™ä¸ªæ–¹æ³•æ˜¯ <code>native</code> çš„ï¼Œæ˜¯æœ¬åœ°ç³»ç»Ÿçš„ä¸€ä¸ªå®ç°ï¼Œæ‰€ä»¥åœ¨æœ¬åœ°é…ç½®å‡ºç°é—®é¢˜çš„æƒ…å†µä¸‹ï¼ŒJava ä»£ç å‡ºç°é—®é¢˜ã€‚</p> <p>hostname æŸ¥çœ‹æœ¬æœºåç§°,</p> <ul> <li> <p>è‹¥æœ¬æœºåç§°ä¸æ˜¯ä¸€ä¸ª IP åœ°å€ï¼Œæ¯”å¦‚æ˜¯ "Orichalcos"ï¼Œåˆ™å¿…é¡»åœ¨ <code>/etc/hosts</code> ä¸­é…ç½® "Orichalcos" å¯¹åº”æœ¬æœº IPï¼Œå¦åˆ™ <code>java.net.InetAddress.getLocalHost</code> ä¼šæŠ›å‡º <code>java.Net.UnknownHostException</code>å¼‚å¸¸ã€‚</p> <blockquote> <p>é…ç½®æ ¼å¼ä¸ºï¼ˆç¤ºä¾‹ï¼‰ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>æœ¬æœºIP  Orichalcos
</span></code></pre></div> </blockquote> </li> <li> <p>è‹¥æœ¬æœºåç§°æ˜¯ä¸€ä¸ª IP åœ°å€ï¼Œè€Œä¸”å¿…é¡»æ˜¯æœ¬æœºæŸå—ç½‘å¡çš„ IPã€‚</p> </li> </ul> <h3 id="3json-parse-error-invalid-utf-8-middle-byte-0x3f">ã€3ã€‘JSON parse error: Invalid UTF-8 middle byte 0x3f<a class="headerlink" href="#3json-parse-error-invalid-utf-8-middle-byte-0x3f" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>POST è¯·æ±‚ JSON å‰ç«¯ä¼ å€¼ä¹±ç ï¼š</p> <div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid UTF-8 middle byte 0x3f
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a> at [Source: java.io.PushbackInputStream@40f9cfc2; line: 1, column: 149931]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0x3f
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a> at [Source: java.io.PushbackInputStream@40f9cfc2; line: 1, column: 149931]
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:238)
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:223)
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:201)
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>        at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:150)
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>        at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:128)
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>        at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>        at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158)
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128)
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>        at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>        at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>        at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:124)
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:208)
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a>        at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a>        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
</span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-50"><a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-51"><a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a>        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
</span><span id="__span-3-52"><a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a>        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
</span><span id="__span-3-53"><a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-54"><a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-55"><a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a>        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
</span><span id="__span-3-56"><a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a>        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
</span><span id="__span-3-57"><a id="__codelineno-3-57" name="__codelineno-3-57" href="#__codelineno-3-57"></a>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
</span><span id="__span-3-58"><a id="__codelineno-3-58" name="__codelineno-3-58" href="#__codelineno-3-58"></a>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
</span><span id="__span-3-59"><a id="__codelineno-3-59" name="__codelineno-3-59" href="#__codelineno-3-59"></a>        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
</span><span id="__span-3-60"><a id="__codelineno-3-60" name="__codelineno-3-60" href="#__codelineno-3-60"></a>        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
</span><span id="__span-3-61"><a id="__codelineno-3-61" name="__codelineno-3-61" href="#__codelineno-3-61"></a>        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
</span><span id="__span-3-62"><a id="__codelineno-3-62" name="__codelineno-3-62" href="#__codelineno-3-62"></a>        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
</span><span id="__span-3-63"><a id="__codelineno-3-63" name="__codelineno-3-63" href="#__codelineno-3-63"></a>        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
</span><span id="__span-3-64"><a id="__codelineno-3-64" name="__codelineno-3-64" href="#__codelineno-3-64"></a>        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
</span><span id="__span-3-65"><a id="__codelineno-3-65" name="__codelineno-3-65" href="#__codelineno-3-65"></a>        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
</span><span id="__span-3-66"><a id="__codelineno-3-66" name="__codelineno-3-66" href="#__codelineno-3-66"></a>        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
</span><span id="__span-3-67"><a id="__codelineno-3-67" name="__codelineno-3-67" href="#__codelineno-3-67"></a>        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
</span><span id="__span-3-68"><a id="__codelineno-3-68" name="__codelineno-3-68" href="#__codelineno-3-68"></a>        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
</span><span id="__span-3-69"><a id="__codelineno-3-69" name="__codelineno-3-69" href="#__codelineno-3-69"></a>        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
</span><span id="__span-3-70"><a id="__codelineno-3-70" name="__codelineno-3-70" href="#__codelineno-3-70"></a>        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
</span><span id="__span-3-71"><a id="__codelineno-3-71" name="__codelineno-3-71" href="#__codelineno-3-71"></a>        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
</span><span id="__span-3-72"><a id="__codelineno-3-72" name="__codelineno-3-72" href="#__codelineno-3-72"></a>        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
</span><span id="__span-3-73"><a id="__codelineno-3-73" name="__codelineno-3-73" href="#__codelineno-3-73"></a>        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
</span><span id="__span-3-74"><a id="__codelineno-3-74" name="__codelineno-3-74" href="#__codelineno-3-74"></a>        at java.lang.Thread.run(Unknown Source)
</span><span id="__span-3-75"><a id="__codelineno-3-75" name="__codelineno-3-75" href="#__codelineno-3-75"></a>Caused by: com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0x3f
</span><span id="__span-3-76"><a id="__codelineno-3-76" name="__codelineno-3-76" href="#__codelineno-3-76"></a> at [Source: java.io.PushbackInputStream@40f9cfc2; line: 1, column: 149931]
</span><span id="__span-3-77"><a id="__codelineno-3-77" name="__codelineno-3-77" href="#__codelineno-3-77"></a>        at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)
</span><span id="__span-3-78"><a id="__codelineno-3-78" name="__codelineno-3-78" href="#__codelineno-3-78"></a>        at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)
</span><span id="__span-3-79"><a id="__codelineno-3-79" name="__codelineno-3-79" href="#__codelineno-3-79"></a>        at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1611)
</span><span id="__span-3-80"><a id="__codelineno-3-80" name="__codelineno-3-80" href="#__codelineno-3-80"></a>        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:359)
</span><span id="__span-3-81"><a id="__codelineno-3-81" name="__codelineno-3-81" href="#__codelineno-3-81"></a>        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:148)
</span><span id="__span-3-82"><a id="__codelineno-3-82" name="__codelineno-3-82" href="#__codelineno-3-82"></a>        at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3814)
</span><span id="__span-3-83"><a id="__codelineno-3-83" name="__codelineno-3-83" href="#__codelineno-3-83"></a>        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2938)
</span><span id="__span-3-84"><a id="__codelineno-3-84" name="__codelineno-3-84" href="#__codelineno-3-84"></a>        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:235)
</span><span id="__span-3-85"><a id="__codelineno-3-85" name="__codelineno-3-85" href="#__codelineno-3-85"></a>        ... 71 more
</span><span id="__span-3-86"><a id="__codelineno-3-86" name="__codelineno-3-86" href="#__codelineno-3-86"></a>Caused by: com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 middle byte 0x3f
</span><span id="__span-3-87"><a id="__codelineno-3-87" name="__codelineno-3-87" href="#__codelineno-3-87"></a> at [Source: java.io.PushbackInputStream@40f9cfc2; line: 1, column: 149931]
</span><span id="__span-3-88"><a id="__codelineno-3-88" name="__codelineno-3-88" href="#__codelineno-3-88"></a>        at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1702)
</span><span id="__span-3-89"><a id="__codelineno-3-89" name="__codelineno-3-89" href="#__codelineno-3-89"></a>        at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:558)
</span><span id="__span-3-90"><a id="__codelineno-3-90" name="__codelineno-3-90" href="#__codelineno-3-90"></a>        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidOther(UTF8StreamJsonParser.java:3550)
</span><span id="__span-3-91"><a id="__codelineno-3-91" name="__codelineno-3-91" href="#__codelineno-3-91"></a>        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidOther(UTF8StreamJsonParser.java:3557)
</span><span id="__span-3-92"><a id="__codelineno-3-92" name="__codelineno-3-92" href="#__codelineno-3-92"></a>        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._decodeUtf8_3fast(UTF8StreamJsonParser.java:3364)
</span><span id="__span-3-93"><a id="__codelineno-3-93" name="__codelineno-3-93" href="#__codelineno-3-93"></a>        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._finishString2(UTF8StreamJsonParser.java:2521)
</span><span id="__span-3-94"><a id="__codelineno-3-94" name="__codelineno-3-94" href="#__codelineno-3-94"></a>        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._finishAndReturnString(UTF8StreamJsonParser.java:2469)
</span><span id="__span-3-95"><a id="__codelineno-3-95" name="__codelineno-3-95" href="#__codelineno-3-95"></a>        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.getText(UTF8StreamJsonParser.java:315)
</span><span id="__span-3-96"><a id="__codelineno-3-96" name="__codelineno-3-96" href="#__codelineno-3-96"></a>        at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:36)
</span><span id="__span-3-97"><a id="__codelineno-3-97" name="__codelineno-3-97" href="#__codelineno-3-97"></a>        at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11)
</span><span id="__span-3-98"><a id="__codelineno-3-98" name="__codelineno-3-98" href="#__codelineno-3-98"></a>        at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:504)
</span><span id="__span-3-99"><a id="__codelineno-3-99" name="__codelineno-3-99" href="#__codelineno-3-99"></a>        at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:104)
</span><span id="__span-3-100"><a id="__codelineno-3-100" name="__codelineno-3-100" href="#__codelineno-3-100"></a>        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:357)
</span><span id="__span-3-101"><a id="__codelineno-3-101" name="__codelineno-3-101" href="#__codelineno-3-101"></a>        ... 75 more
</span><span id="__span-3-102"><a id="__codelineno-3-102" name="__codelineno-3-102" href="#__codelineno-3-102"></a>2022-07-22 13:15:44.855 [http-nio-9520-exec-14] ERROR com.xxx.xxx.global.GlobalExceptionHandler - å¼•å‘å¼‚å¸¸ç±»ï¼ŒJsonMappingExceptionï¼›å¼‚å¸¸ä¿¡æ¯ï¼ŒJSON parse error: Invalid UTF-8 middle byte 0x3f
</span><span id="__span-3-103"><a id="__codelineno-3-103" name="__codelineno-3-103" href="#__codelineno-3-103"></a> at [Source: java.io.PushbackInputStream@40f9cfc2; line: 1, column: 149931]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0x3f
</span></code></pre></div> <p><strong>è§£å†³æ–¹æ³•</strong></p> <ol> <li> <p>åœ¨ pom.xml æ–‡ä»¶æ ‡ç­¾ä¸­æ·»åŠ ï¼š</p> <div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&lt;plugin&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>2.17<span class="nt">&lt;/version&gt;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="nt">&lt;configuration&gt;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">        </span><span class="nt">&lt;testFailureIgnore&gt;</span>true<span class="nt">&lt;/testFailureIgnore&gt;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">        </span><span class="nt">&lt;argLine&gt;</span>-Dfile.encoding=UTF-8<span class="nt">&lt;/argLine&gt;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="nt">&lt;/configuration&gt;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></div> </li> <li> <p>å¯åŠ¨å‘½ä»¤ï¼š</p> <div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>java<span class="w"> </span>-Dfile.encoding<span class="o">=</span>UTF-8<span class="w"> </span>-jar<span class="w"> </span>é¡¹ç›®.jar
</span></code></pre></div> </li> </ol> <blockquote> <p>è¯¥æ–¹æ³•ä¼šå¯¼è‡´æ§åˆ¶å°ä¹±ç ï¼Œéœ€è¦åŒæ­¥è°ƒæ•´æ§åˆ¶å°ç¼–ç ï¼</p> </blockquote> <h2 id="2å‰ç«¯">2ã€å‰ç«¯<a class="headerlink" href="#2å‰ç«¯" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="1html-é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶">ã€1ã€‘HTML é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶<a class="headerlink" href="#1html-é¡µé¢ç‚¹å‡»ä¸‹è½½æ–‡ä»¶" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>ä½¿ç”¨ <code>&lt;a&gt;</code> æ ‡ç­¾æ¥å®Œæˆ</strong></p> <div class="language-html highlight"><span class="filename">HTML</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"/user/test/xxxx.txt"</span> <span class="na">download</span><span class="o">=</span><span class="s">"æ–‡ä»¶å.txt"</span><span class="p">&gt;</span>ç‚¹å‡»ä¸‹è½½<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></code></pre></div> <p>è¿™æ ·å½“ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ç‚¹å‡»é“¾æ¥çš„æ—¶å€™å°±ä¼šç›´æ¥ä¸‹è½½æ–‡ä»¶ã€‚ä½†æ˜¯æœ‰ä¸ªæƒ…å†µï¼Œæ¯”å¦‚ txtã€pngã€jpg ç­‰è¿™äº›æµè§ˆå™¨æ”¯æŒç›´æ¥æ‰“å¼€çš„æ–‡ä»¶æ˜¯ä¸ä¼šæ‰§è¡Œä¸‹è½½ä»»åŠ¡çš„ï¼Œè€Œæ˜¯ä¼šç›´æ¥æ‰“å¼€æ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç»™ <code>&lt;a&gt;&lt;/a&gt;</code> æ ‡ç­¾æ·»åŠ ä¸€ä¸ªå±æ€§ <code>download</code>ã€‚</p> <p>å…¶ä¸­ <code>download</code> åé¢çš„å±æ€§æ˜¯ä¸‹è½½åæ–‡ä»¶çš„æ–‡ä»¶åå­—</p> <ul> <li>å¦‚æœ <code>url</code> æŒ‡å‘åŒæºèµ„æºï¼Œæ˜¯æ­£å¸¸çš„ã€‚</li> <li>å¦‚æœ <code>url</code> æŒ‡å‘ç¬¬ä¸‰æ–¹èµ„æºï¼Œ<code>download</code> ä¼šå¤±æ•ˆï¼Œè¡¨ç°å’Œä¸ä½¿ç”¨ <code>download</code> æ—¶ä¸€è‡´ï¼ˆæµè§ˆå™¨èƒ½æ‰“å¼€çš„æ–‡ä»¶ï¼Œæµè§ˆå™¨ä¼šç›´æ¥æ‰“å¼€ï¼Œä¸èƒ½æ‰“å¼€çš„æ–‡ä»¶ï¼Œä¼šç›´æ¥ä¸‹è½½ï¼‰ã€‚æµè§ˆå™¨æ‰“å¼€çš„æ–‡ä»¶ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ã€‚</li> </ul> <p>è§£å†³æ–¹æ¡ˆä¸€ï¼šå°†æ–‡ä»¶æ‰“åŒ…ä¸º .zip/.rar ç­‰æµè§ˆå™¨ä¸èƒ½æ‰“å¼€çš„æ–‡ä»¶ä¸‹è½½ã€‚</p> <p>è§£å†³æ–¹æ¡ˆäºŒï¼šé€šè¿‡åç«¯è½¬å‘ï¼Œåç«¯è¯·æ±‚ç¬¬ä¸‰æ–¹èµ„æºï¼Œè¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯ä½¿ç”¨ file-saver ç­‰å·¥å…·ä¿å­˜æ–‡ä»¶ã€‚</p> <p><strong>ä½¿ç”¨è¡¨å•æäº¤</strong></p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">//æ–¹æ³•äºŒï¼šé€šè¿‡form</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nx">$eleBtn2</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">$eleForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;form method='get'&gt;&lt;/form&gt;"</span><span class="p">);</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="nx">$eleForm</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"action"</span><span class="p">,</span><span class="s2">"https://codeload.github.com/douban/douban-client/legacy.zip/master"</span><span class="p">);</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$eleForm</span><span class="p">);</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="c1">//æäº¤è¡¨å•ï¼Œå®ç°ä¸‹è½½</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="nx">$eleForm</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">});</span>
</span></code></pre></div> <h3 id="2js-åˆ¤æ–­-nan-å’Œä¿ç•™ä¸¤ä½å°æ•°">ã€2ã€‘JS åˆ¤æ–­ NaN å’Œä¿ç•™ä¸¤ä½å°æ•°<a class="headerlink" href="#2js-åˆ¤æ–­-nan-å’Œä¿ç•™ä¸¤ä½å°æ•°" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>window.isNaN()</strong></p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span><span class="w">   </span><span class="c1">// true</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="mf">123</span><span class="p">)</span><span class="w">   </span><span class="c1">// false</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1">//æ³¨æ„: window.isNaN åªå¯¹æ•°å€¼æœ‰æ•ˆï¼Œå¦‚æœä¼ å…¥å…¶ä»–å€¼ï¼Œä¼šè¢«å…ˆè½¬æˆæ•°å€¼ã€‚æ¯”å¦‚ï¼Œä¼ å…¥å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå­—ç¬¦ä¸²ä¼šè¢«å…ˆè½¬æˆNaNï¼Œæ‰€ä»¥æœ€åè¿”å›trueï¼Œè¿™ç‚¹è¦ç‰¹åˆ«å¼•èµ·æ³¨æ„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒisNaNä¸ºtrueçš„å€¼ï¼Œæœ‰å¯èƒ½ä¸æ˜¯NaNï¼Œè€Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚(ä¸æ˜¯æ•°å€¼ä¼šå…ˆè°ƒç”¨ Number æ–¹æ³•è½¬åŒ–ä¸ºæ•°å€¼)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="nb">window</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">)</span><span class="w">    </span><span class="c1">// true</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1">//ç›¸å½“äº</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="nb">window</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">))</span><span class="w">   </span><span class="c1">// true</span>
</span></code></pre></div> <p><strong>å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯æ•°å­—ï¼Œç„¶åå†ä½¿ç”¨ window.isNaN()</strong></p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">judgeNaN</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'number'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">}</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="nx">judgeNaN</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="w">             </span><span class="c1">//false</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="nx">judgeNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span><span class="w">          </span><span class="c1">//true</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="nx">judgeNaN</span><span class="p">(</span><span class="s2">"æˆ‘æ˜¯å­—ç¬¦ä¸²"</span><span class="p">)</span><span class="w">   </span><span class="c1">//false</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="nx">judgeNaN</span><span class="p">([])</span><span class="w">           </span><span class="c1">//false</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="nx">judgeNaN</span><span class="p">({})</span><span class="w">           </span><span class="c1">//false</span>
</span></code></pre></div> <p><strong>Number.isNaN(value)</strong></p> <p><code>Number.isNaN()</code> é¦–å…ˆåˆ¤æ–­ <em>value</em> ç±»å‹æ˜¯ä¸æ˜¯ numberï¼Œç„¶ååˆ¤æ–­ <em>value</em> æ˜¯ä¸æ˜¯ <code>NaN</code></p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">);</span><span class="w">                 </span><span class="c1">// true</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="kc">NaN</span><span class="p">);</span><span class="w">          </span><span class="c1">// true</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="mf">0</span><span class="o">/</span><span class="mf">0</span><span class="p">);</span><span class="w">                 </span><span class="c1">// true</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="c1">// ä¸‹é¢è¿™äº›ä½¿ç”¨ window.isNaN() å°†ä¼šè¿”å› true ,Number.isNaN() è¿”å› false,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="c1">// å› ä¸º window.isNaN ä¼šå…ˆæŠŠå‚æ•°è½¬åŒ–ä¸ºæ•°å­—ç±»å‹,å†åˆ¤æ–­æ˜¯ä¸æ˜¯ NaN; è€Œ Number.isNaN ä¼šå…ˆåˆ¤æ–­å‚æ•°æ˜¯ä¸æ˜¯æ•°å­—ç±»å‹,ä¸æ˜¯å°±è¿”å› false, æ˜¯æ•°å­—ç±»å‹å†è¿›å…¥åˆ¤æ–­æ˜¯ä¸æ˜¯ NaN.</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'NaN'</span><span class="p">);</span><span class="w">                      </span><span class="c1">// false</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span><span class="w">                  </span><span class="c1">// false</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">({});</span><span class="w">                         </span><span class="c1">// false</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'blabla'</span><span class="p">);</span><span class="w">                   </span><span class="c1">// false</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="c1">// ä¸‹é¢è¿™äº› window.isNaN() å’Œ Number.isNaN() éƒ½è¿”å› false</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="mf">37</span><span class="p">);</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'37'</span><span class="p">);</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'37.37'</span><span class="p">);</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span>
</span></code></pre></div> <p><strong>ä¸¤æ•°å­—ç›¸é™¤ ä¿ç•™ä¸¤ä½å°æ•°</strong></p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nx">$</span><span class="p">(</span><span class="s1">'#aa'</span><span class="p">).</span><span class="nx">value</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">/</span><span class="nx">b</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">2</span><span class="p">);</span>
</span></code></pre></div> <h3 id="3js-å›¾ç‰‡é¢„è§ˆ">ã€3ã€‘JS å›¾ç‰‡é¢„è§ˆ<a class="headerlink" href="#3js-å›¾ç‰‡é¢„è§ˆ" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <div class="language-html highlight"><span class="filename">HTML</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">height</span><span class="o">=</span><span class="s">"100"</span> <span class="na">width</span><span class="o">=</span><span class="s">"100"</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://cdn.pixabay.com/photo/2018/08/14/13/23/ocean-3605547_960_720.jpg"</span> <span class="na">class</span><span class="o">=</span><span class="s">"pic"</span><span class="p">/&gt;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">height</span><span class="o">=</span><span class="s">"100"</span> <span class="na">width</span><span class="o">=</span><span class="s">"100"</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://cdn.pixabay.com/photo/2011/12/14/12/21/orion-nebula-11107_960_720.jpg"</span> <span class="na">class</span><span class="o">=</span><span class="s">"pic"</span><span class="p">/&gt;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">height</span><span class="o">=</span><span class="s">"100"</span> <span class="na">width</span><span class="o">=</span><span class="s">"100"</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_960_720.jpg"</span> <span class="na">class</span><span class="o">=</span><span class="s">"pic"</span><span class="p">/&gt;</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"outerdiv"</span> <span class="na">style</span><span class="o">=</span><span class="s">"position:fixed;top:0;left:0;background:rgba(0,0,0,0.7);z-index:2;width:100%;height:100%;display:none;"</span><span class="p">&gt;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"innerdiv"</span> <span class="na">style</span><span class="o">=</span><span class="s">"position:absolute;"</span><span class="p">&gt;</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">id</span><span class="o">=</span><span class="s">"bigimg"</span> <span class="na">style</span><span class="o">=</span><span class="s">"border:5px solid #fff;"</span> <span class="na">src</span><span class="o">=</span><span class="s">""</span> <span class="p">/&gt;</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>     <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></code></pre></div> <div class="language-html highlight"><span class="filename">HTML</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"./jquery.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span><span class="w"> </span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="w">  </span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="nx">$</span><span class="p">(</span><span class="s2">".pic"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="w">  </span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">_this</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="c1">//å°†å½“å‰çš„pimgå…ƒç´ ä½œä¸º_thisä¼ å…¥å‡½æ•°  </span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">            </span><span class="nx">imgShow</span><span class="p">(</span><span class="s2">"#outerdiv"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#innerdiv"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#bigimg"</span><span class="p">,</span><span class="w"> </span><span class="nx">_this</span><span class="p">);</span><span class="w">  </span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="p">});</span><span class="w">  </span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="p">});</span><span class="w">  </span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">imgShow</span><span class="p">(</span><span class="nx">outerdiv</span><span class="p">,</span><span class="w"> </span><span class="nx">innerdiv</span><span class="p">,</span><span class="w"> </span><span class="nx">bigimg</span><span class="p">,</span><span class="w"> </span><span class="nx">_this</span><span class="p">){</span><span class="w">  </span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">);</span><span class="c1">//è·å–å½“å‰ç‚¹å‡»çš„pimgå…ƒç´ ä¸­çš„srcå±æ€§  </span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">        </span><span class="nx">$</span><span class="p">(</span><span class="nx">bigimg</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="w"> </span><span class="nx">src</span><span class="p">);</span><span class="c1">//è®¾ç½®#bigimgå…ƒç´ çš„srcå±æ€§  </span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">        </span><span class="cm">/*è·å–å½“å‰ç‚¹å‡»å›¾ç‰‡çš„çœŸå®å¤§å°ï¼Œå¹¶æ˜¾ç¤ºå¼¹å‡ºå±‚åŠå¤§å›¾*/</span><span class="w">  </span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">        </span><span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;img/&gt;"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="w"> </span><span class="nx">src</span><span class="p">).</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="w">  </span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">windowW</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">width</span><span class="p">();</span><span class="c1">//è·å–å½“å‰çª—å£å®½åº¦  </span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">windowH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">();</span><span class="c1">//è·å–å½“å‰çª—å£é«˜åº¦  </span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">realWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span><span class="c1">//è·å–å›¾ç‰‡çœŸå®å®½åº¦  </span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">realHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="c1">//è·å–å›¾ç‰‡çœŸå®é«˜åº¦  </span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgWidth</span><span class="p">,</span><span class="w"> </span><span class="nx">imgHeight</span><span class="p">;</span><span class="w">  </span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.8</span><span class="p">;</span><span class="c1">//ç¼©æ”¾å°ºå¯¸ï¼Œå½“å›¾ç‰‡çœŸå®å®½åº¦å’Œé«˜åº¦å¤§äºçª—å£å®½åº¦å’Œé«˜åº¦æ—¶è¿›è¡Œç¼©æ”¾  </span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="nx">realHeight</span><span class="o">&gt;</span><span class="nx">windowH</span><span class="o">*</span><span class="nx">scale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">//åˆ¤æ–­å›¾ç‰‡é«˜åº¦  </span>
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="w">                </span><span class="nx">imgHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">windowH</span><span class="o">*</span><span class="nx">scale</span><span class="p">;</span><span class="c1">//å¦‚å¤§äºçª—å£é«˜åº¦ï¼Œå›¾ç‰‡é«˜åº¦è¿›è¡Œç¼©æ”¾  </span>
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="w">                </span><span class="nx">imgWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgHeight</span><span class="o">/</span><span class="nx">realHeight</span><span class="o">*</span><span class="nx">realWidth</span><span class="p">;</span><span class="c1">//ç­‰æ¯”ä¾‹ç¼©æ”¾å®½åº¦  </span>
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="nx">imgWidth</span><span class="o">&gt;</span><span class="nx">windowW</span><span class="o">*</span><span class="nx">scale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">//å¦‚å®½åº¦æ‰”å¤§äºçª—å£å®½åº¦  </span>
</span><span id="__span-13-27"><a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="w">                    </span><span class="nx">imgWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">windowW</span><span class="o">*</span><span class="nx">scale</span><span class="p">;</span><span class="c1">//å†å¯¹å®½åº¦è¿›è¡Œç¼©æ”¾  </span>
</span><span id="__span-13-28"><a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="w">                </span><span class="p">}</span><span class="w">  </span>
</span><span id="__span-13-29"><a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="nx">realWidth</span><span class="o">&gt;</span><span class="nx">windowW</span><span class="o">*</span><span class="nx">scale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">//å¦‚å›¾ç‰‡é«˜åº¦åˆé€‚ï¼Œåˆ¤æ–­å›¾ç‰‡å®½åº¦  </span>
</span><span id="__span-13-30"><a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="w">                </span><span class="nx">imgWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">windowW</span><span class="o">*</span><span class="nx">scale</span><span class="p">;</span><span class="c1">//å¦‚å¤§äºçª—å£å®½åº¦ï¼Œå›¾ç‰‡å®½åº¦è¿›è¡Œç¼©æ”¾  </span>
</span><span id="__span-13-31"><a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a><span class="w">                </span><span class="nx">imgHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgWidth</span><span class="o">/</span><span class="nx">realWidth</span><span class="o">*</span><span class="nx">realHeight</span><span class="p">;</span><span class="c1">//ç­‰æ¯”ä¾‹ç¼©æ”¾é«˜åº¦  </span>
</span><span id="__span-13-32"><a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="c1">//å¦‚æœå›¾ç‰‡çœŸå®é«˜åº¦å’Œå®½åº¦éƒ½ç¬¦åˆè¦æ±‚ï¼Œé«˜å®½ä¸å˜  </span>
</span><span id="__span-13-33"><a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="w">                </span><span class="nx">imgWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">realWidth</span><span class="p">;</span><span class="w">  </span>
</span><span id="__span-13-34"><a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a><span class="w">                </span><span class="nx">imgHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">realHeight</span><span class="p">;</span><span class="w">  </span>
</span><span id="__span-13-35"><a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a><span class="w">            </span><span class="p">}</span><span class="w">  </span>
</span><span id="__span-13-36"><a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="nx">bigimg</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"width"</span><span class="p">,</span><span class="nx">imgWidth</span><span class="p">);</span><span class="c1">//ä»¥æœ€ç»ˆçš„å®½åº¦å¯¹å›¾ç‰‡ç¼©æ”¾  </span>
</span><span id="__span-13-37"><a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a>
</span><span id="__span-13-38"><a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">windowW</span><span class="o">-</span><span class="nx">imgWidth</span><span class="p">)</span><span class="o">/</span><span class="mf">2</span><span class="p">;</span><span class="c1">//è®¡ç®—å›¾ç‰‡ä¸çª—å£å·¦è¾¹è·  </span>
</span><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">windowH</span><span class="o">-</span><span class="nx">imgHeight</span><span class="p">)</span><span class="o">/</span><span class="mf">2</span><span class="p">;</span><span class="c1">//è®¡ç®—å›¾ç‰‡ä¸çª—å£ä¸Šè¾¹è·  </span>
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a><span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="nx">innerdiv</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="s2">"top"</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="w"> </span><span class="s2">"left"</span><span class="o">:</span><span class="nx">w</span><span class="p">});</span><span class="c1">//è®¾ç½®#innerdivçš„topå’Œleftå±æ€§  </span>
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a><span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="nx">outerdiv</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="s2">"fast"</span><span class="p">);</span><span class="c1">//æ·¡å…¥æ˜¾ç¤º#outerdivåŠ.pimg  </span>
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a><span class="w">        </span><span class="p">});</span><span class="w">  </span>
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a>
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a><span class="w">        </span><span class="nx">$</span><span class="p">(</span><span class="nx">outerdiv</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="c1">//å†æ¬¡ç‚¹å‡»æ·¡å‡ºæ¶ˆå¤±å¼¹å‡ºå±‚  </span>
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a><span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s2">"fast"</span><span class="p">);</span><span class="w">  </span>
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a><span class="w">        </span><span class="p">});</span><span class="w">  </span>
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a><span class="w">    </span><span class="p">}</span><span class="w">   </span>
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></code></pre></div> <h3 id="4ajax-è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜">ã€4ã€‘AJAX è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜<a class="headerlink" href="#4ajax-è¯·æ±‚åé¡µé¢åˆ·æ–°çš„é—®é¢˜" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>é—®é¢˜åŸå› å‡ºåœ¨ HTML æ–‡ä»¶ä¸Šï¼ŒåŸå› æ˜¯æŠŠæ‰€æœ‰æŒ‰é’®éƒ½æ”¾åœ¨äº†ä¸€ä¸ªçš„è¡¨å•é‡Œé¢äº†ï¼Œ<code>&lt;form&gt;</code> é‡Œé¢çš„æŒ‰é’®é»˜è®¤ <code>type=submit</code> ï¼Œæ‰€ä»¥æ¯æ¬¡ç‚¹å‡»æŒ‰é’®åéƒ½ä¼šæ‰§è¡Œæäº¤è¡¨å•çš„æ“ä½œï¼Œè¡¨å•æ“ä½œé»˜è®¤æœ‰åˆ·æ–°é¡µé¢çš„åŠŸèƒ½ã€‚</p> <p>è§£å†³æ–¹æ³•ï¼šå°† <code>&lt;button&gt;</code> çš„ <code>type</code> æ”¹ä¸º <code>button</code></p> <div class="language-html highlight"><span class="filename">HTML</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"box-footer"</span><span class="p">&gt;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-info "</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"timerMan('start')"</span><span class="p">&gt;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>        å¼€å¯
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-default"</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"timerMan('stop')"</span><span class="p">&gt;</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        åœæ­¢
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></code></pre></div> <h3 id="5è·å–éªŒè¯ç æŒ‰é’®">ã€5ã€‘è·å–éªŒè¯ç æŒ‰é’®<a class="headerlink" href="#5è·å–éªŒè¯ç æŒ‰é’®" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>æ€è·¯ï¼šæŒ‰é’®è§¦å‘ç‚¹å‡»äº‹ä»¶åå‘é€ AJAX è¯·æ±‚è·å–éªŒè¯ç ï¼Œå¦‚æœå‘é€æˆåŠŸåˆ™ç»™æŒ‰é’®æ·»åŠ  <code>disabled</code> å±æ€§å¹¶ä½¿ç”¨ <code>setInterval()</code> æ¯éš”ä¸€ç§’ä¿®æ”¹æŒ‰é’®å€’è®¡æ—¶ï¼Œå€’è®¡æ—¶ç»“æŸååˆ é™¤æŒ‰é’® <code>disabled</code> å±æ€§ã€‚</p> <p>é˜²æ­¢é¡µé¢åˆ·æ–°å JS æ— æ•ˆï¼šå¯ä»¥ä½¿ç”¨ localStorageã€Cookieç­‰ç¼“å­˜æŠ€æœ¯å°†ä¿¡æ¯ç¼“å­˜åˆ°æœ¬åœ°ã€‚</p> <p>HTMLï¼š</p> <div class="language-html highlight"><span class="filename">HTML</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">id</span><span class="o">=</span><span class="s">"getCode"</span> <span class="na">value</span><span class="o">=</span><span class="s">"è·å–éªŒè¯ç "</span><span class="p">&gt;</span>
</span></code></pre></div> <p>CSSï¼š</p> <div class="language-css highlight"><span class="filename">CSS</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nt">input</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="k">cursor</span><span class="p">:</span><span class="w"> </span><span class="kc">pointer</span><span class="p">;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">px</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="p">}</span>
</span></code></pre></div> <p>JSï¼š</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s1">'#getCode'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">        </span><span class="nx">getValidateCode</span><span class="p">();</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="nx">countdown</span><span class="p">();</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="p">}))</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="cm">/*è·å–éªŒè¯ç */</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="kd">function</span><span class="w"> </span><span class="nx">getValidateCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">    </span><span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">"countdown"</span><span class="p">,</span><span class="w"> </span><span class="s1">'60'</span><span class="p">);</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">    </span><span class="nx">countdown</span><span class="p">();</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="p">}</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="cm">/*éªŒè¯ç å€’è®¡æ—¶*/</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">$button</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">'#getCode'</span><span class="p">);</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">    </span><span class="c1">//åˆ¤æ–­æ˜¯å¦æ¶æ„åˆ·æ–°é¡µé¢é‡å¤å‘é€éªŒè¯ç </span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">localStorage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">;</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">countdown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">"countdown"</span><span class="p">);</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">countdown</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">countdown</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="w">        </span><span class="nx">$button</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="sb">`é‡æ–°è·å–(</span><span class="si">${</span><span class="nx">countdown</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="w">        </span><span class="nx">$button</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="w"> </span><span class="s2">"true"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"cursor"</span><span class="p">,</span><span class="w"> </span><span class="s2">"not-allowed"</span><span class="p">);</span><span class="c1">//å¢åŠ ä¸å¯æ“ä½œå±æ€§</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="w">        </span><span class="nx">removeCountdown</span><span class="p">();</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="w">    </span><span class="c1">//å®šæ—¶å™¨</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="w">        </span><span class="nx">countdown</span><span class="o">--</span><span class="p">;</span><span class="c1">//è¡”æ¥ä¹‹å‰æ›´æ”¹çš„ç§’æ•°</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="w">        </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">"countdown"</span><span class="p">,</span><span class="w"> </span><span class="nb">String</span><span class="p">(</span><span class="nx">countdown</span><span class="p">));</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="w">        </span><span class="nx">$button</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="sb">`é‡æ–°è·å–(</span><span class="si">${</span><span class="nx">countdown</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="w">        </span><span class="c1">//å¦‚æœç§’æ•°ä¸º0ï¼Œå…³é—­å®šæ—¶å™¨</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">countdown</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a><span class="w">            </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="w">            </span><span class="c1">//ä¿®æ”¹æŒ‰é’®val</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a><span class="w">            </span><span class="nx">$button</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">"é‡æ–°è·å–"</span><span class="p">);</span>
</span><span id="__span-17-38"><a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a><span class="w">            </span><span class="c1">//å»é™¤ä¸å¯æ“ä½œå±æ€§</span>
</span><span id="__span-17-39"><a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a><span class="w">            </span><span class="nx">$button</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"cursor"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pointer"</span><span class="p">);</span>
</span><span id="__span-17-40"><a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a><span class="w">            </span><span class="nx">removeCountdown</span><span class="p">();</span>
</span><span id="__span-17-41"><a id="__codelineno-17-41" name="__codelineno-17-41" href="#__codelineno-17-41"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-17-42"><a id="__codelineno-17-42" name="__codelineno-17-42" href="#__codelineno-17-42"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
</span><span id="__span-17-43"><a id="__codelineno-17-43" name="__codelineno-17-43" href="#__codelineno-17-43"></a><span class="p">}</span>
</span><span id="__span-17-44"><a id="__codelineno-17-44" name="__codelineno-17-44" href="#__codelineno-17-44"></a>
</span><span id="__span-17-45"><a id="__codelineno-17-45" name="__codelineno-17-45" href="#__codelineno-17-45"></a><span class="cm">/*æ¸…é™¤éªŒè¯ç å®šæ—¶å™¨*/</span>
</span><span id="__span-17-46"><a id="__codelineno-17-46" name="__codelineno-17-46" href="#__codelineno-17-46"></a><span class="kd">function</span><span class="w"> </span><span class="nx">removeCountdown</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-47"><a id="__codelineno-17-47" name="__codelineno-17-47" href="#__codelineno-17-47"></a><span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s2">"countdown"</span><span class="p">);</span>
</span><span id="__span-17-48"><a id="__codelineno-17-48" name="__codelineno-17-48" href="#__codelineno-17-48"></a><span class="p">}</span>
</span></code></pre></div> <blockquote> <p>ç™»å½•æˆåŠŸåè®°å¾—æ¸…é™¤éªŒè¯ç ç›¸å…³ç¼“å­˜ä¿¡æ¯ï¼Œä¸ç„¶ä¸‹æ¬¡è¿›å…¥é¡µé¢æŒ‰é’®ä¼šé‡æ–°è¿›å…¥å€’è®¡æ—¶ã€‚</p> </blockquote> <h2 id="3æ··åˆåŒæ‰“">3ã€æ··åˆåŒæ‰“<a class="headerlink" href="#3æ··åˆåŒæ‰“" title="é”šç‚¹é“¾æ¥">Â¶</a></h2> <h3 id="1ajax-ä¸Šä¼ ä¸‹è½½æ–‡ä»¶">ã€1ã€‘AJAX ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶<a class="headerlink" href="#1ajax-ä¸Šä¼ ä¸‹è½½æ–‡ä»¶" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p><strong>ä¸Šä¼ </strong></p> <p>HTML ä¸Šä¼ æŒ‰é’®ï¼š</p> <div class="language-html highlight"><span class="filename">HTML</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"modal-body"</span><span class="p">&gt;</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-group"</span><span class="p">&gt;</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>        <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"upload"</span><span class="p">&gt;</span>é€‰æ‹©æ–‡ä»¶<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>        <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="ni">&amp;nbsp;&amp;nbsp;</span>*.xlsx<span class="ni">&amp;nbsp;&amp;nbsp;</span>*.docx<span class="ni">&amp;nbsp;&amp;nbsp;</span>*.pdf<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"file"</span> <span class="na">class</span><span class="o">=</span><span class="s">"form-control-file"</span> <span class="na">id</span><span class="o">=</span><span class="s">"upload"</span><span class="p">&gt;</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"modal-footer"</span><span class="p">&gt;</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-secondary"</span> <span class="na">data-dismiss</span><span class="o">=</span><span class="s">"modal"</span><span class="p">&gt;</span>å–æ¶ˆ<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span> <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span> <span class="na">onclick</span><span class="o">=</span><span class="s">"imp()"</span><span class="p">&gt;</span>å¯¼å…¥<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></code></pre></div> <p>AJAX ä¸Šä¼ ï¼š</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">imp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">'#upload'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">FormData</span><span class="p">();</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">        </span><span class="nx">formData</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"file"</span><span class="p">,</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s2">"#upload"</span><span class="p">)[</span><span class="mf">0</span><span class="p">].</span><span class="nx">files</span><span class="p">[</span><span class="mf">0</span><span class="p">])</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">        </span><span class="nx">formData</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">);</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">        </span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">            </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">'/import'</span><span class="p">,</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">            </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">formData</span><span class="p">,</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">            </span><span class="c1">// å‘Šè¯‰jQueryä¸è¦å»å¤„ç†å‘é€çš„æ•°æ®</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">            </span><span class="nx">processData</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">            </span><span class="c1">// å‘Šè¯‰jQueryä¸è¦è®¾ç½®Content-Typeè¯·æ±‚å¤´</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">            </span><span class="nx">contentType</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">            </span><span class="nx">success</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">                </span><span class="nx">$</span><span class="p">(</span><span class="s1">'#table'</span><span class="p">).</span><span class="nx">bootstrapTable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">                </span><span class="nx">$</span><span class="p">(</span><span class="s1">'#imp'</span><span class="p">).</span><span class="nx">modal</span><span class="p">(</span><span class="s1">'hide'</span><span class="p">);</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">                </span><span class="nx">$</span><span class="p">(</span><span class="s1">'#upload'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">                </span><span class="nx">alert</span><span class="p">(</span><span class="s2">"å¯¼å…¥æˆåŠŸ ^ ^"</span><span class="p">);</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">        </span><span class="p">})</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">        </span><span class="nx">alert</span><span class="p">(</span><span class="s2">"è¯·é€‰æ‹©å¯¼å…¥æ–‡ä»¶ï¼"</span><span class="p">)</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="p">}</span>
</span></code></pre></div> <p>Controllerï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="cm">/**</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="cm"> * å¯¼å…¥å•†å“</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="cm"> * @param file æ–‡ä»¶</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="cm"> * @return ç»“æœ</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="cm"> */</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">"/import"</span><span class="p">)</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">importProduct</span><span class="p">(</span><span class="n">MultipartFile</span><span class="w"> </span><span class="n">file</span><span class="p">){</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">productService</span><span class="p">.</span><span class="na">importProduct</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="p">}</span>
</span></code></pre></div> <p>é€šè¿‡ <code>file.getOriginalFilename()</code> å¯ä»¥è·å–åˆ°æ–‡ä»¶åï¼Œé€šè¿‡ <code>file.getInputStream()</code> å¯ä»¥è·å–æ–‡ä»¶æµã€‚</p> <p><strong>ä¸‹è½½ï¼ˆExcelï¼‰</strong></p> <p>Controllerï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="cm">/**</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="cm">  * å¯¼å‡ºå•†å“</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="cm">  *</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="cm">  * @param response</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="cm">  */</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">"/export"</span><span class="p">)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="na">setContentType</span><span class="p">(</span><span class="s">"application/vnd.ms-excel"</span><span class="p">);</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="na">setCharacterEncoding</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">);</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">        </span><span class="c1">// è¿™é‡ŒURLEncoder.encodeå¯ä»¥é˜²æ­¢ä¸­æ–‡ä¹±ç  å½“ç„¶å’ŒeasyExcelæ²¡æœ‰å…³ç³»</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">fileName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">URLEncoder</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="s">"å•†å“"</span><span class="p">,</span><span class="w"> </span><span class="s">"UTF-8"</span><span class="p">).</span><span class="na">replaceAll</span><span class="p">(</span><span class="s">"\\+"</span><span class="p">,</span><span class="w"> </span><span class="s">"%20"</span><span class="p">);</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">        </span><span class="n">response</span><span class="p">.</span><span class="na">setHeader</span><span class="p">(</span><span class="s">"Content-disposition"</span><span class="p">,</span><span class="w"> </span><span class="s">"attachment;filename*=utf-8''"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fileName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">".xlsx"</span><span class="p">);</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">UnsupportedEncodingException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="w">    </span><span class="n">productService</span><span class="p">.</span><span class="na">export</span><span class="p">(</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="p">}</span>
</span></code></pre></div> <p>é€šè¿‡ <code>response.getOutputStream()</code> å¯ä»¥è·å–è¾“å‡ºæµã€‚</p> <p>AJAX ä¸‹è½½:</p> <p>jQuery çš„ <code>ajax()</code> å‡½æ•°çš„è¿”å›ç±»å‹åªæœ‰ xmlã€textã€jsonã€html ç­‰ç±»å‹ï¼Œæ²¡æœ‰â€œæµâ€ç±»å‹ï¼Œæ‰€ä»¥è¦å®ç° AJAX ä¸‹è½½ï¼Œä¸èƒ½å¤Ÿä½¿ç”¨ç›¸åº”çš„ <code>ajax()</code> å‡½æ•°è¿›è¡Œæ–‡ä»¶ä¸‹è½½ã€‚ä½†å¯ä»¥ç”¨ JS ç”Ÿæˆä¸€ä¸ª <code>&lt;form&gt;</code>ï¼Œç”¨è¿™ä¸ª <code>&lt;form&gt;</code> æäº¤å‚æ•°ï¼Œå¹¶è¿”å›â€œæµâ€ç±»å‹çš„æ•°æ®ã€‚åœ¨å®ç°è¿‡ç¨‹ä¸­ï¼Œé¡µé¢ä¹Ÿæ²¡æœ‰è¿›è¡Œåˆ·æ–°ã€‚</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">// å¯¼å‡º</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">exp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">        </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">'/export'</span><span class="p">,</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'GET'</span><span class="p">,</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">        </span><span class="nx">success</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="nx">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;form&gt;"</span><span class="p">);</span><span class="c1">//å®šä¹‰ä¸€ä¸ªformè¡¨å•</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"style"</span><span class="p">,</span><span class="w"> </span><span class="s2">"display:none"</span><span class="p">);</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"target"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">);</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"method"</span><span class="p">,</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">);</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"action"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/export"</span><span class="p">);</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="nx">input1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s2">"&lt;input&gt;"</span><span class="p">);</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">            </span><span class="nx">input1</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hidden"</span><span class="p">);</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">            </span><span class="nx">input1</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="s2">"exportData"</span><span class="p">);</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">            </span><span class="nx">input1</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">()).</span><span class="nx">getMilliseconds</span><span class="p">());</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">form</span><span class="p">);</span><span class="c1">//å°†è¡¨å•æ”¾ç½®åœ¨webä¸­</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">input1</span><span class="p">);</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">            </span><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span><span class="c1">//è¡¨å•æäº¤</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="p">}</span>
</span></code></pre></div> <h3 id="2è¿”å›å‰ç«¯-long-ä¸¢å¤±ç²¾åº¦">ã€2ã€‘è¿”å›å‰ç«¯ Long ä¸¢å¤±ç²¾åº¦<a class="headerlink" href="#2è¿”å›å‰ç«¯-long-ä¸¢å¤±ç²¾åº¦" title="é”šç‚¹é“¾æ¥">Â¶</a></h3> <p>æœ€è¿‘é¡¹ç›®ä¸­å°†å®ä½“ç±»ä¸»é”®ç”±ä»¥å‰çš„ <code>String</code> ç±»å‹çš„ UUID æ”¹ä¸ºäº† <code>Long</code> ç±»å‹çš„åˆ†å¸ƒå¼ IDï¼Œä¿®æ”¹åå‘ç°å‰ç«¯æ˜¾ç¤ºçš„ ID å’Œæ•°æ®åº“ä¸­çš„ ID ä¸ä¸€è‡´ã€‚ä¾‹å¦‚æ•°æ®åº“ä¸­å­˜å‚¨çš„æ˜¯ï¼š<code>812782555915911412</code>ï¼Œæ˜¾ç¤ºå‡ºæ¥å´æˆäº† <code>812782555915911400</code>ï¼Œåé¢ 2 ä½å˜æˆäº† 0ï¼Œç²¾åº¦ä¸¢å¤±äº†ï¼š</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mf">812782555915911412</span><span class="p">);</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="mf">812782555915911400</span>
</span></code></pre></div> <p><strong>è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ</strong></p> <p>åŸæ¥ï¼ŒJavaScript ä¸­æ•°å­—çš„ç²¾åº¦æ˜¯æœ‰é™çš„ï¼ŒJava çš„ <code>Long</code> ç±»å‹çš„æ•°å­—è¶…å‡ºäº† JavaScript çš„å¤„ç†èŒƒå›´ã€‚JavaScript å†…éƒ¨åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ <code>Number</code>ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯é‡‡ç”¨ <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2FIEEE_754">IEEE 754</a> æ ‡å‡†å®šä¹‰çš„åŒç²¾åº¦ 64 ä½æ ¼å¼å­˜å‚¨ï¼Œå³ä½¿æ•´æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è¿™å°±æ˜¯è¯´ï¼ŒJavaScript è¯­è¨€çš„åº•å±‚æ ¹æœ¬æ²¡æœ‰æ•´æ•°ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯å°æ•°ï¼ˆ64ä½æµ®ç‚¹æ•°ï¼‰ã€‚å…¶ç»“æ„å¦‚å›¾ï¼š</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="!assets/Solutions/webp.webp" data-desc-position="bottom"><img src="!assets/Solutions/webp.webp" alt="img" style></a></p> <p>å„ä½çš„å«ä¹‰å¦‚ä¸‹ï¼š</p> <ul> <li>1ä½ï¼ˆsï¼‰ ç”¨æ¥è¡¨ç¤ºç¬¦å·ä½ï¼Œ<code>0</code> è¡¨ç¤ºæ­£æ•°ï¼Œ<code>1</code> è¡¨ç¤ºè´Ÿæ•°</li> <li>11ä½ï¼ˆeï¼‰ ç”¨æ¥è¡¨ç¤ºæŒ‡æ•°éƒ¨åˆ†</li> <li>52ä½ï¼ˆfï¼‰ è¡¨ç¤ºå°æ•°éƒ¨åˆ†ï¼ˆå³æœ‰æ•ˆæ•°å­—ï¼‰</li> </ul> <p>åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆ<code>double</code>ï¼‰å¹¶ä¸æ˜¯èƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºèŒƒå›´å†…çš„æ‰€æœ‰æ•°ï¼Œ è™½ç„¶åŒç²¾åº¦æµ®ç‚¹å‹çš„èŒƒå›´çœ‹ä¸Šå»å¾ˆå¤§ï¼š2.23x10<sup>-308</sup>~1.79x10<sup>308</sup>ã€‚ å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°å¯ä»¥å¾ˆå¤§ï¼Œä½†èƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºã€ä½¿ç”¨ç®—æ•°è¿ç®—çš„å¹¶æ²¡æœ‰è¿™ä¹ˆå¤§ã€‚å› ä¸ºå°æ•°éƒ¨åˆ†æœ€å¤§æ˜¯ <code>52</code> ä½ï¼Œå› æ­¤ JavaScript ä¸­èƒ½ç²¾å‡†è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°æ˜¯ 2<sup>52</sup>-1ï¼Œåè¿›åˆ¶ä¸º <code>9007199254740991</code>ã€‚</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">53</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mf">1</span><span class="nx">L</span><span class="o">&lt;&lt;</span><span class="mf">53</span><span class="p">);</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="mf">9007199254740991</span>
</span></code></pre></div> <p>JavaScript æœ‰æ‰€è°“çš„æœ€å¤§å’Œæœ€å°å®‰å…¨å€¼ï¼š</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_SAFE_INTEGER</span><span class="p">);</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MIN_SAFE_INTEGER</span><span class="p">);</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="mf">9007199254740991</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="o">-</span><span class="mf">9007199254740991</span>
</span></code></pre></div> <p><strong>å®‰å…¨</strong>æ„æ€æ˜¯è¯´èƒ½å¤Ÿ <code>one-by-one</code> è¡¨ç¤ºçš„æ•´æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ (-2<sup>53</sup>,2<sup>53</sup>) èŒƒå›´å†…ï¼ŒåŒç²¾åº¦æ•°è¡¨ç¤ºå’Œæ•´æ•°æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œåœ¨è¿™ä¸ªèŒƒå›´ä»¥å†…ï¼Œæ‰€æœ‰çš„æ•´æ•°éƒ½æœ‰å”¯ä¸€çš„æµ®ç‚¹æ•°è¡¨ç¤ºï¼Œè¿™å«åš<strong>å®‰å…¨æ•´æ•°</strong>ã€‚</p> <p>è€Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œä¼šæœ‰ä¸¤ä¸ªæˆ–æ›´å¤šæ•´æ•°çš„åŒç²¾åº¦è¡¨ç¤ºæ˜¯ç›¸åŒçš„ï¼›å³è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæœ‰çš„æ•´æ•°æ˜¯æ— æ³•ç²¾ç¡®è¡¨ç¤ºçš„ï¼Œåªèƒ½å¤§çº¦(round)åˆ°ä¸å®ƒç›¸è¿‘çš„æµ®ç‚¹æ•°ï¼ˆè¯´åˆ°åº•å°±æ˜¯ç§‘å­¦è®¡æ•°æ³•ï¼‰è¡¨ç¤ºï¼Œè¿™ç§æƒ…å†µä¸‹å«åš<strong>ä¸å®‰å…¨æ•´æ•°</strong>ï¼Œä¾‹å¦‚ï¼š</p> <div class="language-javascript highlight"><span class="filename">JavaScript</span><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_SAFE_INTEGER</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span><span class="w">   </span><span class="c1">// ç»“æœï¼š9007199254740992ï¼Œç²¾åº¦æœªä¸¢å¤±</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_SAFE_INTEGER</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">2</span><span class="p">);</span><span class="w">   </span><span class="c1">// ç»“æœï¼š9007199254740992ï¼Œç²¾åº¦ä¸¢å¤±</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_SAFE_INTEGER</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">3</span><span class="p">);</span><span class="w">   </span><span class="c1">// ç»“æœï¼š9007199254740994ï¼Œç²¾åº¦æœªä¸¢å¤±</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_SAFE_INTEGER</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">4</span><span class="p">);</span><span class="w">   </span><span class="c1">// ç»“æœï¼š9007199254740996ï¼Œç²¾åº¦ä¸¢å¤±</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Number</span><span class="p">.</span><span class="nx">MAX_SAFE_INTEGER</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">5</span><span class="p">);</span><span class="w">   </span><span class="c1">// ç»“æœï¼š9007199254740996ï¼Œç²¾åº¦æœªä¸¢å¤±</span>
</span></code></pre></div> <p>è€Œ Java çš„ <code>Long</code> ç±»å‹çš„æœ‰æ•ˆä½æ•°æ˜¯ <code>63</code> ä½ï¼ˆæ‰£é™¤ä¸€ä½ç¬¦å·ä½ï¼‰ï¼Œå…¶æœ€å¤§å€¼ä¸º 2<sup>63</sup>-1ï¼Œåè¿›åˆ¶ä¸º <code>9223372036854775807</code>ã€‚</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Long</span><span class="p">.</span><span class="na">MAX_VALUE</span><span class="p">);</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">((</span><span class="mi">1L</span><span class="o">&lt;&lt;</span><span class="mi">63</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="p">}</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="mi">9223372036854775807</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="mi">9223372036854775807</span>
</span></code></pre></div> <p>æ‰€ä»¥åªè¦ Java ä¼ ç»™ JavaScript çš„ <code>Long</code> ç±»å‹çš„å€¼è¶…è¿‡ <code>9007199254740991</code>ï¼Œå°±æœ‰å¯èƒ½äº§ç”Ÿç²¾åº¦ä¸¢å¤±ï¼Œä»è€Œå¯¼è‡´æ•°æ®å’Œé€»è¾‘å‡ºé”™ã€‚</p> <p><strong>é‚£æœ‰ä»€ä¹ˆè§£å†³æ–¹æ³•å‘¢ï¼Ÿ</strong></p> <p>è§£å†³åŠæ³•ä¹‹ä¸€å°±æ˜¯è®© Javascript æŠŠæ•°å­—å½“æˆå­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œå¯¹ Javascript æ¥è¯´å¦‚æœä¸è¿›è¡Œè¿ç®—ï¼Œæ•°å­—å’Œå­—ç¬¦ä¸²å¤„ç†èµ·æ¥æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p> <p>ä½†å¦‚æœéœ€è¦è¿›è¡Œè¿ç®—ï¼Œåªèƒ½é‡‡ç”¨å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ JavaScript çš„ä¸€äº›å¼€æºåº“ <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fjustmoon%2Fnode-bignum">bignum</a>ã€<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fsubstack%2Fnode-bigint">bigint</a> ç­‰æ”¯æŒé•¿æ•´å‹çš„å¤„ç†ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªåœºæ™¯é‡Œä¸éœ€è¦è¿›è¡Œè¿ç®—ï¼Œä¸” Java è¿›è¡Œ JSON å¤„ç†çš„æ—¶å€™æ˜¯èƒ½å¤Ÿæ­£ç¡®å¤„ç† <code>long</code> å‹çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†æ•°å­—è½¬åŒ–æˆå­—ç¬¦ä¸²å°±å¯ä»¥äº†ã€‚</p> <p>è€Œåœ¨åç«¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£<code>JsonSerialize</code>ï¼š</p> <div class="language-java highlight"><span class="filename">Java</span><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nd">@JsonSerialize</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="n">ToStringSerializer</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kd">private</span><span class="w"> </span><span class="n">Long</span><span class="w"> </span><span class="n">bankcardHash</span><span class="p">;</span>
</span></code></pre></div> <p>æŒ‡å®šäº† <code>ToStringSerializer</code> è¿›è¡Œåºåˆ—åŒ–ï¼Œå°†æ•°å­—ç¼–ç æˆå­—ç¬¦ä¸²æ ¼å¼ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯é¢—ç²’åº¦å¯ä»¥å¾ˆç²¾ç»†ï¼›ç¼ºç‚¹åŒæ ·æ˜¯å¤ªç²¾ç»†ï¼Œå¦‚æœéœ€è¦è°ƒæ•´çš„å­—æ®µæ¯”è¾ƒå¤šä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</p> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="æœ€åæ›´æ–°"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2026å¹´1æœˆ22æ—¥ 20:21:58 UTC">2026å¹´1æœˆ22æ—¥ 20:21:58</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="åˆ›å»ºæ—¥æœŸ"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2021å¹´4æœˆ26æ—¥ 11:39:30 UTC">2021å¹´4æœˆ26æ—¥ 11:39:30</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> å›åˆ°é¡µé¢é¡¶éƒ¨ </button> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.top", "navigation.tracking", "navigation.instant", "navigation.path", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src="../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../_javascripts/auto_title.js"></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>