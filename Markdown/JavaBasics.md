# 1、入门基础及环境搭建

## 1.1、Java 是什么

### 1.1.1、什么是 Java 语言

简单来说，Java 是由 Sun Microsystems 公司于 1995 年推出的一门面向对象程序设计语言。2010 年 Oracle 公司收购 Sun Microsystems，之后由Oracle 公司负责 Java 的维护和版本升级。

其实Java还是一个平台。Java 平台由 Java 虚拟机（Java Virtual Machine，JVM）和 Java 应用程序接口（Application Programming Interface，API）构成。Java 应用程序接口为此提供了一个独立于操作系统的标准接口，可分为基本部分和扩展部分。在硬件或操作系统平台上安装一个 Java 平台之后，Java 应用程序就可以运行。

Java 平台已经嵌入了几乎所有的操作系统。这样的 Java 程序只需编译一次，就可以在各种系统中运行。

按应用范围，Java 可分为 3 个体系，即 JavaSE、JavaEE 和 JavaME。

1. **JavaSE**

	JavaSE（Java Platform Standard Edition，Java 平台标准版）以前就称为 J2SE，它允许开发和部署在桌面、服务器、嵌入式环境和实时环境中使用 Java 应用程序。JavaSE 包含了支持 Java Web 服务开发的类，并为 JavaEE 提供基础，如 Java 语言基础、JDBC 操作、I/O 操作、网络通讯以及多线程等技术。下图为 JavaSE 的体系结构：

<img src="../Images/JavaBasics/5-1ZZ3155933O7.jpg" alt="img"  />

2. **JavaEE**

	JavaEE（Java Platform Enterprise Edition，Java 平台企业版）以前称为 J2EE。企业版本帮助开发和部署可移植、健壮、可伸缩且安全的服务端Java应用程序。JavaEE 是在 JavaSE 基础上构建的，它提供 Web 服务、组件模型、管理和通信 API，可以用来实现企业级的面向服务体系结构（Service Oriented Architecture，SOA）。

	扩展：SOA 是一种设计方法，其中包含多个服务，而服务之间通过配合最终会提供一系列功能。一个服务通常以独立的形式存在于操作系统进程中。服务之间通过网络调用，而非采取进程内调用的方式进行通讯。

3. **JavaME**

	JavaME（Java Platform Micro Edition，Java 平台微型版）以前称为 J2ME，也叫 K-JAVA。JavaME 为在移动设备和嵌入式设备（比如手机、PDA、电视机顶盒和打印机）上运行的应用程序提供一个健壮且灵活的的环境。

<br>

### 1.1.2、Java语言的特点

Java 语言的风格很像 C 语言和 C++ 语言，是一种纯粹的面向对象语言，它继承 了C++ 语言面向对象的技术核心，但是抛弃了 C++ 的一些缺点，比如说容易引起错误的指针以及多继承等，同时也增加了垃圾回收机制，释放掉不被使用的内存空间，解决了管理内存空间的烦恼。

Java 语言是一种分布式的面向对象语言，具有面向对象、平台无关性、简单性、解释执行、多线程、安全性等很多特点。

1. **面向对象**

	Java 是一种面向对象语言，它对对象中的类、对象、继承、封装、多态、接口、包等均有很好的支持。为了简单起见，Java 只支持类之间的单继承，但是可以使用接口来实现多继承。

2. **平台无关性**
	平台无关性的具体表现在于，Java 是 “一次编写，到处运行（Write Once，Run any Where）” 的语言，因此采用 Java 语言编写的程序具有很好的可移植性，而保证这一点的正是 Java 虚拟机机制。在引入虚拟机之后，Java 语言在不同的平台上运行不需要重新编译。

3. **简单性**

	Java 语言的语法与 C 语言和 C++ 语言很相近，使得很多程序员学起来很容易。对 Java 来说，它舍弃了很多 C++ 中难以理解的特性，如操作符的重载和多继承等，而且 Java 语言不使用指针，加入了垃圾回收机制，解决了程序员需要管理内存的问题，使编程变得更加简单。

4. **解释执行**

	Java 程序在 Java 平台运行时会被编译成字节码文件，之后便可以在有 Java 环境的操作系统上运行。在运行文件时，Java 的解释器对这些字节码进行解释执行，执行过程中需要加入的类在连接阶段被载入到运行环境中。

5. **多线程**

	Java 语言是多线程的，这也是 Java 语言的一大特性，它必须由 Thread 类和它的子类来创建，Java 支持多个线程同时执行，并提供多线程之间的同步机制。任何一个线程都有自己的 `run()` 方法，要执行的方法就写在 `run()` 方法体内。

6. **分布式**

	Java 语言支持 Internet 应用的开发，在 Java 的基本应用程序接口中就有一个网络应用程序接口，它提供了网络应用编程的类库，包括 URL、URLConnection、Socket 等。Java 的 RIM 机制也是开发分布式应用的重要手段。

7. **健壮性**

	Java 的强类型机制、异常处理、垃圾回收机制等都是 Java 强壮性的重要保证。对指针的丢弃是 Java 的一大进步。另外，Java 的异常处理机制也是健壮性的一大体现。

8. **高性能**

	Java 的高性能主要是相对其他高级脚本语言来说的，随着 JIT（Just in Time）的发展，Java 的运行速度越来越快。

9. **安全性**

	Java 通常被用在网络环境中，为此，Java 提供了一个安全机制以防止恶意代码的攻击。除了 Java 语言具有许多的安全特性以外，Java 还对通过网络下载的类增加了一个安全防范机制，分配不同的名称空间以防代替本地的同名类，并包含安全管理机制。

<br>

##  1.2、JDK的下载与安装

JDK（Java Development Kit，Java 开发工具包）是一种用于构建在 Java 平台上发布的应用程序、Applet 和组件的开发环境，即编写 Java 程序必须使用 JDK，它提供了编译和运行 Java 程序的环境。

下载安装步骤：

1. 在浏览器输入www.oracle.com，打开 Oracle 公司的官方网站：

<img src="../Images/JavaBasics/image-20200422004026006.png" alt="image-20200422004026006" style="zoom: 50%;" />

2. 找到下载：

	<img src="../Images/JavaBasics/image-20200422004245571.png" alt="image-20200422004245571" style="zoom: 67%;" />

3. 选择 Java：

	<img src="../Images/JavaBasics/image-20200422004518386.png" alt="image-20200422004518386" style="zoom:50%;" />

4. 选择 JDK：

	<img src="../Images/JavaBasics/image-20200422004642820.png" alt="image-20200422004642820" style="zoom:50%;" />

5. 下载 1.8 版本：

	<img src="../Images/JavaBasics/image-20200422004732694.png" alt="image-20200422004732694" style="zoom: 67%;" />

6. 选择自己需要的版本：

	<img src="../Images/JavaBasics/image-20200422004854336.png" alt="image-20200422004854336" style="zoom:50%;" />

7. 同意协议，开始下载：

	<img src="../Images/JavaBasics/image-20200422005006331.png" alt="image-20200422005006331" style="zoom:50%;" />

8. 下载完成后运行 exe 执行文件，开始安装，一共会安装两次，第一次是安装 JDK，第二次是安装 JRE（Java Runtime Environment，Java 运行环境）。

<br>

安装完成后，在安装位置打开 JDK 的文件夹，内容如下：

<img src="../Images/JavaBasics/image-20200422010111529.png" alt="image-20200422010111529" style="zoom:67%;" />

- bin：提供 JDK 工具程序，包括 javac、java、Javadoc、appletviewer 等可执行程序。
- include：存放用于本地访问的文件。
- jre：存放 Java 运行环境的文件。
- lib：存放 Java 的类库文件，工具程序实际上使用的是 Java 类库。JDK 中的工具程序，大多数也由 Java 编写而成。
- src.zip：Java 提供的 API 类的源代码压缩文件。如果需要查看 API 的某些功能是如何实现的，可以查看这个文件中的源代码内容。

<br>

## 1.3、JDK 环境变量配置

环境变量（environment variables）一般是指在操作系统中用来指定操作系统运行环境的一些参数，如：临时文件夹位置和系统文件夹位置等。

环境变量是在操作系统中一个具有特定名字的对象，它包含了一个或者多个应用程序所将使用到的信息。例如 Windows 和 DOS 操作系统中的 path 环境变量，当要求系统运行一个程序而没有告诉它程序所在的完整路径时，系统除了在当前目录下面寻找此程序外，还应到 path 中指定的路径去找。用户通过设置环境变量，来更好的运行进程。

1. 按 `Win+Pause` 打开系统属性，点击左边导航栏的高级系统设置，选择环境变量。

2. 新建环境变量 `JAVA_HOME`，在变量值中输入 JDK 的路径，保存。

3. 新建环境变量 `JRE_HOME`，在变量值中输入 JRE 的路径，保存。

4. 双击 Path 环境变量，新建两个条目 `%JAVA_HOME%\bin`、`%JRE_HOME%\bin`。

5. 一路确定！最后打开 Windows 控制台，输入 `java -version`：

	![image-20220114103712647](../Images/JavaBasics/image-20220114103712647.png)

	出现 Java 版本即表示环境配置成功！

<br>

## 1.4、程序运行过程分析

Java 程序的运行必须经过编写、编译和运行 3 个步骤。

1. **编写**：是指在 Java 开发环境中进行程序代码的输入，最终形成后缀名为 `.java` 的 Java 源文件。
2. **编译**：是指使用 Java 编译器对源文件进行错误排査的过程，编译后将生成后缀名为 `.class` 的字节码文件，不像 C 语言那样生成可执行文件。
3. **运行**：是指使用 Java 解释器将字节码文件翻译成机器代码，执行并显示结果。

<img src="../Images/JavaBasics/5-1ZZ41409331Y.png" alt="Java程序运行流程" style="zoom:80%;" />

字节码文件是一种和任何具体机器环境及操作系统环境无关的中间代码。它是一种二进制文件，是 Java 源文件由 Java 编译器编译后生成的目标代码文件。编程人员和计算机都无法直接读懂字节码文件，它必须由专用的 Java 解释器来解释执行，因此 Java 是一种在编译基础上进行解释运行的语言。

Java 解释器负责将字节码文件翻译成具体硬件环境和操作系统平台下的机器代码，以便执行。

执行过程分为三步：**代码的装入**、**代码的检验**和**代码的执行**。类加载器（ClassLoader）负责加载装入运行一个程序所需要的所有代码，这也包括程序代码中的类所继承的类和被其调用的类。当类装载器装入一个类时，该类被放在自己的名称空间中。除了通过符号引用自己名称空间以外的类，类之间没有其他办法可以影响其他类。在本台计算机上的所有类都在同一地址空间内，而所有从外部引进的类，都有一个自己独立的名称空间。这使得本地类通过共享相同的名称空间获得较高的运行效率，同时又保证它们与从外部引进的类不会相互影响。当装入了运行程序需要的所有类后，解释器便可确定整个可执行程序的内存布局。解释器为符号引用同特定的地址空间建立对应关系及查询表。通过在这一阶段确定代码的内存布局，Java 很好地解决了由超类改变而使子类崩溃的问题，同时也防止了代码对地址的非法访问。

随后，被装入的代码由字节码检验器进行检查，检验器可以检查出操作数栈溢出，非法数据类型等多种错误。通过校验后，代码就开始执行了。

Java 虚拟机（JVM）是运行 Java 程序的软件环境，Java 解释器是 Java 虚拟机的一部分。因此 Java 程序不能直接运行在现有的操作系统平台上，它必须运行在被称为 Java 虚拟机的软件平台之上。

在运行 Java 程序时，首先会启动 JVM，然后由它来负责解释执行 Java 的字节码程序，并且 Java 字节码程序只能运行于 JVM 之上。这样利用 JVM 就可以把 Java 字节码程序和具体的硬件平台以及操作系统环境分隔开来，只要在不同的计算机上安装了针对特定平台的 JVM，Java 程序就可以运行，而不用考虑当前具体的硬件平台及操作系统环境，也不用考虑字节码文件是在何种平台上生成的。

JVM 把这种不同软、硬件平台的具体差别隐藏起来，从而实现了真正的二进制代码级的跨平台移植。JVM 是 Java 平台架构的基础，Java 的跨平台特性正是通过在 JVM 中运行 Java 程序实现的。Java 的这种运行机制可以通过下图来说明。

<img src="../Images/JavaBasics/5-1ZZ4140944b0.png" alt="JVM工作方式" style="zoom:80%;" />

Java 语言这种 “一次编写，到处运行” 的方式，有效地解决了目前大多数高级程序设计语言需要针对不同系统来编译产生不同机器代码的问题，即硬件环境和操作平台的异构问题，大大降低了程序开发、维护和管理的开销。

> 提示：Java 程序通过 JVM 可以实现跨平台特性，但 JVM 是不跨平台的。也就是说，不同操作系统之上的 JVM 是不同的，Windows 平台之上的 JVM 不能用在 Linux 平台，反之亦然。

<br>

## 1.5、JVM、JRE 和 JDK 的关系

Java 语言的开发运行，离不开 Java 语言的运行环境 JRE。没有 JRE 的支持，Java 语言便无法运行。当然，如果还想编译 Java 程序，搞搞小开发的话，JRE 是明显不够了，这时候就需要 JDK。

其实啊，JDK 就是 JRE 加上一些常用工具组成的。JDK 不仅能运行已经被编译好了的 Java 程序，还能支持我们编译 Java 程序（ JDK=JER+各种工具）。

<img src="../Images/JavaBasics/5-1ZZ3131133G3.jpg" alt="img" style="zoom:80%;" />

- JDK（Java Development Kid，Java 开发	工具包），是针对 Java 开发人员的产品，是整个 Java 的核心，包括了 Java 运行环境 JRE、Java 工具和 Java 基础类库。
- JRE（Java Runtime Environment，Java 运行时环境）是运行 JAVA 程序所必须的环境的集合，包含 JVM 标准实现及 Java 核心类库。
- JVM（Java Virtual Machine，Java 虚拟机）是整个 Java 实现跨平台的最核心的部分，能够运行以 Java 语言写作的软件程序。

<br>

# 2、程序设计基础

## 2.1、常量的定义和分类

### 2.1.1、常量值

常量值又称为字面常量，它是通过数据直接表示的，因此有很多种数据类型，像整型和字符串型等。

<br>

**整型常量值**

Java 的整型常量值主要有如下 3 种形式。

- 十进制数形式：如 `54`、`-67`、`0`。
- 八进制数形式：Java 中的八进制常数的表示以 `0` 开头，如 `0125` 表示十进制数 `85`，`-013` 表示十进制数 `-11`。
- 十六进制数形式：Java 中的十六进制常数的表示以 `0x` 或 `0X` 开头，如 `0x100` 表示十进制数 `256`，`-0x16` 表示十进制数 `-22`。

整型（int）常量默认在内存中占 32 位，是具有整数类型的值，当运算过程中所需值超过 32 位长度时，可以把它表示为长整型（long）数值。长整型类型则要在数字后面加 `L` 或 `1`， 如 `697L`，表示一个长整型数，它在内存中占 64 位。

<br>

**实型常量值**

实型常量又称实数或浮点数，Java 的实型常量值主要有如下两种形式。

- 十进制数形式：由数字和小数点组成，且必须有小数点，如 `12.34`、`-98.0`。
- 科学记数法形式：如 `1.75e5` 或 `32&E3`，其中 `e` 或 `E` 之前必须有数字，且 `e` 或 `E` 之后的数字必须为整数。

Java 实型常量默认在内存中占 64 位，是具有双精度型（double）的值。如果考虑到需要节省运行时的系统资源，而运算时的数据值取值范围并不大且运算精度要求不太高的情况，可以把它表示为单精度型（float）的数值。

单精度型数值一般要在该常数后面加 `F` 或 `f`，如 `69.7f`，表示一个 float 型实数，它在内存中占 32 位（取决于系统的版本高低）。

<br>

**布尔型常量**

Java 的布尔型常量只有两个值，即 `false`（假）和 `true`（真）。

<br>

**字符型和字符串常量值**

Java 的字符型常量值是用单引号引起来的一个字符，如 `'e'`、`'E'`。需要注意的是，Java 字符串常量值中的单引号和双引号不可混用。双引号用来表示字符串，像 `"11"`、`"d"` 等都是表示单个字符的字符串。

除了以上所述形式的字符常量值之外，Java 还允许使用一种特殊形式的字符常量值来表示一些难以用一般字符表示的字符，这种特殊形式的字符是以 `\` 开头的字符序列，称为转义字符。

> 注意：这里表示字符和字符串的单引号和双引号都必须是英语输入环境下输入的符号。

| 转义字符 | 说明                         |
| -------- | ---------------------------- |
| `\ddd`   | 1~3 位八进制数所表示的字符   |
| `\uxxxx` | 1~4 位十六进制数所表示的字符 |
| `\'`     | 单引号字符                   |
| `\"`     | 双引号字符                   |
| `\\`     | 反斜杠字符                   |
| `\r`     | 回车                         |
| `\n`     | 换行                         |
| `\b`     | 退格                         |
| `\t`     | 制表符                       |

<br>

### 2.1.2、定义常量

Java 语言使用 `final` 关键字来定义一个常量，其语法如下所示：

```java
final dataType variableName = value
```

其中，`final` 是定义常量的关键字，*dataType* 指明常量的数据类型，*variableName* 是变量的名称，*value* 是初始值。

`final` 关键字表示最终的，它可以修改很多元素，修饰变量就变成了常量。例如，以下语句使用 `final` 关键字声明常量。

```java
public class HelloWorld {
    // 静态常量
    public static final double PI = 3.14;
    // 声明成员常量
    final int y = 10;

    public static void main(String[] args) {
        // 声明局部常量
        final double x = 3.3;
    }
}
```

常量有三种类型：静态常量、成员常量和局部常量。

代码第 3 行的是声明静态常量，使用在 `final` 之前 `public static` 修饰。`public static` 修饰的常量作用域是全局的，不需要创建对象就可以访问它，在类外部访问形式为 `HelloWorld. PI`。这种常量在编程中使用很多。

代码第 5 行声明成员常量，作用域类似于成员变量，但不能修改。代码第 9 行声明局部常量，作用域类似于局部变量，但不能修改。

在定义常量时，需要注意如下内容：

- 在定义常量时就需要对该常量进行初始化。
- `final` 关键字不仅可以用来修饰基本数据类型的常量，还可以用来修饰对象的引用或者方法。
- 为了与变量区别，常量取名一般都用大写字符。

当常量被设定后，一般情况下不允许再进行更改，如果更改其值将提示错误。

<br>

## 2.2、数据类型

Java 语言支持的数据类型分为两种：基本数据类型（Primitive Type）和引用数据类型（Reference Type）。

<br>

### 2.2.1、基本数据类型

基本数据类型包括 `boolean`（布尔型）、`float`（单精度浮点型）、`char`（字符型）、`byte`（字节型）、`short`（短整型）、`int`（整型）、`long`（长整型）和 `double` （双精度浮点型）共 8 种。

| **类型名称** | **关键字** | **占用内存** | **取值范围**                |
| ------------ | ---------- | ------------ | --------------------------- |
| 字节型       | `byte`     | 1 字节       | -2^7^ ~ 2^7-1^              |
| 短整型       | `short`    | 2 字节       | -2^15^ ~ 2^15-1^            |
| 整型         | `int`      | 4 字节       | -2^31^ ~ 2^31-1^            |
| 长整型       | `long`     | 8 字节       | -2^63^ ~ 2^63-1^            |
| 单精度浮点型 | `float`    | 4 字节       | +/-3.4E+38F（6~7 个有效位） |
| 双精度浮点型 | `double`   | 8 字节       | +/-1.8E+308 (15 个有效位）  |
| 字符型       | `char`     | 2 字节       | ISO 单一字符集              |
| 布尔型       | `boolean`  | 1 字节       | true 或 false               |

提示：char 代表字符型，实际上字符型也是一种整数类型，相当于无符号整数类型。

所有的基本数据类型的大小（所占用的字节数）都已明确规定，在各种不同的平台上保持不变，这一特性有助于提高 Java 程序的可移植性。

<img src="../Images/JavaBasics/5-1ZZZ91512493.jpg" alt="Java数据类型结构图" style="zoom:80%;" />

Java 是一种强制类型的语言，所有的变量都必须先明确定义其数据类型，然后才能使用。Java 中所有的变量、表达式和值都必须有自己的类型，没有“无类型”变量这样的概念。

==基本数据类型又可分为 4 大类，即整数类型（包括 byte、short，int 和 long）、浮点类型（包括 float 和 double）、布尔类型和字符类型（char），==下面分别介绍这 4 大类数据类型。

---

**整数类型**

==Java 定义了 4 种整数类型变量：字节型（byte）、短整型（short）、整型（int）和长整型（long）。==这些都是有符号的值，正数或负数。

| **名称**        | **说明**                                                     |
| --------------- | ------------------------------------------------------------ |
| 字节型（byte）  | byte 类型是最小的整数类型。当用户从网络或文件中处理数据流时，或者处理可能与 Java 的其他内置类型不直接兼容的未加工的二进制数据时，该类型非常有用。 |
| 短整型（short） | short 类型限制数据的存储为先高字节，后低字节，这样在某些机器中会出错，因此该类型很少被使用。 |
| 整型（int）     | int 类型是最常使用的一种整数类型。                           |
| 长整型（long）  | 对于大型程序常会遇到很大的整数，当超出 int 类型所表示的范围时就要使用 long 类型。 |

提示：因为 byte 类型、short 类型、int 类型和 long 类型都是整数类型，故可以使用“+”相加，而非字符串之间的连接。

---

**浮点类型**

浮点类型是带有小数部分的数据类型，也叫实型。==浮点型数据包括单精度浮点型（float）和双精度浮点型（double），代表有小数精度要求的数字。==

单精度浮点型（float）和双精度浮点型（double）之间的区别主要是所占用的内存大小不同，float 类型占用 4 字节的内存空间，double 类型占用 8 字节的内存空间。双精度类型 double 比单精度类型 float 具有更高的精度和更大的表示范围。

Java 默认的浮点型为 double，例如，11.11 和 1.2345 都是 double 型数值。如果要说明一个 float 类型数值，就需要在其后追加字母 f 或 F，如 11.11f 和 1.2345F 都是 float 类型的常数。

==注意：一个值要能被真正看作 float，它必须以 f（或 F）后缓结束；否则，会被当作 double 值。对 double 值来说，d（或 D）后缓是可选的。==

---

**布尔类型**

布尔类型（boolean）用于对两个数值通过逻辑运算，判断结果是“真”还是“假”。Java 中用保留字 true 和 false 来代表逻辑运算中的“真”和“假”。因此，一个 boolean 类型的变量或表达式只能是取 true 和 false 这两个值中的一个。

==在 Java 语言中，布尔类型的值不能转换成任何数据类型，true 常量不等于 1，而 false 常量也不等于 0。这两个值只能赋给声明为 boolean 类型的变量，或者用于布尔运算表达式中。==

---

**字符类型**

ava 语言中的字符类型（char）使用两个字节的 Unicode 编码表示，它支持世界上所有语言，可以使用单引号字符或者整数对 char 型赋值。

一般计算机语言使用 ASCII 编码，用一个字节表示一个字符。ASCII 码是 Unicode 码的一个子集，用 Unicode 表示 ASCII 码时，其高字节为 0，它是其前 255 个字符。

Unicode 字符通常用十六进制表示。例如“\u0000”~“\u00ff”表示 ASCII 码集。“\u”表示转义字符，它用来表示其后 4 个十六进制数字是 Unicode 码。



### 2.2.2、引用数据类型

引用数据类型建立在基本数据类型的基础上，包括数组、类和接口。引用数据类型是由用户自定义，用来限制其他数据的类型。另外，Java 语言中不支持C++中的指针类型、结构类型、联合类型和枚举类型。

引用类型还有一种特殊的 null 类型。所谓引用数据类型就是对一个对象的引用，对象包括实例和数组两种。实际上，引用类型变量就是一个指针，只是 Java 语言里不再使用指针这个说法。

空类型（null type）就是 null 值的类型，这种类型没有名称。因为 null 类型没有名称，所以不可能声明一个 null 类型的变量或者转换到 null 类型。

空引用（null）是 null 类型变量唯一的值。空引用（null）可以转换为任何引用类型。

在实际开发中，程序员可以忽略 null 类型，假定 null 只是引用类型的一个特殊直接量。

注意：空引用（null）只能被转换成引用类型，不能转换成基本类型，因此不要把一个 null 值赋给基本数据类型的变量。



## 2.3、运算符优先级

| **类别** | **操作符**                       | **关联性** |
| -------- | -------------------------------- | ---------- |
| 后缀     | () [] . (点操作符)               | 左到右     |
| 一元     | ++ -- + - ～ ！                  | 右到左     |
| 乘性     | * / ％                           | 左到右     |
| 加性     | \+ -                             | 左到右     |
| 移位     | >> >>>  <<                       | 左到右     |
| 关系     | > >= < <=                        | 左到右     |
| 相等     | == !=                            | 左到右     |
| 按位与   | ＆                               | 左到右     |
| 按位异或 | ^                                | 左到右     |
| 按位或   | \|                               | 左到右     |
| 短路与   | &&                               | 左到右     |
| 短路或   | \|\|                             | 左到右     |
| 条件     | ？：                             | 右到左     |
| 赋值     | = += -= *= /= ％= >>= <<= ＆= ^= | 右到左     |
| 逗号     | ，                               | 左到右     |



## 2.4、== 和 euqals

== 是 Java 中的一个运算符，而 equals 是 Java 中的一个方法。

---

**== 解读**

对于基本类型和引用类型 == 和作用效果是不同的，如下所示：

- 基本类型：比较两者之间的值是否相同；
- 引用类型：比较两者的引用是否相同（变量所指的内存空间的地址是否相同）。

```java
String x = "string";
String y = "string";
String z = new String("string");
System.out.println(x==y); // true
System.out.println(x==z); // false
System.out.println(x.equals(y)); // true
System.out.println(x.equals(z)); // true
```

代码解读：因为 x 和 y 指向的是同一个引用（提示：常量池），所以 == 也是 true，而 new String()方法则重写开辟了内存空间，所以 == 结果为 false，而 equals 比较的一直是值，所以结果都为 true。

---

**equals 解读**

equals 的本质上就是 ==，只不过 String，Integer 等引用类型重写了 equals() 方法，将其变成了值比较。

```java
class Cat {
    public Cat(String name) {
        this.name = name;
    }

    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}

Cat c1 = new Cat("王磊");
Cat c2 = new Cat("王磊");
System.out.println(c1.equals(c2)); // false
```

为什么是 false ？，Object 的 equals() 方法源码如下：

```java
public boolean equals(Object obj) {
    return (this == obj);
}
```

原来 equals 的本质就是 ==。

```java
String s1 = new String("老王");
String s2 = new String("老王");
System.out.println(s1.equals(s2)); // true
```

为什么是 true ？String 的 equals() 方法的源码如下：

```java
public boolean equals(Object anObject) {
    if (this == anObject) {
        return true;
    }
    if (anObject instanceof String) {
        String aString = (String)anObject;
        if (coder() == aString.coder()) {
            return isLatin1() ? StringLatin1.equals(value, aString.value)
                : StringUTF16.equals(value, aString.value);
        }
    }
    return false;
}
```

String 重写了 equals() 方法，当参数类型是 String 时，将引用比较改成了值比较。

**总结** ：== 对于基本类型来说是值比较，对于引用类型来说是比较的是引用；而 equals 默认情况下是引用比较，只是很多类重新了 equals 方法，比如 String、Integer 等把它变成了值比较，所以一般情况下 equals 比较的是值是否相等。

