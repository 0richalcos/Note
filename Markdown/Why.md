# 【1】POJO、PO、BO、VO 是什么？

POJO ：plain ordinary java object 无规则简单java对象

一个中间对象，可以转化为PO、DTO、VO。

1. POJO持久化之后==〉PO

	> 在运行期，由 Hibernate 中的 cglib 动态把 POJO 转换为 PO，PO 相对于 POJO 会增加一些用来管理数据库 entity 状态的属性和方法。PO 对于programmer 来说完全透明，由于是运行期生成 PO，所以可以支持增量编译，增量调试。

2. POJO传输过程中==〉DTO

3. POJO用作表示层==〉VO



PO：persistent object 持久对象

1. 有时也被称为 Data 对象，对应数据库中的 entity，可以简单认为一个 PO 对应数据库中的一条记录。
2. 在 hibernate 持久化框架中与 insert/delet 操作密切相关。
3. PO 中不应该包含任何对数据库的操作。



BO：business object 业务对象

业务对象主要作用是把业务逻辑封装为一个对象。这个对象可以包括一个或多个其它的对象。

比如一个简历，有教育经历、工作经历、社会关系等等。我们可以把教育经历对应一个 PO，工作经历对应一个 PO，社会关系对应一个 PO。

建立一个对应简历的 BO 对象处理简历，每个 BO 包含这些 PO。

这样处理业务逻辑时，我们就可以针对 BO 去处理。

封装业务逻辑为一个对象（可以包括多个 PO，通常需要将 BO 转化成 PO，才能进行数据的持久化，反之，从DB中得到的 PO，需要转化成 BO 才能在业务层使用）。

关于BO主要有三种概念

1. 只包含业务对象的属性；
2. 只包含业务方法；
3. 两者都包含。

在实际使用中，认为哪一种概念正确并不重要，关键是实际应用中适合自己项目的需要。



VO：value object 值对象  / view object 表现层对象

1. 主要对应页面显示（web页面/swt、swing界面）的数据对象。
2. 可以和表对应，也可以不，这根据业务的需要。



DTO（TO）：Data Transfer Object 数据传输对象

1. 用在需要跨进程或远程传输时，它不应该包含业务逻辑。
2. 比如一张表有100个字段，那么对应的 PO 就有100个属性（大多数情况下，DTO 内的数据来自多个表）。但 view 层只需显示 10 个字段，没有必要把整个 PO 对象传递到 client，这时我们就可以用只有这10个属性的 DTO 来传输数据到 client，这样也不会暴露 server 端表结构。到达客户端以后，如果用这个对象来对应界面显示，那此时它的身份就转为 VO。



DAO：data access object 数据访问对象

1. 主要用来封装对DB的访问（CRUD操作）。
2. 通过接收Business层的数据，把 POJO 持久化为 PO。

简单的关系图：

<div align="center">
    <img src="../Images/Why/20180717104224284" alt="这里写图片描述" style="width:50%"/>
</div>



# 【2】下载文件时，为什么要使用URLEncoder编码名称

```java
URLEncoder.encode(filename, "UTF-8")
```

因为下载文件的名称是通过url传到客户端的，url对格式的要求非常严格，具体如下

字母数字字符 “a” 到 “z”、”A” 到 “Z” 和 “0” 到 “9” **保持不变**。
特殊字符 “.”、”-“、”*” 和 “_” **保持不变**。
空格字符 ” ” **转换**为一个加号 “+”。

除了上述三种字符，其他所有其他字符都是不安全的，因此首先使用一些编码机制将它们转换为一个或多个字节。然后每个字节用一个包含 3 个字符的字符串 “%xy” 表示，其中 xy 为该字节的两位十六进制表示形式。推荐的编码机制是 UTF-8。但是，出于兼容性考虑，如果未指定一种编码，则使用相应平台的默认编码。

这就是为什么要有URLEncoder这样的工具类了，因为中文是三种安全字符之外的字符，不允许传输。你要是直接传输，那么url就屏蔽掉，所以你必须转码

